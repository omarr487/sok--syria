<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„</title>
    
    <style>
        /* Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª */
        :root { 
            --primary: #ff9900; 
            --primary-light: #fff5e6;
            --dark: #1a1a1a; 
            --light: #f0f2f5; 
            --success: #2ecc71;
            --danger: #e74c3c;
            --blue: #3498db;
            --purple: #9b59b6;
            --admin: #9b59b6;
            --owner: #e74c3c;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            margin: 0; 
            background: var(--light); 
            direction: rtl; 
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header { 
            background: var(--dark); 
            color: white; 
            padding: 15px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
        }
        .header-logo { 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            cursor: pointer; 
        }
        .header-logo-s { 
            background: var(--primary); 
            padding: 5px 12px; 
            border-radius: 8px; 
            font-weight: 900; 
            font-size: 22px; 
            color: white; 
        }
        .header-logo-txt { 
            font-size: 24px; 
            font-weight: bold; 
            color: var(--primary); 
        }
        .btn { 
            background: var(--primary); 
            color: white; 
            border: none; 
            padding: 12px 25px; 
            border-radius: 12px; 
            font-weight: bold; 
            cursor: pointer; 
        }
        .btn:hover { 
            background: #e68900; 
        }

        /* ğŸ”¥ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø¯ÙˆØ§Ø± */
        .btn-owner {
            background: var(--owner);
        }
        .btn-admin {
            background: var(--admin);
        }
        .btn-user {
            background: var(--blue);
        }

        /* ============ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ============ */
        .ad-premium {
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            border-radius: 15px;
            padding: 15px;
            margin: 15px 5%;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .ad-premium::before {
            content: "ğŸ’° Ø¥Ø¹Ù„Ø§Ù†";
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 8px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .ad-premium-blue {
            background: linear-gradient(135deg, var(--blue), #2980b9);
        }
        
        .ad-premium-green {
            background: linear-gradient(135deg, var(--success), #27ae60);
        }
        
        .ad-premium-purple {
            background: linear-gradient(135deg, var(--purple), #8e44ad);
        }
        
        .ad-premium-red {
            background: linear-gradient(135deg, var(--danger), #c0392b);
        }
        
        .ad-small {
            padding: 10px;
            margin: 10px 0;
            font-size: 14px;
        }
        
        .ad-medium {
            padding: 12px;
            margin: 12px 0;
            font-size: 15px;
        }

        /* Ø§Ù„Ø¨Ø­Ø« */
        .search-area { 
            padding: 15px 5%; 
            background: white; 
            border-bottom: 1px solid #eee; 
            display: flex; 
            gap: 10px; 
            justify-content: center; 
            flex-wrap: wrap;
        }
        .search-input { 
            width: 100%; 
            max-width: 500px; 
            padding: 12px; 
            border: 2px solid #eee; 
            border-radius: 10px; 
            outline: none; 
            font-size: 16px; 
        }

        /* Ø§Ù„ÙØ¦Ø§Øª */
        .categories-menu {
            background: white;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 5%;
            display: none;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .category-tag {
            background: #f0f0f0;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
        }
        .category-tag:hover, .category-tag.active {
            background: var(--primary);
            color: white;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
        .container { 
            padding: 20px 5%; 
        }
        .ads-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
            gap: 20px; 
        }
        .ad-card { 
            background: white; 
            border-radius: 15px; 
            padding: 15px; 
            box-shadow: 0 3px 10px rgba(0,0,0,0.1); 
            cursor: pointer; 
            position: relative;
            border: 1px solid #eee;
        }
        .card-img-box { 
            height: 180px; 
            background: #f8f8f8; 
            border-radius: 10px; 
            overflow: hidden; 
            margin-bottom: 10px; 
        }
        .card-img-box img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }
        .condition-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
        }
        .ad-price {
            color: var(--primary);
            font-weight: bold;
            font-size: 18px;
            margin: 5px 0;
        }
        .ad-title {
            font-size: 16px;
            margin: 5px 0;
        }
        
        /* Ø²Ø± Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ */
        .btn-request {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            margin-top: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-request:hover {
            background: #e68900;
        }

        /* ============ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø±ÙØ¹ ============ */
        #upload-modal { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.8); 
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 6000; 
        }
        .modal-body { 
            background: white; 
            width: 90%; 
            max-width: 500px; 
            padding: 20px; 
            border-radius: 15px; 
            position: relative; 
            margin: 20px;
            max-height: 90vh;
            overflow-y: auto;
        }
        .close-x { 
            position: absolute; 
            left: 15px; 
            top: 15px; 
            font-size: 24px; 
            cursor: pointer; 
            background: #eee; 
            width: 35px; 
            height: 35px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ø±ÙØ¹ */
        .upload-section {
            margin-bottom: 25px;
            padding: 0;
            background: transparent;
            border-radius: 15px;
            border: 2px solid var(--primary);
            overflow: hidden;
        }
        
        .upload-section-header {
            background: var(--primary-light);
            padding: 15px;
            border-bottom: 2px solid var(--primary);
        }
        
        .section-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--dark);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-subtitle {
            color: #666;
            font-size: 14px;
            margin: 0;
        }
        
        .upload-section-content {
            padding: 15px;
            background: white;
        }
        
        /* Ø²Ø± Ø§Ù„Ø±ÙØ¹ */
        .upload-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary);
            color: white !important;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px 0;
            border: none;
            font-weight: bold;
        }
        
        /* Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± */
        .gallery-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            min-height: 50px;
            padding: 15px;
            background: var(--primary-light);
            border-radius: 10px;
            border: 2px dashed rgba(255, 153, 0, 0.3);
        }
        
        .gallery-item {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            border: 3px solid var(--primary);
            background: white;
        }
        
        .gallery-item.video {
            border-color: var(--blue);
        }
        
        .remove-media {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--danger);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Ø§Ù„ÙÙˆØ±Ù… */
        .form-g { margin-bottom: 15px; }
        .form-g label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-g input, .form-g select, .form-g textarea { 
            width: 100%; 
            padding: 10px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            box-sizing: border-box; 
        }

        /* ============ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ============ */
        #product-layer { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: white; 
            display: none; 
            z-index: 4000; 
            overflow-y: auto; 
        }
        .nav-back { 
            padding: 15px; 
            font-size: 18px; 
            font-weight: bold; 
            cursor: pointer; 
            color: var(--primary); 
            background: #f5f5f5;
            border-bottom: 1px solid #eee;
        }
        .product-container { 
            width: 100%; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        /* ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .product-main-section {
            display: flex;
            gap: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .product-images-section {
            flex: 1;
            min-width: 300px;
        }
        
        .product-info-section {
            flex: 1;
            min-width: 300px;
        }
        
        .main-image-container {
            width: 100%;
            height: 400px;
            background: #f8f8f8;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #eee;
        }
        
        .main-image-container img, .main-image-container video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .thumbnails-gallery {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .thumbnail-item {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid #eee;
            flex-shrink: 0;
        }
        
        .thumbnail-item.active {
            border-color: var(--primary);
        }
        
        .thumbnail-item img, .thumbnail-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-title {
            font-size: 28px;
            margin: 0 0 15px 0;
            color: var(--dark);
            font-weight: bold;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #666;
        }
        
        .rating-stars {
            color: #ffc107;
            font-size: 18px;
        }
        
        .product-price {
            color: var(--primary);
            font-size: 32px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .product-specs {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .spec-item:last-child {
            border-bottom: none;
        }
        
        .spec-label {
            color: #666;
        }
        
        .spec-value {
            font-weight: bold;
            color: var(--dark);
        }
        
        .product-description {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            line-height: 1.6;
        }
        
        .seller-info-card {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .seller-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .seller-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
        }
        
        .seller-details {
            flex: 1;
        }
        
        .seller-name {
            font-weight: bold;
            font-size: 18px;
        }
        
        .seller-city {
            color: #666;
            font-size: 14px;
        }
        
        .product-actions {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª */
        .recommendations-section {
            margin-top: 50px;
            border-top: 2px solid #eee;
            padding-top: 30px;
        }
        
        .section-title-large {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 25px;
            color: var(--dark);
            text-align: center;
        }
        
        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .recommendation-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            border: 1px solid #eee;
            transition: transform 0.3s;
        }
        
        .recommendation-card:hover {
            transform: translateY(-5px);
        }
        
        .recommendation-img {
            width: 100%;
            height: 160px;
            background: #f8f8f8;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .recommendation-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .recommendation-title {
            font-size: 15px;
            margin: 5px 0;
            height: 40px;
            overflow: hidden;
        }
        
        .recommendation-price {
            color: var(--primary);
            font-weight: bold;
            font-size: 16px;
            margin: 5px 0;
        }

        /* ============ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ============ */
        #chat-layer { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: white; 
            display: none; 
            flex-direction: column; 
            z-index: 7000; 
        }
        .chat-header { 
            padding: 15px; 
            background: var(--dark); 
            color: white; 
            display: flex; 
            align-items: center; 
            gap: 15px; 
        }
        .chat-messages { 
            flex: 1; 
            padding: 15px; 
            overflow-y: auto; 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            background: #f4f4f4; 
        }
        .msg { 
            max-width: 80%; 
            padding: 10px 15px; 
            border-radius: 10px; 
            font-size: 14px; 
        }
        .msg.sent { 
            align-self: flex-end; 
            background: var(--primary); 
            color: white; 
        }
        .msg.received { 
            align-self: flex-start; 
            background: white; 
        }
        .chat-input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        .chat-input-area input {
            flex: 1;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 8px;
        }
        .chat-input-area button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 8px;
            cursor: pointer;
        }

        /* ============ ğŸ”¥ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ============ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(255, 153, 0, 0.3);
            z-index: 10000;
            display: none;
            animation: slideIn 0.4s ease;
            max-width: 350px;
            font-weight: 500;
            border: none;
            font-size: 15px;
            text-align: right;
        }
        
        .notification::before {
            content: "ğŸ””";
            margin-left: 10px;
            font-size: 18px;
        }
        
        @keyframes slideIn {
            from { 
                right: -400px; 
                opacity: 0; 
                transform: translateY(-20px);
            }
            to { 
                right: 20px; 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        
        @keyframes slideOut {
            from { 
                right: 20px; 
                opacity: 1; 
            }
            to { 
                right: -400px; 
                opacity: 0; 
            }
        }
        
        .notification.warning {
            background: linear-gradient(135deg, #ffa726, #ff9800);
            box-shadow: 0 5px 20px rgba(255, 167, 38, 0.3);
        }
        
        .notification.success {
            background: linear-gradient(135deg, #66bb6a, #4caf50);
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.3);
        }
        
        .notification.info {
            background: linear-gradient(135deg, #42a5f5, #2196f3);
            box-shadow: 0 5px 20px rgba(33, 150, 243, 0.3);
        }
        
        .notification.error {
            background: linear-gradient(135deg, #ef5350, #f44336);
            box-shadow: 0 5px 20px rgba(244, 67, 54, 0.3);
        }
        
        /* Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .inline-ad {
            margin: 20px 0;
            text-align: center;
        }
        
        .sticky-ad {
            position: sticky;
            top: 80px;
            z-index: 500;
        }
        
        /* ============ ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ============ */
        #account-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9000;
        }
        
        .account-box {
            background: white;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .account-tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid #eee;
        }
        
        .account-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            color: #666;
            transition: all 0.3s;
        }
        
        .account-tab:hover {
            color: var(--primary);
        }
        
        .account-tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .account-form {
            display: none;
        }
        
        .account-form.active {
            display: block;
        }
        
        .account-input {
            width: 100%;
            padding: 14px;
            margin: 12px 0;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        .account-btn {
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .account-btn:hover {
            background: #e68900;
        }
        
        .profile-pic-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .profile-pic {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #f5f5f5;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 3px solid var(--primary);
            overflow: hidden;
            font-size: 40px;
            color: #666;
        }
        
        .profile-pic img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .change-pic-btn {
            color: var(--blue);
            cursor: pointer;
            font-size: 14px;
        }
        
        .user-info-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .user-avatar-small {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        /* ğŸ”¥ Ø´Ø±ÙˆØ· ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© */
        .terms-checkbox {
            margin: 15px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        
        .terms-label {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .terms-link {
            color: var(--blue);
            cursor: pointer;
            text-decoration: underline;
        }
        
        /* ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø´Ø±ÙˆØ· */
        #terms-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9500;
        }
        
        .terms-box {
            background: white;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .terms-content {
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
        }
        
        .terms-section {
            margin-bottom: 20px;
        }
        
        /* ğŸ”¥ Ø®Ø§Ù†Ø© ÙˆØ§Ø­Ø¯Ø© Ù„Ù„Ø±Ù‚Ù… Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ */
        .login-info {
            text-align: center;
            margin: 10px 0;
            padding: 8px;
            background: #f5f5f5;
            border-radius: 8px;
            font-size: 13px;
            color: #666;
        }
        
        /* ============ ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ============ */
        #notifications-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 8000;
        }
        
        .notifications-box {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .notifications-header {
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        
        .notifications-header::before {
            content: "ğŸ””";
            margin-left: 10px;
            font-size: 20px;
        }
        
        .notifications-body {
            max-height: 400px;
            overflow-y: auto;
            padding: 0;
        }
        
        .notification-item {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            transition: background 0.3s;
        }
        
        .notification-item:hover {
            background: #f9f9f9;
        }
        
        .notification-item.unread {
            background: #fff5e6;
            border-right: 4px solid var(--primary);
        }
        
        .notification-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-light);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--primary);
            flex-shrink: 0;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--dark);
            font-size: 15px;
        }
        
        .notification-message {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 11px;
            color: #999;
        }
        
        .no-notifications {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        
        .no-notifications::before {
            content: "ğŸ””";
            font-size: 40px;
            display: block;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        
        .mark-all-read {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            margin: 15px;
            font-weight: bold;
            width: calc(100% - 30px);
        }
        
        .mark-all-read:hover {
            background: #e68900;
        }
        
        /* ============ ğŸ”¥ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ============ */
        #admin-dashboard-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            z-index: 10000;
            overflow-y: auto;
        }
        
        .admin-header {
            background: linear-gradient(135deg, var(--admin), #8e44ad);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-header-owner {
            background: linear-gradient(135deg, var(--owner), #c0392b);
        }
        
        .admin-container {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .admin-stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .admin-stat-value {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .admin-stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .admin-tabs {
            display: flex;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .admin-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .admin-tab:hover {
            background: #f5f5f5;
        }
        
        .admin-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .admin-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .admin-section.active {
            display: block;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .admin-table th {
            background: #f5f5f5;
            padding: 12px;
            text-align: right;
            font-weight: bold;
            border-bottom: 2px solid #eee;
        }
        
        .admin-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        .admin-table tr:hover {
            background: #f9f9f9;
        }
        
        .badge-owner {
            background: var(--owner);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .badge-admin {
            background: var(--admin);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .badge-user {
            background: var(--blue);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 5px;
            font-size: 12px;
        }
        
        .action-delete {
            background: var(--danger);
            color: white;
        }
        
        .action-edit {
            background: var(--primary);
            color: white;
        }
        
        .action-promote {
            background: var(--success);
            color: white;
        }
        
        .action-ban {
            background: #333;
            color: white;
        }
        
        .search-admin {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            margin: 10px 0;
            font-size: 16px;
        }
        
        .role-selector {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .role-option {
            padding: 10px 20px;
            border: 2px solid #eee;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .role-option:hover {
            border-color: var(--primary);
        }
        
        .role-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            font-weight: bold;
        }
        
        /* ============ ğŸ”¥ ØµÙ†Ø¯ÙˆÙ‚ Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± ============ */
        #add-manager-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 11000;
        }
        
        .add-manager-box {
            background: white;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
        }
        
        .manager-form {
            margin: 20px 0;
        }
        
        /* ============ ğŸ”¥ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± ============ */
        .admin-btn {
            background: var(--admin);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            margin-right: 10px;
            font-weight: bold;
            display: none;
        }
        
        .admin-btn:hover {
            background: #8e44ad;
        }
        
        .owner-btn {
            background: var(--owner);
        }
        
        .owner-btn:hover {
            background: #c0392b;
        }
        
        /* ============ ğŸ”¥ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ============ */
        .user-role-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .role-owner { background: var(--owner); color: white; }
        .role-admin { background: var(--admin); color: white; }
        .role-user { background: var(--blue); color: white; }
    </style>
</head>
<body>

    <div id="notification" class="notification"></div>

    <!-- ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div id="notifications-modal">
        <div class="notifications-box">
            <div class="notifications-header">
                Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            </div>
            <div class="notifications-body" id="notifications-list">
                <!-- ØªØ¸Ù‡Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù‡Ù†Ø§ -->
            </div>
            <div id="mark-all-read-container" style="display: none;">
                <button class="mark-all-read" onclick="markAllAsRead()">
                    âœ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡
                </button>
            </div>
            <div style="text-align:center; padding:15px;">
                <button onclick="closeNotifications()" style="background:none; border:none; color:#666; cursor:pointer;">
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <!-- ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© -->
    <div id="terms-modal">
        <div class="terms-box">
            <h2 style="text-align:center; margin-bottom:20px; color:var(--primary);">ğŸ“œ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
            
            <div class="terms-content">
                <div class="terms-section">
                    <h3>1. Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
                    <p>â€¢ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù† Ø¹Ù†Ù‡Ø§ Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© ÙˆÙ„ÙŠØ³Øª Ù…Ø³Ø±ÙˆÙ‚Ø©.</p>
                    <p>â€¢ Ù…Ù…Ù†ÙˆØ¹ ÙˆØ¶Ø¹ Ø£Ø±Ù‚Ø§Ù… Ù‡Ø§ØªÙ Ø£Ùˆ Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.</p>
                    <p>â€¢ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ØµÙˆØ± Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆÙ„ÙŠØ³Øª Ù…Ø®Ø§Ù„ÙØ© Ù„Ù„Ø­Ù‚ÙˆÙ‚.</p>
                    <p>â€¢ ÙŠØ­Ù‚ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø­Ø°Ù Ø£ÙŠ Ø¥Ø¹Ù„Ø§Ù† Ù…Ø®Ø§Ù„Ù Ø¯ÙˆÙ† Ø¥Ø´Ø¹Ø§Ø± Ù…Ø³Ø¨Ù‚.</p>
                </div>
                
                <div class="terms-section">
                    <h3>2. Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h3>
                    <p>â€¢ Ù†Ø­Ù† Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØ© Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†Ø§ ÙˆÙ„Ø§ Ù†Ø´Ø§Ø±Ùƒ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡Ù… Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø©.</p>
                    <p>â€¢ ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙÙ‚Ø·.</p>
                    <p>â€¢ ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª.</p>
                    <p>â€¢ Ù†Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙÙ‚Ø· Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ.</p>
                </div>
                
                <div style="text-align:center; margin-top:20px; padding:15px; background:#e8f4fc; border-radius:10px;">
                    <strong>ğŸ“ Ù„Ù„ØªÙˆØ§ØµÙ„:</strong> support@mostaml.sy<br>
                    <strong>ğŸ•’ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø¹Ù…:</strong> 9 ØµØ¨Ø§Ø­Ø§Ù‹ - 5 Ù…Ø³Ø§Ø¡Ù‹
                </div>
            </div>
            
            <button class="btn" onclick="closeTermsModal()" style="width:100%; margin-top:20px;">
                ÙÙ‡Ù…Øª ÙˆÙˆØ§ÙÙ‚Øª
            </button>
        </div>
    </div>

    <!-- ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± -->
    <div id="add-manager-modal">
        <div class="add-manager-box">
            <h2 style="text-align:center; color:var(--admin); margin-bottom:20px;">ğŸ‘¨â€ğŸ’¼ Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± Ø¬Ø¯ÙŠØ¯</h2>
            
            <div class="manager-form">
                <input type="text" id="new-manager-name" class="account-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„" required>
                
                <input type="email" id="new-manager-email" class="account-input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                
                <input type="password" id="new-manager-password" class="account-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" required>
                
                <select id="new-manager-city" class="account-input" required>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                    <option value="Ø¯Ù…Ø´Ù‚">Ø¯Ù…Ø´Ù‚</option>
                    <option value="Ø­Ù„Ø¨">Ø­Ù„Ø¨</option>
                    <option value="Ø­Ù…Øµ">Ø­Ù…Øµ</option>
                    <option value="Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©">Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©</option>
                    <option value="Ø­Ù…Ø§Ù‡">Ø­Ù…Ø§Ù‡</option>
                </select>
                
                <div style="margin:20px 0; padding:15px; background:#f5f5f5; border-radius:10px;">
                    <h4 style="margin-top:0;">âš ï¸ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:</h4>
                    <p style="margin:5px 0;">â€¢ Ø­Ø°Ù Ø£ÙŠ Ø¥Ø¹Ù„Ø§Ù†</p>
                    <p style="margin:5px 0;">â€¢ ØªØ¹Ø¯ÙŠÙ„ Ø£ÙŠ Ø¥Ø¹Ù„Ø§Ù†</p>
                    <p style="margin:5px 0;">â€¢ Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>
                    <p style="margin:5px 0;">â€¢ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
                </div>
                
                <button class="account-btn" onclick="addNewManager()" style="background:var(--admin);">
                    Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ±
                </button>
            </div>
            
            <button onclick="closeAddManagerModal()" style="width:100%; margin-top:15px; background:#666; color:white; border:none; padding:12px; border-radius:10px; cursor:pointer;">
                Ø¥Ù„ØºØ§Ø¡
            </button>
        </div>
    </div>

    <!-- ğŸ”¥ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <div id="admin-dashboard-modal">
        <div class="admin-header" id="admin-header">
            <div></div>
            <div>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
            <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
        </div>
        
        <div class="admin-container">
            <!-- ğŸ”¥ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="admin-stats-grid">
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-total-ads">0</div>
                    <div class="admin-stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-total-users">0</div>
                    <div class="admin-stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-today-ads">0</div>
                    <div class="admin-stat-label">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-active-users">0</div>
                    <div class="admin-stat-label">Ù†Ø´Ø· Ø§Ù„Ø¢Ù†</div>
                </div>
            </div>
            
            <!-- ğŸ”¥ Ø£Ù„Ø³Ù†Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
            <div class="admin-tabs">
                <div class="admin-tab active" onclick="showAdminSection('ads')">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div>
                <div class="admin-tab" onclick="showAdminSection('users')">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                <div class="admin-tab" onclick="showAdminSection('reports')">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
                <div class="admin-tab" onclick="showAdminSection('settings')" id="settings-tab" style="display:none;">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
            </div>
            
            <!-- ğŸ”¥ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
            <div id="admin-ads-section" class="admin-section active">
                <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
                <input type="text" class="search-admin" id="search-admin-ads" placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª..." onkeyup="searchAdminAds()">
                
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ø§Ù„ØµÙˆØ±Ø©</th>
                                <th>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</th>
                                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                                <th>Ø§Ù„Ø¨Ø§Ø¦Ø¹</th>
                                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="admin-ads-table">
                            <!-- ØªØ¸Ù‡Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù‡Ù†Ø§ -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ğŸ”¥ Ù‚Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
            <div id="admin-users-section" class="admin-section">
                <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
                
                <!-- ğŸ”¥ Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± (ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·) -->
                <div id="add-manager-btn-container" style="display:none; margin-bottom:20px;">
                    <button class="btn" onclick="openAddManagerModal()" style="background:var(--admin);">
                        ğŸ‘¨â€ğŸ’¼ Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± Ø¬Ø¯ÙŠØ¯
                    </button>
                </div>
                
                <input type="text" class="search-admin" id="search-admin-users" placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†..." onkeyup="searchAdminUsers()">
                
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ø§Ù„ØµÙˆØ±Ø©</th>
                                <th>Ø§Ù„Ø§Ø³Ù…</th>
                                <th>Ø§Ù„Ø¨Ø±ÙŠØ¯</th>
                                <th>Ø§Ù„Ø¯ÙˆØ±</th>
                                <th>Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</th>
                                <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="admin-users-table">
                            <!-- ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù‡Ù†Ø§ -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- ğŸ”¥ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
            <div id="admin-reports-section" class="admin-section">
                <h3>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
                
                <div class="admin-stats-grid">
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-daily-ads">0</div>
                        <div class="admin-stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-avg-price">0</div>
                        <div class="admin-stat-label">Ù…ØªÙˆØ³Ø· Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-top-category">-</div>
                        <div class="admin-stat-label">Ø£ÙƒØ«Ø± ÙØ¦Ø© Ù…Ø¨ÙŠØ¹Ø§Ù‹</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-deleted-ads">0</div>
                        <div class="admin-stat-label">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø­Ø°ÙˆÙØ©</div>
                    </div>
                </div>
                
                <div style="background:white; border-radius:15px; padding:20px; margin:20px 0;">
                    <h4>ğŸ“ˆ Ù†Ø´Ø§Ø· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h4>
                    <canvas id="adsChart" width="400" height="200" style="width:100%; height:200px;"></canvas>
                </div>
            </div>
            
            <!-- ğŸ”¥ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·) -->
            <div id="admin-settings-section" class="admin-section">
                <h3>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                
                <div style="background:#f5f5f5; padding:20px; border-radius:10px; margin:20px 0;">
                    <h4 style="margin-top:0;">ğŸ‘‘ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ</h4>
                    <p>Ø£Ù†Øª Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ù†Ø¸Ø§Ù…ØŒ Ù„Ø¯ÙŠÙƒ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:</p>
                    <ul>
                        <li>Ø¥Ø¶Ø§ÙØ© ÙˆØ¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ†</li>
                        <li>Ø­Ø°Ù Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù…</li>
                        <li>ØªØ¹Ø¯ÙŠÙ„ Ø£ÙŠ Ø¥Ø¹Ù„Ø§Ù†</li>
                        <li>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ù…Ù„Ø©</li>
                        <li>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</li>
                    </ul>
                </div>
                
                <div style="background:#fff5e6; padding:20px; border-radius:10px; margin:20px 0; border:2px solid var(--primary);">
                    <h4 style="margin-top:0;">âš ï¸ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø®Ø·ÙŠØ±Ø©</h4>
                    <div style="display:flex; gap:10px; flex-wrap:wrap;">
                        <button class="btn" onclick="resetAllData()" style="background:var(--danger);">
                            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                        <button class="btn" onclick="exportAllData()" style="background:var(--success);">
                            ğŸ“¥ ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                        <button class="btn" onclick="createBackup()" style="background:var(--blue);">
                            ğŸ’¾ Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
                        </button>
                    </div>
                </div>
                
                <div style="background:#f0f8ff; padding:20px; border-radius:10px; margin:20px 0;">
                    <h4 style="margin-top:0;">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h4>
                    <div class="form-g">
                        <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹:</label>
                        <input type="text" id="site-name" class="account-input" value="Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§">
                    </div>
                    <div class="form-g">
                        <label>Ù„ÙˆÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:</label>
                        <input type="color" id="site-color" class="account-input" value="#ff9900">
                    </div>
                    <button class="account-btn" onclick="saveSiteSettings()">
                        Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ğŸ”¥ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <div id="account-modal">
        <div class="account-box">
            <div class="account-tabs">
                <div class="account-tab active" onclick="showAccountForm('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
                <div class="account-tab" onclick="showAccountForm('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</div>
            </div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
            <div id="login-form" class="account-form active">
                <div class="profile-pic-container">
                    <div class="profile-pic" id="login-profile-pic" onclick="document.getElementById('login-pic-input').click()">
                        ğŸ‘¤
                    </div>
                    <input type="file" accept="image/*" id="login-pic-input" style="display:none;" onchange="updateLoginProfilePic(event)">
                    <div class="change-pic-btn" onclick="document.getElementById('login-pic-input').click()">ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©</div>
                </div>
                
                <!-- Ø®Ø§Ù†Ø© ÙˆØ§Ø­Ø¯Ø© Ù„Ù„Ø±Ù‚Ù… Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ -->
                <div class="login-info">
                    ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</strong> Ø£Ùˆ <strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</strong>
                </div>
                
                <input type="text" id="login-identifier" class="account-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                
                <input type="password" id="login-password" class="account-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" required>
                
                <button class="account-btn" onclick="loginUser()">
                    Ø¯Ø®ÙˆÙ„
                </button>
                
                <!-- Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±ÙˆØ· ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <div style="text-align:center; margin-top:15px; font-size:13px;">
                    <span class="terms-link" onclick="openTermsModal()">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
                </div>
            </div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
            <div id="register-form" class="account-form">
                <div class="profile-pic-container">
                    <div class="profile-pic" id="register-profile-pic" onclick="document.getElementById('register-pic-input').click()">
                        ğŸ‘¤
                    </div>
                    <input type="file" accept="image/*" id="register-pic-input" style="display:none;" onchange="updateRegisterProfilePic(event)">
                    <div class="change-pic-btn" onclick="document.getElementById('register-pic-input').click()">ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©</div>
                </div>
                
                <input type="text" id="register-name" class="account-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                
                <input type="text" id="register-identifier" class="account-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
                
                <div style="font-size:12px; color:#666; margin:5px 0 10px; padding:8px; background:#f5f5f5; border-radius:6px;">
                    ğŸ”¹ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</strong> Ø£Ùˆ <strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</strong> Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹
                </div>
                
                <input type="password" id="register-password" class="account-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" required>
                <input type="password" id="register-confirm-password" class="account-input" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" required>
                
                <select id="register-city" class="account-input" required>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                    <option value="Ø¯Ù…Ø´Ù‚">Ø¯Ù…Ø´Ù‚</option>
                    <option value="Ø­Ù„Ø¨">Ø­Ù„Ø¨</option>
                    <option value="Ø­Ù…Øµ">Ø­Ù…Øµ</option>
                    <option value="Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©">Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©</option>
                    <option value="Ø­Ù…Ø§Ù‡">Ø­Ù…Ø§Ù‡</option>
                    <option value="Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±">Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±</option>
                    <option value="Ø§Ù„Ø­Ø³ÙƒØ©">Ø§Ù„Ø­Ø³ÙƒØ©</option>
                    <option value="Ø§Ù„Ø±Ù‚Ø©">Ø§Ù„Ø±Ù‚Ø©</option>
                </select>
                
                <!-- Ø´Ø±ÙˆØ· ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© -->
                <div class="terms-checkbox">
                    <label class="terms-label">
                        <input type="checkbox" id="agree-terms" style="margin-top:3px;">
                        <div>
                            Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ 
                            <span class="terms-link" onclick="openTermsModal()">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
                            Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§
                        </div>
                    </label>
                </div>
                
                <button class="account-btn" onclick="registerUser()">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                </button>
            </div>
            
            <div style="text-align:center; margin-top:20px;">
                <button onclick="closeAccountModal()" style="background:none; border:none; color:#666; cursor:pointer; font-size:15px;">
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø¹Ø¯Ù„ Ù…Ø¹ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <header>
        <div class="header-logo" onclick="location.reload()">
            <div class="header-logo-s">S</div>
            <div class="header-logo-txt">Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§</div>
        </div>
        <div style="display:flex; align-items:center; gap:15px; position:relative;">
            <!-- Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø¯Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø§Ù„Ùƒ) -->
            <button class="admin-btn" id="admin-header-btn" onclick="openAdminDashboard()">
                Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            </button>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…Ø³Ø¬Ù„ -->
            <div id="user-header-info" style="display:none; align-items:center; gap:15px;">
                <div class="user-avatar-small" id="header-user-avatar">
                    ğŸ‘¤
                </div>
                <div>
                    <div style="font-weight:bold; font-size:14px; display:flex; align-items:center; gap:5px;" id="header-user-name">
                        <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ø¯Ø¬Ø© Ø§Ù„Ø¯ÙˆØ± Ù‡Ù†Ø§ -->
                    </div>
                    <div style="font-size:12px; color:#ccc;" id="header-user-city"></div>
                </div>
                <button class="logout-btn" onclick="logoutUser()">Ø®Ø±ÙˆØ¬</button>
            </div>
            
            <!-- Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØºÙŠØ± Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† -->
            <button class="btn" id="login-header-btn" onclick="openAccountModal('login')">Ø¯Ø®ÙˆÙ„ / ØªØ³Ø¬ÙŠÙ„</button>
            
            <div style="position:relative; cursor:pointer; font-size:20px;" onclick="showNotifications()">
                ğŸ””
                <div class="notification-badge" id="notificationBadge" style="display:none; position:absolute; top:-5px; right:-5px; background:var(--primary); color:white; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">0</div>
            </div>
            <button class="btn" onclick="checkAuthBeforePost()">+ Ø±ÙØ¹ Ø¥Ø¹Ù„Ø§Ù†</button>
        </div>
    </header>

    <!-- Ø¥Ø¹Ù„Ø§Ù† Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="ad-premium ad-premium-blue sticky-ad">
        <h3 style="margin:0 0 10px 0;">ğŸš€ Ø§Ø¹Ù„Ù† Ø¹Ù† Ù…Ù†ØªØ¬Ùƒ Ù‡Ù†Ø§!</h3>
        <p style="margin:0; font-size:14px;">ÙˆØµÙ„ Ù„Ø£Ù„Ø§Ù Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ - Ø³Ø¹Ø± Ø®Ø§Øµ Ù„Ù„Ù…ØªØ§Ø¬Ø±</p>
    </div>

    <!-- Ø§Ù„Ø¨Ø­Ø« -->
    <div class="search-area">
        <input type="text" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙŠ Ù…Ù†ØªØ¬..." id="searchInput">
        <button class="btn" onclick="toggleCategories()" style="padding:0 20px;">Ø§Ù„ÙØ¦Ø§Øª</button>
        
        <!-- Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±ÙˆØ· ÙÙŠ Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
        <div style="width:100%; text-align:center; margin-top:10px;">
            <span class="terms-link" onclick="openTermsModal()" style="font-size:13px;">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
        </div>
    </div>

    <!-- Ø§Ù„ÙØ¦Ø§Øª -->
    <div class="categories-menu" id="categoriesMenu">
        <div class="category-tag active" onclick="filterAdsByCategory('Ø¬Ù…ÙŠØ¹')">Ø¬Ù…ÙŠØ¹</div>
    </div>

    <!-- Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
    <div class="container">
        <!-- Ø¥Ø¹Ù„Ø§Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
        <div class="ad-premium ad-premium-green">
            <h3 style="margin:0 0 10px 0;">ğŸ”¥ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹!</h3>
            <p style="margin:0; font-size:14px;">Ø®ØµÙ… 30% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
        </div>
        
        <div class="ads-grid" id="main-ads-box">
            <!-- ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>
        
        <!-- Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±ÙˆØ· ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
        <div style="text-align:center; margin-top:30px; padding:20px; background:#f9f9f9; border-radius:10px;">
            <h4>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©</h4>
            <p style="font-size:14px; color:#666;">
                Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§ Ù…Ù†ØµØ© Ù„Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù…Ù†. 
                <span class="terms-link" onclick="openTermsModal()">Ø§Ù‚Ø±Ø£ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
            </p>
        </div>
        
        <!-- Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
        <div class="ad-premium ad-premium-purple" style="margin-top:30px;">
            <h3 style="margin:0 0 10px 0;">â­ Ø¥Ø¹Ù„Ø§Ù†Ùƒ Ù‡Ù†Ø§ ÙŠØµÙ„ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 10,000 Ø²Ø§Ø¦Ø± ÙŠÙˆÙ…ÙŠØ§Ù‹</h3>
            <p style="margin:0; font-size:14px;">Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</p>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø±ÙØ¹ -->
    <div id="upload-modal">
        <div class="modal-body">
            <span class="close-x" onclick="closePost()">&times;</span>
            <h2 style="text-align:center; margin-bottom:15px;">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
            
            <!-- Ø¥Ø¹Ù„Ø§Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
            <div class="ad-premium ad-small ad-premium-blue" style="margin-bottom:20px;">
                <p style="margin:0; font-size:13px;">ğŸ’ Ø¬Ø¹Ù„ Ø¥Ø¹Ù„Ø§Ù†Ùƒ Ù…Ù…ÙŠØ²Ø§Ù‹ ÙŠØ²ÙŠØ¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª 300%</p>
            </div>
            
            <!-- Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>ğŸ“¸</span>
                        Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© *
                    </div>
                    <div class="section-subtitle">Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ±Ø© Ø³ØªØ¸Ù‡Ø± ÙƒØºÙ„Ø§Ù Ù„Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="main-image-container">
                        <!-- ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                    
                    <label class="upload-btn">
                        <span>â• Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù</span>
                        <input type="file" accept="image/*" id="mainImageInput" onchange="addMainImage(event)">
                    </label>
                </div>
            </div>
            
            <!-- Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>ğŸ–¼ï¸</span>
                        ØµÙˆØ± Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ø­ØªÙ‰ 5)
                    </div>
                    <div class="section-subtitle">Ø£Ø¶Ù ØµÙˆØ± Ø¥Ø¶Ø§ÙÙŠØ© ØªÙˆØ¶Ø­ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø²ÙˆØ§ÙŠØ§ Ù…Ø®ØªÙ„ÙØ©</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="extra-images-container">
                        <!-- ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                    
                    <label class="upload-btn" id="addExtraImagesBtn" style="display:none;">
                        <span>â• Ø£Ø¶Ù ØµÙˆØ±Ø©</span>
                        <input type="file" accept="image/*" id="extraImagesInput" onchange="addExtraImage(event)" multiple>
                    </label>
                    
                    <div style="font-size:12px; text-align:center; margin-top:5px;" id="images-counter">0/5 ØµÙˆØ±</div>
                </div>
            </div>
            
            <!-- Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>ğŸ¬</span>
                        Ù…Ù‚Ø§Ø·Ø¹ ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ø­ØªÙ‰ 3)
                    </div>
                    <div class="section-subtitle">Ø£Ø¶Ù Ù…Ù‚Ø§Ø·Ø¹ ÙÙŠØ¯ÙŠÙˆ ØªÙˆØ¶ÙŠØ­ÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="videos-container">
                        <!-- ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                    
                    <label class="upload-btn" id="addVideoBtn">
                        <span>â• Ø£Ø¶Ù ÙÙŠØ¯ÙŠÙˆ</span>
                        <input type="file" accept="video/*" id="videoInput" onchange="addVideo(event)" multiple>
                    </label>
                    
                    <div style="font-size:12px; text-align:center; margin-top:5px;" id="videos-counter">0/3 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>
                </div>
            </div>
            
            <!-- Ø¥Ø¹Ù„Ø§Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
            <div class="ad-premium ad-small ad-premium-green" style="margin:20px 0;">
                <p style="margin:0; font-size:13px;">ğŸšš ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
            </div>
            
            <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ -->
            <div class="form-g">
                <label>ğŸ·ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                <input type="text" id="u-title" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            </div>
            
            <div class="form-g">
                <label>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                <select id="u-condition">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                    <option value="Ø¬Ø¯ÙŠØ¯">ğŸ†• Ø¬Ø¯ÙŠØ¯</option>
                    <option value="Ø´Ø¨Ù‡ Ø¬Ø¯ÙŠØ¯">âœ¨ Ø´Ø¨Ù‡ Ø¬Ø¯ÙŠØ¯</option>
                    <option value="Ø¬ÙŠØ¯">ğŸ‘ Ø¬ÙŠØ¯</option>
                    <option value="Ù…ØªÙˆØ³Ø·">âš–ï¸ Ù…ØªÙˆØ³Ø·</option>
                    <option value="Ø³ÙŠØ¡">ğŸ‘ Ø³ÙŠØ¡</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>ğŸ“ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© *</label>
                <select id="u-governorate">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</option>
                    <option value="Ø¯Ù…Ø´Ù‚">Ø¯Ù…Ø´Ù‚</option>
                    <option value="Ø±ÙŠÙ Ø¯Ù…Ø´Ù‚">Ø±ÙŠÙ Ø¯Ù…Ø´Ù‚</option>
                    <option value="Ø­Ù„Ø¨">Ø­Ù„Ø¨</option>
                    <option value="Ø­Ù…Øµ">Ø­Ù…Øµ</option>
                    <option value="Ø­Ù…Ø§Ù‡">Ø­Ù…Ø§Ù‡</option>
                    <option value="Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©">Ø§Ù„Ù„Ø§Ø°Ù‚ÙŠØ©</option>
                    <option value="Ø·Ø±Ø·ÙˆØ³">Ø·Ø±Ø·ÙˆØ³</option>
                    <option value="Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±">Ø¯ÙŠØ± Ø§Ù„Ø²ÙˆØ±</option>
                    <option value="Ø§Ù„Ø­Ø³ÙƒØ©">Ø§Ù„Ø­Ø³ÙƒØ©</option>
                    <option value="Ø§Ù„Ø±Ù‚Ø©">Ø§Ù„Ø±Ù‚Ø©</option>
                    <option value="Ø§Ù„Ø³ÙˆÙŠØ¯Ø§Ø¡">Ø§Ù„Ø³ÙˆÙŠØ¯Ø§Ø¡</option>
                    <option value="Ø¯Ø±Ø¹Ø§">Ø¯Ø±Ø¹Ø§</option>
                    <option value="Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø©">Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø©</option>
                    <option value="Ø¥Ø¯Ù„Ø¨">Ø¥Ø¯Ù„Ø¨</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>ğŸ“‚ Ø§Ù„ÙØ¦Ø© *</label>
                <select id="u-category">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>ğŸ’° Ø§Ù„Ø³Ø¹Ø± (Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©) *</label>
                <input type="number" id="u-price" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø±">
            </div>
            
            <div class="form-g">
                <label>ğŸ“ Ø§Ù„ÙˆØµÙ *</label>
                <textarea id="u-desc" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬..." rows="3"></textarea>
                <div style="font-size:12px; color:#666; margin-top:5px;">Ù…Ù…Ù†ÙˆØ¹ ÙˆØ¶Ø¹ Ø£Ø±Ù‚Ø§Ù… Ù‡Ø§ØªÙ Ø£Ùˆ Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ©</div>
            </div>
            
            <!-- Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙˆØ· Ø§Ù„Ø±ÙØ¹ -->
            <div class="terms-checkbox" style="margin:20px 0;">
                <label class="terms-label">
                    <input type="checkbox" id="agree-ad-terms">
                    <div>
                        Ø£ÙˆØ§ÙÙ‚ Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØµØ­ÙŠØ­Ø© ÙˆØ£Ù† Ø§Ù„Ù…Ù†ØªØ¬ Ù‚Ø§Ù†ÙˆÙ†ÙŠ. 
                        <span class="terms-link" onclick="openTermsModal()">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                    </div>
                </label>
            </div>
            
            <!-- Ø¥Ø¹Ù„Ø§Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø²Ø± -->
            <div class="ad-premium ad-small ad-premium-red" style="margin:15px 0;">
                <p style="margin:0; font-size:13px;">âš ï¸ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù… Ø³ÙŠØªÙ… Ø­Ø°ÙÙ‡Ø§</p>
            </div>
            
            <button class="btn" style="width:100%; padding:12px; margin-top:10px;" onclick="validateAndPublish()">ğŸš€ Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
        </div>
    </div>

    <!-- ============ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ============ -->
    <div id="product-layer">
        <div class="nav-back" onclick="closeProduct()">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</div>
        <div class="product-container">
            <!-- Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ -->
            <div class="ad-premium ad-premium-green" style="margin-bottom:30px;">
                <h4 style="margin:0 0 5px 0;">ğŸ›’ ØªØ³ÙˆÙ‚ Ø¨Ø«Ù‚Ø© Ø¹Ù„Ù‰ Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§</h4>
                <p style="margin:0; font-size:13px;">Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù† 100% Ù…Ø¹ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠ</p>
            </div>
            
            <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨ØªØµÙ…ÙŠÙ… Ø£Ù…Ø§Ø²ÙˆÙ† -->
            <div id="product-content">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
            
            <!-- Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ -->
            <div class="ad-premium ad-medium ad-premium-blue" style="margin:40px 0;">
                <h4 style="margin:0 0 5px 0;">ğŸš€ Ø±ÙˆØ¬ Ù„Ù…Ù†ØªØ¬Ùƒ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h4>
                <p style="margin:0; font-size:13px;">Ø¥Ø¹Ù„Ø§Ù†Ùƒ ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø²ÙˆØ§Ø±</p>
            </div>
            
            <!-- Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±ÙˆØ· ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ -->
            <div style="text-align:center; margin:30px 0; padding:15px; background:#f9f9f9; border-radius:10px;">
                <span class="terms-link" onclick="openTermsModal()" style="font-size:14px;">
                    ğŸ“œ Ø§Ù‚Ø±Ø£ Ø´Ø±ÙˆØ· Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù…Ù† ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©
                </span>
            </div>
            
            <!-- Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
            <div class="ad-premium ad-small ad-premium-purple" style="margin-top:30px;">
                <p style="margin:0; font-size:13px;">â­ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²: ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ø§Ù„ØµØ¯Ø§Ø±Ø© Ù„Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù…</p>
            </div>
        </div>
    </div>

    <!-- ============ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ============ -->
    <div id="chat-layer">
        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>

    <script>
        // ğŸ”¥ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
        const OWNER_EMAIL = "used.syria.app@gmail.com";
        
        // ğŸ”¥ ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
        const ROLES = {
            OWNER: "owner",
            ADMIN: "admin",
            USER: "user"
        };
        
        // ğŸ”¥ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„Ù„Ø£Ø¯ÙˆØ§Ø±
        const ROLE_COLORS = {
            owner: "#e74c3c",
            admin: "#9b59b6",
            user: "#3498db"
        };
        
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©
        const categories = [
            "Ø³ÙŠØ§Ø±Ø§Øª", "Ø¹Ù‚Ø§Ø±Ø§Øª", "Ù…ÙˆØ¨Ø§ÙŠÙ„Ø§Øª", "Ø£Ø¬Ù‡Ø²Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
            "Ø£Ø«Ø§Ø«", "Ù…Ù„Ø§Ø¨Ø³", "Ø®Ø¯Ù…Ø§Øª", "ÙƒÙ…Ø¨ÙŠÙˆØªØ±Ø§Øª", 
            "Ø£Ù„Ø¹Ø§Ø¨", "Ø£Ø¬Ù‡Ø²Ø© Ù…Ù†Ø²Ù„ÙŠØ©", "Ø±ÙŠØ§Ø¶Ø©", "Ø­ÙŠÙˆØ§Ù†Ø§Øª", 
            "ÙƒØªØ¨", "Ø£Ø®Ø±Ù‰"
        ];
        
        const adsList = [
            {
                id: 'ad1',
                title: "ğŸ”¥ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²",
                description: "Ù…ÙˆÙ‚Ø¹ Ø¥Ø¹Ù„Ø§Ù†Ùƒ Ù‡Ù†Ø§ ÙŠØµÙ„ Ù„Ø£Ù„Ø§Ù Ø§Ù„Ø²ÙˆØ§Ø± ÙŠÙˆÙ…ÙŠØ§Ù‹",
                type: "green",
                cta: "Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†"
            },
            {
                id: 'ad2',
                title: "ğŸš€ ØªØ³ÙˆÙŠÙ‚ Ù…Ù†ØªØ¬Ø§ØªÙƒ",
                description: "Ù†Ø±ÙˆØ¬ Ù„Ù…Ù†ØªØ¬Ùƒ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª",
                type: "blue",
                cta: "Ø§Ø¹Ø±Ù Ø£ÙƒØ«Ø±"
            },
            {
                id: 'ad3',
                title: "â­ Ø¹Ø±Ø¶ Ø®Ø§Øµ",
                description: "Ø®ØµÙ… 40% Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©",
                type: "purple",
                cta: "Ø§Ø³ØªÙØ¯ Ø§Ù„Ø¢Ù†"
            },
            {
                id: 'ad4',
                title: "ğŸ›¡ï¸ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠ",
                description: "Ù†Ø¶Ù…Ù† Ù„Ùƒ Ø¹Ù…Ù„ÙŠØ© Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù†Ø©",
                type: "red",
                cta: "ØªØ³ÙˆÙ‚ Ø¨Ø£Ù…Ø§Ù†"
            }
        ];
        
        let mainImage = null;
        let extraImages = [];
        let videos = [];
        let currentAd = null;
        let notifications = [];
        let chats = {};
        
        // ğŸ”¥ Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
        let currentUser = null;
        let loginProfilePic = null;
        let registerProfilePic = null;
        
        // ğŸ”¥ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        window.onload = function() {
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserHeader();
            }
            
            initCategories();
            loadAdsFromStorage();
            notifications = JSON.parse(localStorage.getItem('mostaml_notifications')) || [];
            chats = JSON.parse(localStorage.getItem('mostaml_chats')) || {};
            updateNotificationBadge();
            
            // ğŸ”¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
            checkAndCreateOwner();
            
            showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§! ğŸ‰', 'success');
        };
        
        // ğŸ”¥ Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        function checkAndCreateOwner() {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
            const ownerExists = users.find(user => user.email === OWNER_EMAIL || user.identifier === OWNER_EMAIL);
            
            if (!ownerExists) {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
                const ownerUser = {
                    id: 1,
                    name: "Ù…Ø§Ù„Ùƒ Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§",
                    identifier: OWNER_EMAIL,
                    email: OWNER_EMAIL,
                    password: "admin123", // ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹
                    city: "Ø¯Ù…Ø´Ù‚",
                    role: ROLES.OWNER,
                    profilePic: null,
                    joinDate: new Date().toLocaleDateString('ar-SY'),
                    adsCount: 0,
                    rating: 5.0,
                    agreedToTerms: true,
                    isActive: true
                };
                
                users.push(ownerUser);
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                console.log("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:", OWNER_EMAIL);
                
                // ğŸ”¥ Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø§Ù„Ùƒ
                const ownerNotification = {
                    id: Date.now(),
                    title: 'ğŸ‘‘ Ù…Ù„ÙƒÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù…',
                    message: `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙƒÙ…Ø§Ù„Ùƒ Ù„Ù„Ù†Ø¸Ø§Ù…. Ø§Ù„Ø¨Ø±ÙŠØ¯: ${OWNER_EMAIL}`,
                    date: new Date().toLocaleString('ar-SY'),
                    read: false
                };
                
                notifications.unshift(ownerNotification);
                localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            }
            
            // ğŸ”¥ Ø¥Ø¶Ø§ÙØ© Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ† Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            if (users.length <= 1) {
                const defaultManagers = [
                    {
                        id: 2,
                        name: "Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆÙ„",
                        identifier: "manager1@mostaml.sy",
                        email: "manager1@mostaml.sy",
                        password: "manager123",
                        city: "Ø­Ù„Ø¨",
                        role: ROLES.ADMIN,
                        profilePic: null,
                        joinDate: new Date().toLocaleDateString('ar-SY'),
                        adsCount: 0,
                        rating: 5.0,
                        agreedToTerms: true,
                        isActive: true
                    },
                    {
                        id: 3,
                        name: "Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ",
                        identifier: "manager2@mostaml.sy",
                        email: "manager2@mostaml.sy",
                        password: "manager123",
                        city: "Ø­Ù…Øµ",
                        role: ROLES.ADMIN,
                        profilePic: null,
                        joinDate: new Date().toLocaleDateString('ar-SY'),
                        adsCount: 0,
                        rating: 5.0,
                        agreedToTerms: true,
                        isActive: true
                    }
                ];
                
                defaultManagers.forEach(manager => {
                    if (!users.find(u => u.email === manager.email)) {
                        users.push(manager);
                    }
                });
                
                localStorage.setItem('mostaml_users', JSON.stringify(users));
            }
        }
        
        // ========================
        // ğŸ”¥ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©
        // ========================
        
        function openTermsModal() {
            document.getElementById('terms-modal').style.display = 'flex';
        }
        
        function closeTermsModal() {
            document.getElementById('terms-modal').style.display = 'none';
        }
        
        // ========================
        // ğŸ”¥ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
        // ========================
        
        function openAccountModal(formType = 'login') {
            document.getElementById('account-modal').style.display = 'flex';
            showAccountForm(formType);
        }
        
        function closeAccountModal() {
            document.getElementById('account-modal').style.display = 'none';
        }
        
        function showAccountForm(formType) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
            document.querySelectorAll('.account-form').forEach(form => {
                form.classList.remove('active');
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø³Ù†Ø©
            document.querySelectorAll('.account-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            if (formType === 'login') {
                document.getElementById('login-form').classList.add('active');
                document.querySelector('.account-tab:nth-child(1)').classList.add('active');
            } else {
                document.getElementById('register-form').classList.add('active');
                document.querySelector('.account-tab:nth-child(2)').classList.add('active');
            }
        }
        
        function updateLoginProfilePic(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø©', 'warning');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                loginProfilePic = e.target.result;
                document.getElementById('login-profile-pic').innerHTML = 
                    `<img src="${e.target.result}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„">`;
            };
            reader.readAsDataURL(file);
        }
        
        function updateRegisterProfilePic(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø©', 'warning');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                registerProfilePic = e.target.result;
                document.getElementById('register-profile-pic').innerHTML = 
                    `<img src="${e.target.result}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„">`;
            };
            reader.readAsDataURL(file);
        }
        
        // ğŸ”¥ Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
        function loginUser() {
            const identifier = document.getElementById('login-identifier').value.trim();
            const password = document.getElementById('login-password').value.trim();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!identifier) {
                showNotification('Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'warning');
                return;
            }
            
            if (!password) {
                showNotification('Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±', 'warning');
                return;
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            let user = users.find(u => 
                (u.identifier === identifier || u.email === identifier) && 
                u.password === password
            );
            
            if (!user) {
                showNotification('Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'warning');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø¸ÙˆØ±
            if (user.isActive === false) {
                showNotification('Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­Ø¸ÙˆØ±', 'error');
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ø¥Ø°Ø§ ØªÙ… Ø±ÙØ¹ ÙˆØ§Ø­Ø¯Ø©
            if (loginProfilePic) {
                user.profilePic = loginProfilePic;
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex] = user;
                    localStorage.setItem('mostaml_users', JSON.stringify(users));
                }
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateUserHeader();
            closeAccountModal();
            
            // ğŸ”¥ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ø®Ø§ØµØ© Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±
            let welcomeMessage = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ ${user.name}! ğŸ‘‹`;
            if (user.role === ROLES.OWNER) {
                welcomeMessage = `ğŸ‘‘ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ Ù…Ø§Ù„Ùƒ Ø§Ù„Ù†Ø¸Ø§Ù… ${user.name}!`;
            } else if (user.role === ROLES.ADMIN) {
                welcomeMessage = `ğŸ‘¨â€ğŸ’¼ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… ${user.name}!`;
            }
            
            showNotification(welcomeMessage, 'success');
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('login-identifier').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('login-profile-pic').innerHTML = 'ğŸ‘¤';
            loginProfilePic = null;
        }
        
        // ğŸ”¥ Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø¹ Ø¯ÙˆØ± Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙƒÙ€ "user"
        function registerUser() {
            const name = document.getElementById('register-name').value.trim();
            const identifier = document.getElementById('register-identifier').value.trim();
            const password = document.getElementById('register-password').value.trim();
            const confirmPassword = document.getElementById('register-confirm-password').value.trim();
            const city = document.getElementById('register-city').value;
            
            // ğŸ”¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø´Ø±ÙˆØ·
            const agreeTerms = document.getElementById('agree-terms').checked;
            if (!agreeTerms) {
                showNotification('ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', 'warning');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!name || !identifier || !password || !confirmPassword || !city) {
                showNotification('Ø£Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'warning');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ø³Ø± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†', 'warning');
                return;
            }
            
            if (password.length < 6) {
                showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'warning');
                return;
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // ğŸ”¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø¹Ø±Ù Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹
            if (users.find(u => u.identifier === identifier || u.email === identifier)) {
                showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹', 'warning');
                return;
            }
            
            // ğŸ”¥ ØªØ­Ø¯ÙŠØ¯ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¥ÙŠÙ…ÙŠÙ„ Ø£Ù… Ø±Ù‚Ù… Ù‡Ø§ØªÙ
            const isEmail = identifier.includes('@');
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const newUser = {
                id: Date.now(),
                name: name,
                identifier: identifier,
                email: isEmail ? identifier : null,
                phone: !isEmail ? identifier : null,
                password: password,
                city: city,
                role: ROLES.USER, // ğŸ”¥ Ø¯ÙˆØ± Ø§ÙØªØ±Ø§Ø¶ÙŠ: user
                profilePic: registerProfilePic || null,
                joinDate: new Date().toLocaleDateString('ar-SY'),
                adsCount: 0,
                rating: 5.0,
                agreedToTerms: true,
                isActive: true
            };
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            users.push(newUser);
            localStorage.setItem('mostaml_users', JSON.stringify(users));
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateUserHeader();
            closeAccountModal();
            showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ ' + name + '! ğŸ‰', 'success');
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('register-name').value = '';
            document.getElementById('register-identifier').value = '';
            document.getElementById('register-password').value = '';
            document.getElementById('register-confirm-password').value = '';
            document.getElementById('register-city').value = '';
            document.getElementById('register-profile-pic').innerHTML = 'ğŸ‘¤';
            document.getElementById('agree-terms').checked = false;
            registerProfilePic = null;
        }
        
        function logoutUser() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                currentUser = null;
                localStorage.removeItem('currentUser');
                updateUserHeader();
                showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'success');
            }
        }
        
        // ğŸ”¥ Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ±
        function updateUserHeader() {
            const userHeader = document.getElementById('user-header-info');
            const loginBtn = document.getElementById('login-header-btn');
            const adminBtn = document.getElementById('admin-header-btn');
            const headerAvatar = document.getElementById('header-user-avatar');
            const headerName = document.getElementById('header-user-name');
            const headerCity = document.getElementById('header-user-city');
            
            if (currentUser) {
                userHeader.style.display = 'flex';
                loginBtn.style.display = 'none';
                
                // ğŸ”¥ Ø¥Ø¸Ù‡Ø§Ø± Ø¨Ø§Ø¯Ø¬Ø© Ø§Ù„Ø¯ÙˆØ±
                let roleBadge = '';
                if (currentUser.role === ROLES.OWNER) {
                    roleBadge = '<span class="user-role-badge role-owner">ğŸ‘‘ Ù…Ø§Ù„Ùƒ</span>';
                    adminBtn.style.display = 'block';
                    adminBtn.className = 'admin-btn owner-btn';
                    adminBtn.innerHTML = 'ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
                } else if (currentUser.role === ROLES.ADMIN) {
                    roleBadge = '<span class="user-role-badge role-admin">ğŸ‘¨â€ğŸ’¼ Ù…Ø¯ÙŠØ±</span>';
                    adminBtn.style.display = 'block';
                    adminBtn.className = 'admin-btn';
                    adminBtn.innerHTML = 'ğŸ‘¨â€ğŸ’¼ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';
                } else {
                    adminBtn.style.display = 'none';
                }
                
                headerName.innerHTML = `${roleBadge} ${currentUser.name}`;
                headerCity.textContent = currentUser.city;
                
                if (currentUser.profilePic) {
                    headerAvatar.innerHTML = `<img src="${currentUser.profilePic}" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„" style="width:100%; height:100%; border-radius:50%;">`;
                } else {
                    headerAvatar.innerHTML = currentUser.name.charAt(0);
                }
            } else {
                userHeader.style.display = 'none';
                adminBtn.style.display = 'none';
                loginBtn.style.display = 'block';
            }
        }
        
        // ========================
        // ğŸ”¥ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        // ========================
        
        function openAdminDashboard() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'warning');
                openAccountModal('login');
                return;
            }
            
            // ğŸ”¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
            if (currentUser.role !== ROLES.OWNER && currentUser.role !== ROLES.ADMIN) {
                showNotification('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', 'error');
                return;
            }
            
            const modal = document.getElementById('admin-dashboard-modal');
            const header = document.getElementById('admin-header');
            
            // ğŸ”¥ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø± Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±
            if (currentUser.role === ROLES.OWNER) {
                header.className = 'admin-header admin-header-owner';
                header.innerHTML = `
                    <div>ğŸ‘‘ Ø§Ù„Ù…Ø§Ù„Ùƒ: ${currentUser.name}</div>
                    <div>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
                    <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
                `;
                // ğŸ”¥ Ø¥Ø¸Ù‡Ø§Ø± ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·
                document.getElementById('settings-tab').style.display = 'block';
                document.getElementById('add-manager-btn-container').style.display = 'block';
            } else {
                header.className = 'admin-header';
                header.innerHTML = `
                    <div>ğŸ‘¨â€ğŸ’¼ Ø§Ù„Ù…Ø¯ÙŠØ±: ${currentUser.name}</div>
                    <div>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
                    <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
                `;
                document.getElementById('settings-tab').style.display = 'none';
                document.getElementById('add-manager-btn-container').style.display = 'none';
            }
            
            modal.style.display = 'block';
            
            // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            loadAdminStats();
            loadAdminAds();
            loadAdminUsers();
            loadAdminReports();
        }
        
        function closeAdminDashboard() {
            document.getElementById('admin-dashboard-modal').style.display = 'none';
        }
        
        function showAdminSection(sectionId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø³Ù†Ø©
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(`admin-${sectionId}-section`).classList.add('active');
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø³Ø§Ù† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
            document.querySelector(`.admin-tab[onclick="showAdminSection('${sectionId}')"]`).classList.add('active');
        }
        
        // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function loadAdminStats() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const today = new Date().toLocaleDateString('ar-SY');
            
            // ğŸ”¥ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
            document.getElementById('stat-total-ads').textContent = ads.length;
            document.getElementById('stat-total-users').textContent = users.length;
            document.getElementById('stat-today-ads').textContent = ads.filter(ad => ad.date === today).length;
            document.getElementById('stat-active-users').textContent = users.filter(user => user.isActive !== false).length;
        }
        
        // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
        function loadAdminAds() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const table = document.getElementById('admin-ads-table');
            
            table.innerHTML = '';
            
            ads.forEach((ad, index) => {
                const mainMedia = ad.media && ad.media.length > 0 ? ad.media[0] : null;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        ${mainMedia ? 
                            `<img src="${mainMedia.url}" alt="ØµÙˆØ±Ø©" style="width:50px; height:50px; border-radius:8px; object-fit:cover;">` : 
                            'ğŸ“·'
                        }
                    </td>
                    <td>${ad.title}</td>
                    <td>${ad.price}</td>
                    <td>${ad.seller || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</td>
                    <td>${ad.date}</td>
                    <td>
                        ${currentUser.role === ROLES.OWNER || currentUser.role === ROLES.ADMIN ? 
                            `<button class="action-btn action-delete" onclick="deleteAdAdmin(${ad.id})">Ø­Ø°Ù</button>
                             <button class="action-btn action-edit" onclick="editAdAdmin(${ad.id})">ØªØ¹Ø¯ÙŠÙ„</button>` : 
                            ''
                        }
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
        function loadAdminUsers() {
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const table = document.getElementById('admin-users-table');
            
            table.innerHTML = '';
            
            users.forEach((user, index) => {
                // ğŸ”¥ Ù„Ø§ ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø§Ù„Ùƒ Ù†ÙØ³Ù‡ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ±ÙŠØ¯ ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø£Ø®Ø±Ù‰)
                if (currentUser.role === ROLES.ADMIN && user.role === ROLES.OWNER) {
                    return;
                }
                
                const row = document.createElement('tr');
                
                // ğŸ”¥ ØªØ­Ø¯ÙŠØ¯ Ø¨Ø§Ø¯Ø¬Ø© Ø§Ù„Ø¯ÙˆØ±
                let roleBadge = '';
                if (user.role === ROLES.OWNER) {
                    roleBadge = '<span class="badge-owner">ğŸ‘‘ Ù…Ø§Ù„Ùƒ</span>';
                } else if (user.role === ROLES.ADMIN) {
                    roleBadge = '<span class="badge-admin">ğŸ‘¨â€ğŸ’¼ Ù…Ø¯ÙŠØ±</span>';
                } else {
                    roleBadge = '<span class="badge-user">ğŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù…</span>';
                }
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        ${user.profilePic ? 
                            `<img src="${user.profilePic}" alt="ØµÙˆØ±Ø©" style="width:50px; height:50px; border-radius:50%; object-fit:cover;">` : 
                            'ğŸ‘¤'
                        }
                    </td>
                    <td>${user.name}</td>
                    <td>${user.email || user.identifier}</td>
                    <td>${roleBadge}</td>
                    <td>${user.adsCount || 0}</td>
                    <td>${user.joinDate}</td>
                    <td>
                        ${currentUser.role === ROLES.OWNER ? 
                            `<button class="action-btn action-promote" onclick="changeUserRole(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                                ${user.role === ROLES.ADMIN ? 'ØªÙ†Ø²ÙŠÙ„' : 'ØªØ±Ù‚ÙŠØ©'}
                            </button>` : 
                            ''
                        }
                        <button class="action-btn action-ban" onclick="toggleUserStatus(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                            ${user.isActive === false ? 'ØªÙØ¹ÙŠÙ„' : 'Ø­Ø¸Ø±'}
                        </button>
                        ${currentUser.role === ROLES.OWNER ? 
                            `<button class="action-btn action-delete" onclick="deleteUserAdmin(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                                Ø­Ø°Ù
                            </button>` : 
                            ''
                        }
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        function loadAdminReports() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // ğŸ”¥ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ
            const today = new Date().toLocaleDateString('ar-SY');
            const todayAds = ads.filter(ad => ad.date === today).length;
            document.getElementById('report-daily-ads').textContent = todayAds;
            
            // ğŸ”¥ Ù…ØªÙˆØ³Ø· Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
            if (ads.length > 0) {
                let totalPrice = 0;
                let count = 0;
                ads.forEach(ad => {
                    const priceStr = ad.price.replace(/[^0-9]/g, '');
                    const price = parseInt(priceStr) || 0;
                    if (price > 0) {
                        totalPrice += price;
                        count++;
                    }
                });
                const avgPrice = count > 0 ? Math.round(totalPrice / count).toLocaleString() : 0;
                document.getElementById('report-avg-price').textContent = avgPrice + ' Ù„.Ø³';
            }
            
            // ğŸ”¥ Ø£ÙƒØ«Ø± ÙØ¦Ø© Ù…Ø¨ÙŠØ¹Ø§Ù‹
            const categoryCount = {};
            ads.forEach(ad => {
                if (ad.category) {
                    categoryCount[ad.category] = (categoryCount[ad.category] || 0) + 1;
                }
            });
            
            let topCategory = '-';
            let maxCount = 0;
            for (const [category, count] of Object.entries(categoryCount)) {
                if (count > maxCount) {
                    maxCount = count;
                    topCategory = category;
                }
            }
            document.getElementById('report-top-category').textContent = topCategory;
            
            // ğŸ”¥ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© (Ù†Ø­Ø³Ø¨ Ù…Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª)
            const deletedAds = notifications.filter(n => n.title.includes('Ø­Ø°Ù')).length;
            document.getElementById('report-deleted-ads').textContent = deletedAds;
        }
        
        // ğŸ”¥ Ø¨Ø­Ø« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function searchAdminAds() {
            const searchTerm = document.getElementById('search-admin-ads').value.toLowerCase();
            const rows = document.querySelectorAll('#admin-ads-table tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // ğŸ”¥ Ø¨Ø­Ø« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function searchAdminUsers() {
            const searchTerm = document.getElementById('search-admin-users').value.toLowerCase();
            const rows = document.querySelectorAll('#admin-users-table tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // ========================
        // ğŸ”¥ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        // ========================
        
        // ğŸ”¥ Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù† Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function deleteAdAdmin(adId) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ')) return;
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const adIndex = ads.findIndex(ad => ad.id === adId);
            
            if (adIndex !== -1) {
                const deletedAd = ads[adIndex];
                ads.splice(adIndex, 1);
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
                
                // ğŸ”¥ Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø­Ø°Ù
                const deleteNotification = {
                    id: Date.now(),
                    title: 'ğŸ—‘ï¸ Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù†',
                    message: `ØªÙ… Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù† "${deletedAd.title}" Ø¨ÙˆØ§Ø³Ø·Ø© ${currentUser.name}`,
                    date: new Date().toLocaleString('ar-SY'),
                    read: false
                };
                
                notifications.unshift(deleteNotification);
                localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                updateNotificationBadge();
                
                // ğŸ”¥ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª
                loadAdminAds();
                loadAdminStats();
                loadAdsFromStorage();
                
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        }
        
        // ğŸ”¥ ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function editAdAdmin(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id === adId);
            
            if (ad) {
                // ğŸ”¥ ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                openPost();
                
                // ğŸ”¥ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù‡Ø°Ø§ Ù…Ø«Ø§Ù„ Ø¨Ø³ÙŠØ·)
                setTimeout(() => {
                    document.getElementById('u-title').value = ad.title;
                    document.getElementById('u-price').value = ad.price.replace(/[^0-9]/g, '');
                    document.getElementById('u-desc').value = ad.desc;
                    // ... ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„
                    
                    showNotification('ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†', 'info');
                }, 500);
            }
        }
        
        // ğŸ”¥ ØªØºÙŠÙŠØ± Ø¯ÙˆØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function changeUserRole(userId) {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                
                if (user.role === ROLES.ADMIN) {
                    // ØªÙ†Ø²ÙŠÙ„ Ù…Ù† Ù…Ø¯ÙŠØ± Ø¥Ù„Ù‰ Ù…Ø³ØªØ®Ø¯Ù…
                    user.role = ROLES.USER;
                    showNotification(`ØªÙ… ØªÙ†Ø²ÙŠÙ„ ${user.name} Ø¥Ù„Ù‰ Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ`, 'success');
                } else if (user.role === ROLES.USER) {
                    // ØªØ±Ù‚ÙŠØ© Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ù…Ø¯ÙŠØ±
                    user.role = ROLES.ADMIN;
                    showNotification(`ØªÙ… ØªØ±Ù‚ÙŠØ© ${user.name} Ø¥Ù„Ù‰ Ù…Ø¯ÙŠØ±`, 'success');
                }
                
                users[userIndex] = user;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                // ğŸ”¥ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ù…Ù† ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡
                if (currentUser && currentUser.id === userId) {
                    currentUser = user;
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    updateUserHeader();
                }
                
                loadAdminUsers();
            }
        }
        
        // ğŸ”¥ Ø­Ø¸Ø±/ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function toggleUserStatus(userId) {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                user.isActive = user.isActive === false ? true : false;
                
                users[userIndex] = user;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                const action = user.isActive ? 'ØªÙØ¹ÙŠÙ„' : 'Ø­Ø¸Ø±';
                showNotification(`ØªÙ… ${action} Ø­Ø³Ø§Ø¨ ${user.name}`, user.isActive ? 'success' : 'warning');
                
                loadAdminUsers();
            }
        }
        
        // ğŸ”¥ Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
        function deleteUserAdmin(userId) {
            if (!confirm('âš ï¸ ØªØ­Ø°ÙŠØ±: Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø³ÙŠØ²ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙ‡ Ø£ÙŠØ¶Ø§Ù‹. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')) return;
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                
                // ğŸ”¥ Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
                ads = ads.filter(ad => ad.sellerId !== userId);
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
                
                // ğŸ”¥ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                users.splice(userIndex, 1);
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                showNotification(`ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${user.name} ÙˆØ¬Ù…ÙŠØ¹ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙ‡`, 'success');
                
                loadAdminUsers();
                loadAdminAds();
                loadAdminStats();
                loadAdsFromStorage();
            }
        }
        
        // ========================
        // ğŸ”¥ Ù†Ø¸Ø§Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ† (Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·)
        // ========================
        
        function openAddManagerModal() {
            if (currentUser.role !== ROLES.OWNER) {
                showNotification('Ù‡Ø°Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·', 'error');
                return;
            }
            
            document.getElementById('add-manager-modal').style.display = 'flex';
        }
        
        function closeAddManagerModal() {
            document.getElementById('add-manager-modal').style.display = 'none';
        }
        
        function addNewManager() {
            const name = document.getElementById('new-manager-name').value.trim();
            const email = document.getElementById('new-manager-email').value.trim();
            const password = document.getElementById('new-manager-password').value.trim();
            const city = document.getElementById('new-manager-city').value;
            
            if (!name || !email || !password || !city) {
                showNotification('Ø£Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'warning');
                return;
            }
            
            if (!email.includes('@')) {
                showNotification('Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­', 'warning');
                return;
            }
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹
            if (users.find(u => u.email === email || u.identifier === email)) {
                showNotification('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹', 'warning');
                return;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const newManager = {
                id: Date.now(),
                name: name,
                identifier: email,
                email: email,
                password: password,
                city: city,
                role: ROLES.ADMIN,
                profilePic: null,
                joinDate: new Date().toLocaleDateString('ar-SY'),
                adsCount: 0,
                rating: 5.0,
                agreedToTerms: true,
                isActive: true
            };
            
            users.push(newManager);
            localStorage.setItem('mostaml_users', JSON.stringify(users));
            
            closeAddManagerModal();
            loadAdminUsers();
            
            // ğŸ”¥ ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('new-manager-name').value = '';
            document.getElementById('new-manager-email').value = '';
            document.getElementById('new-manager-password').value = '';
            document.getElementById('new-manager-city').value = '';
            
            showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯ÙŠØ± ${name} Ø¨Ù†Ø¬Ø§Ø­`, 'success');
        }
        
        // ========================
        // ğŸ”¥ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
        // ========================
        
        function resetAllData() {
            if (!confirm('âš ï¸ ØªØ­Ø°ÙŠØ± Ø®Ø·ÙŠØ±: Ù‡Ø°Ø§ Ø³ÙŠÙ…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚! Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')) return;
            
            if (!confirm('âš ï¸ ØªØ£ÙƒÙŠØ¯ Ù†Ù‡Ø§Ø¦ÙŠ: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø³ÙŠØªÙ… Ø­Ø°ÙÙ‡Ù…!')) return;
            
            // ğŸ”¥ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            localStorage.removeItem('mostaml_ads');
            localStorage.removeItem('mostaml_users');
            localStorage.removeItem('mostaml_notifications');
            localStorage.removeItem('mostaml_chats');
            
            // ğŸ”¥ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
            checkAndCreateOwner();
            
            // ğŸ”¥ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            if (currentUser && currentUser.email === OWNER_EMAIL) {
                const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
                currentUser = users.find(u => u.email === OWNER_EMAIL);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            } else {
                currentUser = null;
                localStorage.removeItem('currentUser');
            }
            
            updateUserHeader();
            loadAdsFromStorage();
            loadAdminStats();
            loadAdminAds();
            loadAdminUsers();
            
            showNotification('âœ… ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù…', 'success');
        }
        
        function exportAllData() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            const data = {
                exportDate: new Date().toLocaleString('ar-SY'),
                totalAds: ads.length,
                totalUsers: users.length,
                ads: ads,
                users: users.filter(u => u.role !== ROLES.OWNER) // ğŸ”¥ Ù„Ø§ Ù†ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `mostaml_backup_${Date.now()}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'success');
        }
        
        function createBackup() {
            // ğŸ”¥ Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
            showNotification('âœ… Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¯Ù…', 'info');
        }
        
        function saveSiteSettings() {
            // ğŸ”¥ Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
            showNotification('âœ… ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹', 'success');
        }
        
        // ========================
        // ğŸ”¥ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ© (Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±)
        // ========================
        
        function showNotification(message, type = 'default') {
            const notification = document.getElementById('notification');
            
            notification.classList.remove('warning', 'success', 'info', 'error');
            
            if (type === 'warning') {
                notification.classList.add('warning');
            } else if (type === 'success') {
                notification.classList.add('success');
            } else if (type === 'info') {
                notification.classList.add('info');
            } else if (type === 'error') {
                notification.classList.add('error');
            } else {
                notification.style.background = 'linear-gradient(135deg, var(--primary), #ff7700)';
                notification.style.boxShadow = '0 5px 20px rgba(255, 153, 0, 0.3)';
            }
            
            notification.textContent = message;
            notification.style.display = 'block';
            notification.style.animation = 'slideIn 0.4s ease';
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.4s ease';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 400);
            }, 3000);
        }
        
        function updateNotificationBadge() {
            const badge = document.getElementById('notificationBadge');
            const unread = notifications.filter(n => !n.read).length;
            
            if (unread > 0) {
                badge.style.display = 'flex';
                badge.textContent = unread > 9 ? '9+' : unread;
                badge.style.background = 'var(--primary)';
                badge.style.boxShadow = '0 2px 5px rgba(255, 153, 0, 0.3)';
            } else {
                badge.style.display = 'none';
            }
        }
        
        function checkAuthBeforePost() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø±ÙØ¹ Ø¥Ø¹Ù„Ø§Ù†', 'warning');
                openAccountModal('login');
            } else {
                openPost();
            }
        }
        
        // ğŸ”¥ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ù… ØªØªØºÙŠØ± (initCategories, addMainImage, removeMainImage, addExtraImage, updateExtraImagesDisplay, removeExtraImage, addVideo, updateVideosDisplay, removeVideo, validateAndPublish, resetUploadForm, loadAdsFromStorage, displayAd, openProduct, changeMainProductImage, openRecommendedProduct, closeProduct, requestProduct, sendPurchaseRequest, openChat, sendMessage, closeChat, toggleCategories, filterAdsByCategory, deleteAd)
        // ... [ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù‡Ù†Ø§ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±] ...
        
        // ========================
        // ğŸ”¥ Ù†Ø³Ø® Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ© (ØªÙ… Ø§Ø®ØªØµØ§Ø±Ù‡Ø§ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø·ÙˆÙ„)
        // ========================
        
        function initCategories() {
            const menu = document.getElementById('categoriesMenu');
            const select = document.getElementById('u-category');
            
            if (select && select.options.length <= 1) {
                select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>';
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    select.appendChild(option);
                });
            }
            
            if (menu && menu.children.length <= 1) {
                categories.forEach(cat => {
                    const tag = document.createElement('div');
                    tag.className = 'category-tag';
                    tag.textContent = cat;
                    tag.onclick = () => {
                        document.querySelectorAll('.category-tag').forEach(t => t.classList.remove('active'));
                        tag.classList.add('active');
                        filterAdsByCategory(cat);
                    };
                    menu.appendChild(tag);
                });
            }
        }
        
        function addMainImage(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                alert('Ø§Ø®ØªØ± ØµÙˆØ±Ø© ÙÙ‚Ø·');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                mainImage = {
                    url: e.target.result,
                    file: file,
                    type: 'image'
                };
                
                const container = document.getElementById('main-image-container');
                container.innerHTML = `
                    <div class="gallery-item">
                        <img src="${e.target.result}" alt="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
                        <button class="remove-media" onclick="removeMainImage()">Ã—</button>
                    </div>
                `;
                
                document.getElementById('addExtraImagesBtn').style.display = 'inline-flex';
                showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© âœ…', 'success');
            };
            reader.readAsDataURL(file);
        }
        
        function removeMainImage() {
            mainImage = null;
            document.getElementById('main-image-container').innerHTML = '';
            document.getElementById('mainImageInput').value = '';
            document.getElementById('addExtraImagesBtn').style.display = 'none';
        }
        
        function addExtraImage(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                if (!file.type.startsWith('image/')) {
                    alert('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµÙˆØ±Ø§Ù‹');
                    return;
                }
                
                if (extraImages.length >= 5) {
                    alert('5 ØµÙˆØ± ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    extraImages.push({
                        url: e.target.result,
                        file: file,
                        type: 'image'
                    });
                    
                    updateExtraImagesDisplay();
                };
                reader.readAsDataURL(file);
            });
            
            event.target.value = '';
        }
        
        function updateExtraImagesDisplay() {
            const container = document.getElementById('extra-images-container');
            container.innerHTML = '';
            
            extraImages.forEach((img, index) => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `
                    <img src="${img.url}" alt="ØµÙˆØ±Ø© ${index + 1}">
                    <button class="remove-media" onclick="removeExtraImage(${index})">Ã—</button>
                `;
                container.appendChild(item);
            });
            
            document.getElementById('images-counter').textContent = `${extraImages.length}/5 ØµÙˆØ±`;
            
            if (extraImages.length < 5) {
                document.getElementById('addExtraImagesBtn').style.display = 'inline-flex';
            } else {
                document.getElementById('addExtraImagesBtn').style.display = 'none';
            }
        }
        
        function removeExtraImage(index) {
            extraImages.splice(index, 1);
            updateExtraImagesDisplay();
        }
        
        function addVideo(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                if (!file.type.startsWith('video/')) {
                    alert('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª');
                    return;
                }
                
                if (videos.length >= 3) {
                    alert('3 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰');
                    return;
                }
                
                const url = URL.createObjectURL(file);
                videos.push({
                    url: url,
                    file: file,
                    type: 'video'
                });
                
                updateVideosDisplay();
            });
            
            event.target.value = '';
        }
        
        function updateVideosDisplay() {
            const container = document.getElementById('videos-container');
            container.innerHTML = '';
            
            videos.forEach((video, index) => {
                const item = document.createElement('div');
                item.className = 'gallery-item video';
                item.innerHTML = `
                    <video style="width:100%; height:100%; object-fit:cover;">
                        <source src="${video.url}" type="${video.file.type}">
                    </video>
                    <button class="remove-media" onclick="removeVideo(${index})">Ã—</button>
                `;
                container.appendChild(item);
            });
            
            document.getElementById('videos-counter').textContent = `${videos.length}/3 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª`;
        }
        
        function removeVideo(index) {
            URL.revokeObjectURL(videos[index].url);
            videos.splice(index, 1);
            updateVideosDisplay();
        }
        
        function validateAndPublish() {
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                openAccountModal('login');
                return;
            }
            
            if (!mainImage) {
                alert('Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            const title = document.getElementById('u-title').value.trim();
            const condition = document.getElementById('u-condition').value;
            const governorate = document.getElementById('u-governorate').value;
            const category = document.getElementById('u-category').value;
            const price = document.getElementById('u-price').value.trim();
            const desc = document.getElementById('u-desc').value.trim();
            
            const agreeAdTerms = document.getElementById('agree-ad-terms').checked;
            if (!agreeAdTerms) {
                alert('ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø´Ø±ÙˆØ· Ø±ÙØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†');
                return;
            }
            
            if (!title) { alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬'); return; }
            if (!condition) { alert('Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©'); return; }
            if (!governorate) { alert('Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©'); return; }
            if (!category) { alert('Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©'); return; }
            if (!price || isNaN(price)) { alert('Ø£Ø¯Ø®Ù„ Ø³Ø¹Ø± ØµØ­ÙŠØ­'); return; }
            if (!desc) { alert('Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆØµÙ'); return; }
            
            const allMedia = [mainImage, ...extraImages, ...videos];
            
            const ad = {
                id: Date.now(),
                title: title,
                price: parseInt(price).toLocaleString() + ' Ù„.Ø³',
                desc: desc,
                category: category,
                condition: condition,
                governorate: governorate,
                media: allMedia,
                date: new Date().toLocaleDateString('ar-SY'),
                time: new Date().toLocaleTimeString('ar-SY'),
                seller: currentUser.name,
                sellerId: currentUser.id,
                sellerCity: currentUser.city,
                sellerPhone: currentUser.phone
            };
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            ads.unshift(ad);
            localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            
            currentUser.adsCount = (currentUser.adsCount || 0) + 1;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
            }
            
            displayAd(ad);
            closePost();
            resetUploadForm();
            showNotification('ğŸ‰ ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }
        
        function resetUploadForm() {
            mainImage = null;
            extraImages = [];
            videos = [];
            
            document.getElementById('main-image-container').innerHTML = '';
            document.getElementById('extra-images-container').innerHTML = '';
            document.getElementById('videos-container').innerHTML = '';
            document.getElementById('u-title').value = '';
            document.getElementById('u-condition').value = '';
            document.getElementById('u-governorate').value = '';
            document.getElementById('u-category').value = '';
            document.getElementById('u-price').value = '';
            document.getElementById('u-desc').value = '';
            document.getElementById('addExtraImagesBtn').style.display = 'none';
            document.getElementById('agree-ad-terms').checked = false;
        }
        
        function loadAdsFromStorage() {
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            
            if (ads.length === 0) {
                ads = [
                    {
                        id: 1,
                        title: "Ø¢ÙŠÙÙˆÙ† 13 Ø¨Ø±Ùˆ Ø¬Ø¯ÙŠØ¯",
                        price: "2,500,000 Ù„.Ø³",
                        desc: "Ø¢ÙŠÙÙˆÙ† 13 Ø¨Ø±Ùˆ Ø¬Ø¯ÙŠØ¯ Ø¨Ø§Ù„ÙƒØ±ØªÙˆÙ†ØŒ Ø³Ø¹Ø© 256GB",
                        category: "Ù…ÙˆØ¨Ø§ÙŠÙ„Ø§Øª",
                        condition: "Ø¬Ø¯ÙŠØ¯",
                        governorate: "Ø¯Ù…Ø´Ù‚",
                        media: [{url: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=300&fit=crop", type: "image"}],
                        date: "Ø§Ù„ÙŠÙˆÙ…",
                        time: "10:30",
                        seller: "Ø£Ø­Ù…Ø¯"
                    }
                ];
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            }
            
            const grid = document.getElementById('main-ads-box');
            if (grid) {
                grid.innerHTML = '';
                ads.forEach(ad => displayAd(ad));
            }
        }
        
        function displayAd(ad) {
            const grid = document.getElementById('main-ads-box');
            const card = document.createElement('div');
            card.className = 'ad-card';
            card.dataset.category = ad.category;
            card.dataset.id = ad.id;
            
            const mainMedia = ad.media[0];
            
            card.innerHTML = `
                <div class="card-img-box">
                    <img src="${mainMedia.url}" alt="${ad.title}">
                    <div class="condition-badge">${ad.condition}</div>
                </div>
                <h3 class="ad-title">${ad.title}</h3>
                <div class="ad-price">${ad.price}</div>
                <div style="font-size:12px; color:#666; margin:5px 0;">
                    <span>${ad.category}</span> | 
                    <span>ğŸ“ ${ad.governorate}</span>
                </div>
                <div style="font-size:11px; color:#888;">
                    ğŸ‘¤ ${ad.seller || 'Ø¨Ø§Ø¦Ø¹'}
                </div>
                <button class="btn-request" onclick="event.stopPropagation(); requestProduct(${ad.id})">ğŸ›’ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</button>
            `;
            
            card.onclick = () => openProduct(ad);
            grid.appendChild(card);
        }
        
        function openProduct(ad) {
            currentAd = ad;
            
            const container = document.querySelector('#product-layer #product-content');
            
            // ğŸ”¥ Ø¥Ø¶Ø§ÙØ© Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¯ÙŠØ± Ø£Ùˆ Ù…Ø§Ù„Ùƒ
            let adminButtons = '';
            if (currentUser && (currentUser.role === ROLES.ADMIN || currentUser.role === ROLES.OWNER)) {
                adminButtons = `
                    <div style="background:#ffebee; padding:15px; border-radius:10px; margin:15px 0; border:2px solid #ffcdd2;">
                        <div style="display:flex; gap:10px;">
                            <button class="btn" onclick="deleteAdAdmin(${ad.id})" style="background:var(--danger); flex:1;">
                                ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                            </button>
                            <button class="btn" onclick="editAdAdmin(${ad.id})" style="background:var(--primary); flex:1;">
                                âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
                            </button>
                        </div>
                        <div style="font-size:12px; color:#666; margin-top:8px;">
                            âš ï¸ Ù‡Ø°Ù‡ Ø£Ø²Ø±Ø§Ø± Ø¥Ø¯Ø§Ø±Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¯Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø§Ù„Ùƒ
                        </div>
                    </div>
                `;
            }
            
            let thumbnailsHTML = '';
            if (ad.media && ad.media.length > 0) {
                thumbnailsHTML = `
                    <div class="thumbnails-gallery">
                        ${ad.media.map((media, index) => `
                            <div class="thumbnail-item ${index === 0 ? 'active' : ''}" onclick="changeMainProductImage(${index})">
                                ${media.type === 'video' ? 
                                    `<video><source src="${media.url}"></video>` : 
                                    `<img src="${media.url}" alt="ØµÙˆØ±Ø© ${index + 1}">`
                                }
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            const mainMedia = ad.media && ad.media.length > 0 ? ad.media[0] : null;
            let mainImageHTML = '';
            if (mainMedia) {
                mainImageHTML = `
                    <div class="main-image-container">
                        ${mainMedia.type === 'video' ? 
                            `<video controls><source src="${mainMedia.url}"></video>` : 
                            `<img src="${mainMedia.url}" alt="${ad.title}">`
                        }
                    </div>
                `;
            } else {
                mainImageHTML = `
                    <div class="main-image-container">
                        <div style="text-align:center; color:#666;">
                            <div style="font-size:40px;">ğŸ“·</div>
                            <div>Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±</div>
                        </div>
                    </div>
                `;
            }
            
            let sellerInfoHTML = '';
            if (ad.sellerId && currentUser && currentUser.id === ad.sellerId) {
                sellerInfoHTML = `
                    <div class="seller-info-card">
                        <div class="seller-header">
                            <div class="seller-avatar">ğŸ‘‘</div>
                            <div class="seller-details">
                                <div class="seller-name">ğŸ‘‘ Ù‡Ø°Ø§ Ø¥Ø¹Ù„Ø§Ù†Ùƒ</div>
                                <div class="seller-city">ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„Ù‡</div>
                            </div>
                        </div>
                        <button class="btn" onclick="deleteAd(${ad.id})" style="background:var(--danger); width:100%; margin-top:10px;">Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
                    </div>
                `;
            } else if (ad.seller) {
                sellerInfoHTML = `
                    <div class="seller-info-card">
                        <div class="seller-header">
                            <div class="seller-avatar">ğŸ‘¤</div>
                            <div class="seller-details">
                                <div class="seller-name">${ad.seller}</div>
                                <div class="seller-city">ğŸ“ ${ad.sellerCity || ad.governorate}</div>
                            </div>
                        </div>
                        <div style="font-size:14px; color:#666; margin-top:10px;">
                            âœ… Ø¹Ø¶Ùˆ Ù…ÙˆØ«ÙˆÙ‚ ÙÙŠ Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§
                        </div>
                    </div>
                `;
            }
            
            let recommendationsHTML = '';
            if (ad.category) {
                const allAds = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
                const sameCategoryAds = allAds.filter(item => 
                    item.category === ad.category && 
                    item.id !== ad.id
                ).slice(0, 4);
                
                if (sameCategoryAds.length > 0) {
                    recommendationsHTML = `
                        <div class="recommendations-section">
                            <h2 class="section-title-large">ğŸ”¥ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø© ÙÙŠ "${ad.category}"</h2>
                            <div class="recommendations-grid">
                                ${sameCategoryAds.map(recAd => {
                                    const recMedia = recAd.media && recAd.media.length > 0 ? recAd.media[0] : null;
                                    return `
                                        <div class="recommendation-card" onclick="openRecommendedProduct(${recAd.id})">
                                            <div class="recommendation-img">
                                                ${recMedia ? 
                                                    `<img src="${recMedia.url}" alt="${recAd.title}">` : 
                                                    `<div style="display:flex; align-items:center; justify-content:center; height:100%; font-size:30px;">ğŸ“·</div>`
                                                }
                                            </div>
                                            <h3 class="recommendation-title">${recAd.title}</h3>
                                            <div class="recommendation-price">${recAd.price}</div>
                                            <div style="font-size:12px; color:#666;">${recAd.condition}</div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    `;
                }
            }
            
            container.innerHTML = `
                ${adminButtons}
                <div class="product-main-section">
                    <div class="product-images-section">
                        ${mainImageHTML}
                        ${thumbnailsHTML}
                        
                        <div class="ad-premium ad-small ad-premium-blue" style="margin-top:20px;">
                            <p style="margin:0; font-size:13px;">ğŸ’¬ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¢Ù…Ù† Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹</p>
                        </div>
                    </div>
                    
                    <div class="product-info-section">
                        <h1 class="product-title">${ad.title}</h1>
                        
                        <div class="product-rating">
                            <div class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
                            <span>5.0 (12 ØªÙ‚ÙŠÙŠÙ…)</span>
                        </div>
                        
                        <div class="product-price">${ad.price}</div>
                        
                        <div class="product-specs">
                            <div class="spec-item">
                                <span class="spec-label">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                                <span class="spec-value">${ad.condition}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Ø§Ù„ÙØ¦Ø©:</span>
                                <span class="spec-value">${ad.category}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©:</span>
                                <span class="spec-value">ğŸ“ ${ad.governorate}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±:</span>
                                <span class="spec-value">${ad.date} - ${ad.time}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ±:</span>
                                <span class="spec-value">${ad.media ? ad.media.length : 0}</span>
                            </div>
                        </div>
                        
                        <div class="product-description">
                            <h3 style="margin-top:0; color:var(--dark);">ğŸ“ ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬</h3>
                            <div style="white-space:pre-line; line-height:1.6;">${ad.desc}</div>
                        </div>
                        
                        ${sellerInfoHTML}
                        
                        <div class="ad-premium ad-small ad-premium-green" style="margin:20px 0;">
                            <p style="margin:0; font-size:13px;">ğŸ›¡ï¸ Ø´Ø±Ø§Ø¡ Ø¢Ù…Ù† Ù…Ø¹ Ø¶Ù…Ø§Ù† Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§</p>
                        </div>
                        
                        <div class="product-actions">
                            <button class="btn-request" onclick="sendPurchaseRequest()" style="flex:2; padding:15px; font-size:16px;">
                                ğŸ›’ Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬
                            </button>
                            <button class="btn" onclick="openChat()" style="flex:1; padding:15px;">
                                ğŸ’¬ Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ø¨Ø§Ø¦Ø¹
                            </button>
                        </div>
                    </div>
                </div>
                
                ${recommendationsHTML}
            `;
            
            document.getElementById('product-layer').style.display = 'block';
        }
        
        function changeMainProductImage(index) {
            const ad = currentAd;
            const mainImageContainer = document.querySelector('.main-image-container');
            const thumbnails = document.querySelectorAll('.thumbnail-item');
            
            const media = ad.media[index];
            if (media.type === 'video') {
                mainImageContainer.innerHTML = `
                    <video controls style="width:100%; height:100%; object-fit:contain;">
                        <source src="${media.url}">
                    </video>
                `;
            } else {
                mainImageContainer.innerHTML = `
                    <img src="${media.url}" alt="${ad.title}" style="max-width:100%; max-height:100%; object-fit:contain;">
                `;
            }
            
            thumbnails.forEach((thumb, thumbIndex) => {
                thumb.classList.remove('active');
                if (thumbIndex === index) {
                    thumb.classList.add('active');
                }
            });
        }
        
        function openRecommendedProduct(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id == adId);
            
            if (ad) {
                openProduct(ad);
            }
        }
        
        function closeProduct() {
            document.getElementById('product-layer').style.display = 'none';
        }
        
        function requestProduct(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id == adId);
            
            if (ad) {
                currentAd = ad;
                sendPurchaseRequest();
            }
        }
        
        function sendPurchaseRequest() {
            if (!currentAd) return;
            
            const notification = {
                id: Date.now(),
                title: 'Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø¬Ø¯ÙŠØ¯ ğŸ›’',
                message: `ØªÙ… Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ "${currentAd.title}"`,
                date: new Date().toLocaleString('ar-SY'),
                read: false
            };
            
            notifications.unshift(notification);
            localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            
            showNotification('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©.', 'success');
            setTimeout(openChat, 1000);
        }
        
        function openChat() {
            if (!currentAd) {
                alert('Ø§Ø®ØªØ± Ù…Ù†ØªØ¬ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const randomAd = adsList[Math.floor(Math.random() * adsList.length)];
            
            const chatLayer = document.getElementById('chat-layer');
            chatLayer.innerHTML = `
                <div class="chat-header">
                    <span onclick="closeChat()" style="cursor:pointer;">âœ•</span>
                    <div>ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø©: ${currentAd.title.substring(0, 25)}${currentAd.title.length > 25 ? '...' : ''}</div>
                </div>
                
                <div class="ad-premium ad-small ad-premium-${randomAd.type}" style="margin:0; border-radius:0;">
                    <p style="margin:0; font-size:13px;">${randomAd.title}: ${randomAd.description}</p>
                </div>
                
                <div class="chat-messages" id="chat-msgs">
                    <div class="msg received">
                        <div>Ù…Ø±Ø­Ø¨Ø§Ù‹! ğŸ‘‹ Ø£Ù†Ø§ Ù…Ù‡ØªÙ… Ø¨Ù…Ù†ØªØ¬Ùƒ "${currentAd.title}"</div>
                        <div style="font-size:11px; opacity:0.7; margin-top:5px;">${new Date().toLocaleTimeString('ar-SY')}</div>
                    </div>
                </div>
                
                <div class="ad-premium ad-small ad-premium-green" style="margin:0; border-radius:0; border-top:1px solid rgba(255,255,255,0.2);">
                    <p style="margin:0; font-size:13px;">ğŸ’° Ø¥Ø¹Ù„Ø§Ù†Ùƒ Ù‡Ù†Ø§ ÙŠØµÙ„ Ù„Ù„Ù…Ø´ØªØ±ÙŠÙ† Ø§Ù„Ù…Ù‡ØªÙ…ÙŠÙ†</p>
                </div>
                
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." 
                           onkeypress="if(event.key === 'Enter') sendMessage()">
                    <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
                </div>
            `;
            
            chatLayer.style.display = 'flex';
            document.getElementById('chat-input').focus();
            
            setTimeout(() => {
                const chatMsgs = document.getElementById('chat-msgs');
                const welcomeMsg = document.createElement('div');
                welcomeMsg.className = 'msg received';
                welcomeMsg.innerHTML = `
                    <div>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ğŸ˜Š Ø£Ù†Ø§ Ø§Ù„Ø¨Ø§Ø¦Ø¹. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¨Ø®ØµÙˆØµ ${currentAd.title}ØŸ</div>
                    <div style="font-size:11px; opacity:0.7; margin-top:5px;">${new Date().toLocaleTimeString('ar-SY')}</div>
                `;
                chatMsgs.appendChild(welcomeMsg);
                chatMsgs.scrollTop = chatMsgs.scrollHeight;
            }, 1000);
        }
        
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            
            if (!text) return;
            
            const chatMsgs = document.getElementById('chat-msgs');
            
            const sentMsg = document.createElement('div');
            sentMsg.className = 'msg sent';
            sentMsg.innerHTML = `
                <div>${text}</div>
                <div style="font-size:11px; opacity:0.7; margin-top:5px;">${new Date().toLocaleTimeString('ar-SY')}</div>
            `;
            chatMsgs.appendChild(sentMsg);
            input.value = '';
            
            setTimeout(() => {
                const replies = [
                    "Ù†Ø¹Ù…ØŒ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªÙˆÙØ± âœ…",
                    "Ø§Ù„Ø³Ø¹Ø± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙØ§ÙˆØ¶ Ù‚Ù„ÙŠÙ„Ø§Ù‹ ğŸ’°",
                    "ÙŠÙ…ÙƒÙ†Ù†ÙŠ ØªÙˆØµÙŠÙ„Ù‡ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© ğŸšš",
                    "Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø­Ø§Ù„Ø© Ù…Ù…ØªØ§Ø²Ø© ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ± âœ¨",
                    "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰ Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬ØŸ ğŸ¤”"
                ];
                
                const randomReply = replies[Math.floor(Math.random() * replies.length)];
                
                const receivedMsg = document.createElement('div');
                receivedMsg.className = 'msg received';
                receivedMsg.innerHTML = `
                    <div>${randomReply}</div>
                    <div style="font-size:11px; opacity:0.7; margin-top:5px;">${new Date().toLocaleTimeString('ar-SY')}</div>
                `;
                chatMsgs.appendChild(receivedMsg);
                
                setTimeout(() => {
                    const adTypes = ['blue', 'green', 'purple', 'red'];
                    const randomAdType = adTypes[Math.floor(Math.random() * adTypes.length)];
                    
                    const adMsg = document.createElement('div');
                    adMsg.style.cssText = `
                        text-align: center;
                        margin: 10px;
                        padding: 8px;
                        background: linear-gradient(135deg, var(--${randomAdType}), #2c3e50);
                        color: white;
                        border-radius: 10px;
                        font-size: 12px;
                        cursor: pointer;
                    `;
                    adMsg.innerHTML = `ğŸ’° <strong>Ø¥Ø¹Ù„Ø§Ù†:</strong> Ø±ÙˆØ¬ Ù„Ù…Ù†ØªØ¬Ùƒ Ø¹Ù„Ù‰ Ù…Ø³ØªØ¹Ù…Ù„ Ø³ÙˆØ±ÙŠØ§`;
                    adMsg.onclick = () => showNotification('ğŸš€ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†: 0999999999', 'info');
                    chatMsgs.appendChild(adMsg);
                }, 500);
                
                chatMsgs.scrollTop = chatMsgs.scrollHeight;
            }, 1000 + Math.random() * 1000);
            
            chatMsgs.scrollTop = chatMsgs.scrollHeight;
        }
        
        function closeChat() {
            document.getElementById('chat-layer').style.display = 'none';
        }
        
        function toggleCategories() {
            const menu = document.getElementById('categoriesMenu');
            if (menu) {
                menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
            }
        }
        
        function filterAdsByCategory(category) {
            const ads = document.querySelectorAll('.ad-card');
            ads.forEach(ad => {
                const adCategory = ad.dataset.category;
                if (category === 'Ø¬Ù…ÙŠØ¹' || adCategory === category) {
                    ad.style.display = 'block';
                } else {
                    ad.style.display = 'none';
                }
            });
        }
        
        function deleteAd(adId) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ')) return;
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            ads = ads.filter(ad => ad.id !== adId);
            localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            
            if (currentUser) {
                currentUser.adsCount = Math.max(0, (currentUser.adsCount || 1) - 1);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('mostaml_users', JSON.stringify(users));
                }
            }
            
            closeProduct();
            loadAdsFromStorage();
            showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†', 'success');
        }
        
        document.getElementById('searchInput').addEventListener('input', function() {
            const term = this.value.toLowerCase();
            const ads = document.querySelectorAll('.ad-card');
            
            ads.forEach(ad => {
                const title = ad.querySelector('.ad-title').textContent.toLowerCase();
                if (title.includes(term)) {
                    ad.style.display = 'block';
                } else {
                    ad.style.display = 'none';
                }
            });
        });
        
        // ğŸ”¥ Ø¯Ø§Ù„Ø© Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Ù„Ø§ ØªØªØºÙŠØ±)
        function showNotifications() {
            const modal = document.getElementById('notifications-modal');
            const list = document.getElementById('notifications-list');
            const markAllContainer = document.getElementById('mark-all-read-container');
            
            if (notifications.length === 0) {
                list.innerHTML = `
                    <div class="no-notifications">
                        ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                        <div style="font-size:14px; margin-top:10px;">Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„</div>
                    </div>
                `;
                markAllContainer.style.display = 'none';
            } else {
                list.innerHTML = '';
                
                notifications.forEach((notification, index) => {
                    const item = document.createElement('div');
                    item.className = `notification-item ${notification.read ? '' : 'unread'}`;
                    
                    let icon = 'ğŸ””';
                    if (notification.title.includes('Ø·Ù„Ø¨')) icon = 'ğŸ›’';
                    if (notification.title.includes('Ø±Ø³Ø§Ù„Ø©')) icon = 'ğŸ’¬';
                    if (notification.title.includes('Ù†Ø¬Ø§Ø­')) icon = 'âœ…';
                    if (notification.title.includes('ØªØ­Ø°ÙŠØ±')) icon = 'âš ï¸';
                    
                    item.innerHTML = `
                        <div class="notification-icon">${icon}</div>
                        <div class="notification-content">
                            <div class="notification-title">${notification.title}</div>
                            <div class="notification-message">${notification.message}</div>
                            <div class="notification-time">${notification.date}</div>
                        </div>
                    `;
                    
                    item.onclick = () => {
                        notifications[index].read = true;
                        localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                        updateNotificationBadge();
                        renderNotifications();
                    };
                    
                    list.appendChild(item);
                });
                
                const unreadCount = notifications.filter(n => !n.read).length;
                if (unreadCount > 0) {
                    markAllContainer.style.display = 'block';
                } else {
                    markAllContainer.style.display = 'none';
                }
            }
            
            modal.style.display = 'flex';
        }
        
        function renderNotifications() {
            const list = document.getElementById('notifications-list');
            const markAllContainer = document.getElementById('mark-all-read-container');
            
            if (notifications.length === 0) {
                list.innerHTML = `
                    <div class="no-notifications">
                        ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                        <div style="font-size:14px; margin-top:10px;">Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„</div>
                    </div>
                `;
                markAllContainer.style.display = 'none';
                return;
            }
            
            list.innerHTML = '';
            
            notifications.forEach((notification, index) => {
                const item = document.createElement('div');
                item.className = `notification-item ${notification.read ? '' : 'unread'}`;
                
                let icon = 'ğŸ””';
                if (notification.title.includes('Ø·Ù„Ø¨')) icon = 'ğŸ›’';
                if (notification.title.includes('Ø±Ø³Ø§Ù„Ø©')) icon = 'ğŸ’¬';
                if (notification.title.includes('Ù†Ø¬Ø§Ø­')) icon = 'âœ…';
                if (notification.title.includes('ØªØ­Ø°ÙŠØ±')) icon = 'âš ï¸';
                
                item.innerHTML = `
                    <div class="notification-icon">${icon}</div>
                    <div class="notification-content">
                        <div class="notification-title">${notification.title}</div>
                        <div class="notification-message">${notification.message}</div>
                        <div class="notification-time">${notification.date}</div>
                    </div>
                `;
                
                item.onclick = () => {
                    notifications[index].read = true;
                    localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                    updateNotificationBadge();
                    renderNotifications();
                };
                
                list.appendChild(item);
            });
            
            const unreadCount = notifications.filter(n => !n.read).length;
            if (unreadCount > 0) {
                markAllContainer.style.display = 'block';
            } else {
                markAllContainer.style.display = 'none';
            }
        }
        
        function closeNotifications() {
            document.getElementById('notifications-modal').style.display = 'none';
        }
        
        function markAllAsRead() {
            notifications.forEach(notification => {
                notification.read = true;
            });
            localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            renderNotifications();
            showNotification('ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø© âœ…', 'success');
        }
        
        function openPost() {
            resetUploadForm();
            document.getElementById('upload-modal').style.display = 'flex';
            
            const categorySelect = document.getElementById('u-category');
            if (categorySelect && categorySelect.options.length <= 1) {
                categorySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>';
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    categorySelect.appendChild(option);
                });
            }
        }
        
        function closePost() {
            document.getElementById('upload-modal').style.display = 'none';
            resetUploadForm();
        }
    </script>
</body>
</html>