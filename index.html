<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#ff9900">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß - ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ŸÖÿ™ŸÉÿßŸÖŸÑ</title>
    
    <style>
        /* ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿßÿ™ */
        :root { 
            --primary: #ff9900; 
            --primary-light: #fff5e6;
            --dark: #1a1a1a; 
            --light: #f0f2f5; 
            --success: #2ecc71;
            --danger: #e74c3c;
            --blue: #3498db;
            --purple: #9b59b6;
            --admin: #9b59b6;
            --owner: #e74c3c;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            margin: 0; 
            background: var(--light); 
            direction: rtl; 
            -webkit-text-size-adjust: 100%;
            -moz-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        * {
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        input, textarea, select {
            -webkit-user-select: text;
            -khtml-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        /* ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ */
        header { 
            background: var(--dark); 
            color: white; 
            padding: 12px 4%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            position: sticky; 
            top: 0; 
            z-index: 1000;
            height: 60px;
        }
        
        @media (max-width: 768px) {
            header {
                padding: 10px 3%;
                height: 56px;
            }
        }
        
        @media (max-width: 480px) {
            header {
                padding: 8px 2%;
                height: 52px;
            }
        }
        
        .header-logo { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            cursor: pointer;
            max-width: 60%;
        }
        
        @media (max-width: 768px) {
            .header-logo {
                gap: 8px;
            }
        }
        
        .header-logo-s { 
            background: var(--primary); 
            padding: 5px 10px; 
            border-radius: 8px; 
            font-weight: 900; 
            font-size: 20px; 
            color: white;
            min-width: 36px;
            text-align: center;
        }
        
        @media (max-width: 480px) {
            .header-logo-s {
                font-size: 18px;
                padding: 4px 8px;
                min-width: 32px;
            }
        }
        
        .header-logo-txt { 
            font-size: 18px; 
            font-weight: bold; 
            color: var(--primary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .header-logo-txt {
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            .header-logo-txt {
                font-size: 14px;
            }
        }
        
        /* üî• ÿ≤ÿ± ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .mobile-menu-btn {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 24px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }
        
        .mobile-menu-btn span {
            width: 100%;
            height: 3px;
            background-color: white;
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: flex;
            }
            
            /* ÿ•ÿÆŸÅÿßÿ° ÿ®ÿπÿ∂ ÿßŸÑÿπŸÜÿßÿµÿ± ŸÅŸä ÿßŸÑÿ¨ŸàÿßŸÑ */
            .header-right-content {
                display: none !important;
            }
            
            .mobile-header-content {
                display: flex;
                align-items: center;
                gap: 15px;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-header-content {
                display: none !important;
            }
        }
        
        /* üî• ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .mobile-sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 20px rgba(0,0,0,0.2);
            z-index: 9999;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .mobile-sidebar.active {
            right: 0;
        }
        
        .mobile-sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9998;
            display: none;
        }
        
        .mobile-sidebar-overlay.active {
            display: block;
        }
        
        .mobile-sidebar-header {
            background: var(--dark);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .mobile-sidebar-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .mobile-sidebar-body {
            flex: 1;
            padding: 20px 0;
        }
        
        .mobile-sidebar-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: var(--dark);
            text-decoration: none;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.3s;
        }
        
        .mobile-sidebar-item:hover {
            background: #f8f8f8;
        }
        
        .mobile-sidebar-item i {
            font-size: 20px;
            margin-left: 10px;
            width: 30px;
            text-align: center;
        }
        
        .mobile-sidebar-footer {
            padding: 20px;
            border-top: 1px solid #f0f0f0;
            background: #f9f9f9;
        }
        
        /* ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ¨ŸàÿßŸÑ */
        .btn { 
            background: var(--primary); 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 10px; 
            font-weight: bold; 
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .btn {
                padding: 8px 16px;
                font-size: 13px;
                height: 36px;
            }
        }
        
        @media (max-width: 480px) {
            .btn {
                padding: 6px 12px;
                font-size: 12px;
                height: 34px;
            }
        }
        
        .btn:hover { 
            background: #e68900; 
        }

        /* üî• ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ£ÿØŸàÿßÿ± */
        .btn-owner {
            background: var(--owner);
        }
        .btn-admin {
            background: var(--admin);
        }
        .btn-user {
            background: var(--blue);
        }

        /* ============ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        .ad-premium {
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            border-radius: 12px;
            padding: 12px;
            margin: 12px 4%;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .ad-premium {
                margin: 10px 3%;
                padding: 10px;
                border-radius: 10px;
                font-size: 13px;
            }
        }
        
        @media (max-width: 480px) {
            .ad-premium {
                margin: 8px 2%;
                padding: 8px;
                border-radius: 8px;
                font-size: 12px;
            }
        }
        
        .ad-premium::before {
            content: "üí∞ ÿ•ÿπŸÑÿßŸÜ";
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 6px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: bold;
        }
        
        @media (max-width: 480px) {
            .ad-premium::before {
                top: 6px;
                left: 6px;
                font-size: 9px;
                padding: 2px 4px;
            }
        }
        
        .ad-premium-blue {
            background: linear-gradient(135deg, var(--blue), #2980b9);
        }
        
        .ad-premium-green {
            background: linear-gradient(135deg, var(--success), #27ae60);
        }
        
        .ad-premium-purple {
            background: linear-gradient(135deg, var(--purple), #8e44ad);
        }
        
        .ad-premium-red {
            background: linear-gradient(135deg, var(--danger), #c0392b);
        }
        
        .ad-small {
            padding: 8px;
            margin: 8px 0;
            font-size: 12px;
        }
        
        .ad-medium {
            padding: 10px;
            margin: 10px 0;
            font-size: 13px;
        }

        /* ÿßŸÑÿ®ÿ≠ÿ´ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .search-area { 
            padding: 12px 4%; 
            background: white; 
            border-bottom: 1px solid #eee; 
            display: flex; 
            gap: 8px; 
            justify-content: center; 
            flex-wrap: wrap;
        }
        
        @media (max-width: 768px) {
            .search-area {
                padding: 10px 3%;
                gap: 6px;
            }
        }
        
        @media (max-width: 480px) {
            .search-area {
                padding: 8px 2%;
                gap: 4px;
            }
        }
        
        .search-input { 
            width: 100%; 
            max-width: 500px; 
            padding: 10px; 
            border: 2px solid #eee; 
            border-radius: 8px; 
            outline: none; 
            font-size: 14px;
            height: 40px;
        }
        
        @media (max-width: 768px) {
            .search-input {
                font-size: 13px;
                height: 36px;
                padding: 8px;
            }
        }
        
        @media (max-width: 480px) {
            .search-input {
                font-size: 12px;
                height: 34px;
                padding: 6px;
            }
        }

        /* ÿßŸÑŸÅÿ¶ÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .categories-menu {
            background: white;
            border-radius: 8px;
            padding: 8px;
            margin: 8px 4%;
            display: none;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: center;
            max-height: 200px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        @media (max-width: 768px) {
            .categories-menu {
                margin: 6px 3%;
                padding: 6px;
                gap: 5px;
            }
        }
        
        @media (max-width: 480px) {
            .categories-menu {
                margin: 4px 2%;
                padding: 4px;
                gap: 4px;
                max-height: 150px;
            }
        }
        
        .category-tag {
            background: #f0f0f0;
            padding: 5px 10px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .category-tag {
                font-size: 11px;
                padding: 4px 8px;
            }
        }
        
        @media (max-width: 480px) {
            .category-tag {
                font-size: 10px;
                padding: 3px 6px;
            }
        }
        
        .category-tag:hover, .category-tag.active {
            background: var(--primary);
            color: white;
        }

        /* ÿ¥ÿ®ŸÉÿ© ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .container { 
            padding: 15px 4%; 
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 12px 3%;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px 2%;
            }
        }
        
        .ads-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 15px;
        }
        
        @media (max-width: 768px) {
            .ads-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .ads-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 10px;
            }
        }
        
        @media (max-width: 360px) {
            .ads-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
        }
        
        .ad-card { 
            background: white; 
            border-radius: 12px; 
            padding: 12px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
            cursor: pointer; 
            position: relative;
            border: 1px solid #eee;
            transition: transform 0.2s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .ad-card:active {
            transform: scale(0.98);
        }
        
        @media (max-width: 768px) {
            .ad-card {
                padding: 10px;
                border-radius: 10px;
            }
        }
        
        @media (max-width: 480px) {
            .ad-card {
                padding: 8px;
                border-radius: 8px;
            }
        }
        
        .card-img-box { 
            height: 140px; 
            background: #f8f8f8; 
            border-radius: 8px; 
            overflow: hidden; 
            margin-bottom: 8px; 
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .card-img-box {
                height: 120px;
            }
        }
        
        @media (max-width: 480px) {
            .card-img-box {
                height: 100px;
            }
        }
        
        .card-img-box img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }
        
        .condition-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
        }
        
        @media (max-width: 480px) {
            .condition-badge {
                font-size: 9px;
                padding: 2px 4px;
            }
        }
        
        .ad-price {
            color: var(--primary);
            font-weight: bold;
            font-size: 15px;
            margin: 4px 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .ad-price {
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .ad-price {
                font-size: 13px;
            }
        }
        
        .ad-title {
            font-size: 14px;
            margin: 4px 0;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.3;
            height: 36px;
            flex-grow: 1;
        }
        
        @media (max-width: 768px) {
            .ad-title {
                font-size: 13px;
                height: 34px;
            }
        }
        
        @media (max-width: 480px) {
            .ad-title {
                font-size: 12px;
                height: 32px;
                -webkit-line-clamp: 2;
            }
        }
        
        /* üî• ÿπŸÑÿßŸÖÿ© "ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ" */
        .sold-badge {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(46, 204, 113, 0.95);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
            border: 3px solid white;
            text-align: center;
            width: 80%;
        }
        
        @media (max-width: 480px) {
            .sold-badge {
                font-size: 12px;
                padding: 6px 12px;
                width: 85%;
            }
        }
        
        /* üî• ÿ™ÿØÿ±ÿ¨ ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿ© ÿπŸÜÿØŸÖÿß ŸäŸÉŸàŸÜ ÿßŸÑÿ•ÿπŸÑÿßŸÜ ŸÖÿ®ÿßÿπ */
        .sold-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            z-index: 5;
        }
        
        .btn-request {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px;
            border-radius: 6px;
            width: 100%;
            margin-top: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            height: 32px;
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .btn-request {
                font-size: 11px;
                height: 30px;
                padding: 6px;
            }
        }
        
        @media (max-width: 480px) {
            .btn-request {
                font-size: 10px;
                height: 28px;
                padding: 5px;
            }
        }
        
        .btn-request:hover {
            background: #e68900;
        }

        /* ============ ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ±ŸÅÿπ ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #upload-modal { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.9); 
            display: none; 
            justify-content: center; 
            align-items: flex-start; 
            z-index: 6000;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .modal-body { 
            background: white; 
            width: 100%; 
            max-width: 500px; 
            padding: 15px; 
            border-radius: 0; 
            position: relative; 
            margin: 0;
            max-height: 100vh;
            overflow-y: auto;
            min-height: 100vh;
        }
        
        @media (min-width: 768px) {
            .modal-body {
                border-radius: 15px;
                margin: 20px auto;
                max-height: 90vh;
                min-height: auto;
            }
        }
        
        .close-x { 
            position: fixed; 
            left: 15px; 
            top: 15px; 
            font-size: 24px; 
            cursor: pointer; 
            background: rgba(0,0,0,0.5); 
            width: 40px; 
            height: 40px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: white;
            z-index: 6001;
        }
        
        @media (max-width: 480px) {
            .close-x {
                left: 10px;
                top: 10px;
                width: 36px;
                height: 36px;
            }
        }

        /* ŸÇÿ≥ŸÖ ÿßŸÑÿ±ŸÅÿπ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .upload-section {
            margin-bottom: 20px;
            padding: 0;
            background: transparent;
            border-radius: 12px;
            border: 2px solid var(--primary);
            overflow: hidden;
        }
        
        .upload-section-header {
            background: var(--primary-light);
            padding: 12px;
            border-bottom: 2px solid var(--primary);
        }
        
        .section-title {
            font-weight: bold;
            margin-bottom: 4px;
            color: var(--dark);
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 480px) {
            .section-title {
                font-size: 14px;
            }
        }
        
        .section-subtitle {
            color: #666;
            font-size: 12px;
            margin: 0;
            line-height: 1.3;
        }
        
        @media (max-width: 480px) {
            .section-subtitle {
                font-size: 11px;
            }
        }
        
        .upload-section-content {
            padding: 12px;
            background: white;
        }
        
        /* ÿ≤ÿ± ÿßŸÑÿ±ŸÅÿπ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .upload-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--primary);
            color: white !important;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 8px 0;
            border: none;
            font-weight: bold;
            font-size: 13px;
            width: 100%;
            justify-content: center;
        }
        
        @media (max-width: 480px) {
            .upload-btn {
                padding: 8px 12px;
                font-size: 12px;
            }
        }
        
        .upload-btn input[type="file"] {
            display: none;
        }
        
        /* ŸÖÿπÿ±ÿ∂ ÿßŸÑÿµŸàÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .gallery-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
            min-height: 40px;
            padding: 12px;
            background: var(--primary-light);
            border-radius: 8px;
            border: 2px dashed rgba(255, 153, 0, 0.3);
            justify-content: center;
        }
        
        @media (max-width: 480px) {
            .gallery-container {
                gap: 6px;
                padding: 10px;
            }
        }
        
        .gallery-item {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            border: 3px solid var(--primary);
            background: white;
            flex-shrink: 0;
        }
        
        @media (max-width: 480px) {
            .gallery-item {
                width: 70px;
                height: 70px;
            }
        }
        
        .gallery-item.video {
            border-color: var(--blue);
        }
        
        .remove-media {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--danger);
            color: white;
            border: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            padding: 0;
        }
        
        /* ÿßŸÑŸÅŸàÿ±ŸÖ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .form-g { margin-bottom: 12px; }
        .form-g label { 
            display: block; 
            margin-bottom: 4px; 
            font-weight: bold;
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .form-g label {
                font-size: 13px;
            }
        }
        
        .form-g input, .form-g select, .form-g textarea { 
            width: 100%; 
            padding: 10px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            box-sizing: border-box;
            font-size: 14px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        @media (max-width: 480px) {
            .form-g input, .form-g select, .form-g textarea {
                padding: 8px;
                font-size: 13px;
            }
        }
        
        .form-g textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* ============ ÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #product-layer { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: white; 
            display: none; 
            z-index: 4000; 
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .nav-back { 
            padding: 15px; 
            font-size: 16px; 
            font-weight: bold; 
            cursor: pointer; 
            color: var(--primary); 
            background: #f5f5f5;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 8px;
            height: 56px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        @media (max-width: 480px) {
            .nav-back {
                padding: 12px;
                font-size: 15px;
                height: 52px;
            }
        }
        
        .nav-back::before {
            content: "‚Üê";
            font-size: 20px;
        }
        
        .product-container { 
            width: 100%; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 15px; 
        }
        
        @media (max-width: 768px) {
            .product-container {
                padding: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .product-container {
                padding: 10px;
            }
        }
        
        /* ÿ™ÿµŸÖŸäŸÖ ÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .product-main-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (min-width: 992px) {
            .product-main-section {
                flex-direction: row;
                gap: 30px;
            }
        }
        
        .product-images-section {
            flex: 1;
            width: 100%;
        }
        
        .product-info-section {
            flex: 1;
            width: 100%;
        }
        
        .main-image-container {
            width: 100%;
            height: 300px;
            background: #f8f8f8;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .main-image-container {
                height: 250px;
            }
        }
        
        @media (max-width: 480px) {
            .main-image-container {
                height: 200px;
            }
        }
        
        .main-image-container img, .main-image-container video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .thumbnails-gallery {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 8px 0;
            margin-bottom: 15px;
            -webkit-overflow-scrolling: touch;
        }
        
        @media (max-width: 480px) {
            .thumbnails-gallery {
                gap: 6px;
            }
        }
        
        .thumbnail-item {
            width: 70px;
            height: 70px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid #eee;
            flex-shrink: 0;
        }
        
        @media (max-width: 480px) {
            .thumbnail-item {
                width: 60px;
                height: 60px;
            }
        }
        
        .thumbnail-item.active {
            border-color: var(--primary);
        }
        
        .thumbnail-item img, .thumbnail-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-title {
            font-size: 22px;
            margin: 0 0 12px 0;
            color: var(--dark);
            font-weight: bold;
            line-height: 1.2;
        }
        
        @media (max-width: 768px) {
            .product-title {
                font-size: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .product-title {
                font-size: 18px;
            }
        }
        
        /* üî• ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ŸÇŸäŸäŸÖÿßÿ™ */
        .rating-system {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .rating-stars {
            display: flex;
            gap: 2px;
        }
        
        .rating-star {
            font-size: 20px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .rating-star.active {
            color: #ffc107;
        }
        
        .rating-value {
            font-size: 14px;
            color: #666;
        }
        
        .product-price {
            color: var(--primary);
            font-size: 26px;
            font-weight: bold;
            margin: 15px 0;
        }
        
        @media (max-width: 480px) {
            .product-price {
                font-size: 22px;
            }
        }
        
        .product-specs {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
        }
        
        @media (max-width: 480px) {
            .product-specs {
                padding: 12px;
            }
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .spec-item {
                font-size: 13px;
                padding: 6px 0;
            }
        }
        
        .spec-item:last-child {
            border-bottom: none;
        }
        
        .spec-label {
            color: #666;
        }
        
        .spec-value {
            font-weight: bold;
            color: var(--dark);
        }
        
        .product-description {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            line-height: 1.6;
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .product-description {
                padding: 12px;
                font-size: 13px;
            }
        }
        
        .seller-info-card {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
        }
        
        .seller-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .seller-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .seller-details {
            flex: 1;
        }
        
        .seller-name {
            font-weight: bold;
            font-size: 16px;
        }
        
        @media (max-width: 480px) {
            .seller-name {
                font-size: 15px;
            }
        }
        
        .seller-city {
            color: #666;
            font-size: 13px;
        }
        
        .product-actions {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* ŸÇÿ≥ŸÖ ÿßŸÑÿßŸÇÿ™ÿ±ÿßÿ≠ÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .recommendations-section {
            margin-top: 30px;
            border-top: 2px solid #eee;
            padding-top: 20px;
        }
        
        .section-title-large {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--dark);
            text-align: center;
        }
        
        @media (max-width: 480px) {
            .section-title-large {
                font-size: 18px;
            }
        }
        
        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .recommendations-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
                gap: 10px;
            }
        }
        
        @media (max-width: 480px) {
            .recommendations-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
        }
        
        .recommendation-card {
            background: white;
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: 1px solid #eee;
            transition: transform 0.2s;
        }
        
        .recommendation-card:active {
            transform: translateY(-3px);
        }
        
        .recommendation-img {
            width: 100%;
            height: 120px;
            background: #f8f8f8;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        @media (max-width: 480px) {
            .recommendation-img {
                height: 100px;
            }
        }
        
        .recommendation-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .recommendation-title {
            font-size: 13px;
            margin: 4px 0;
            height: 36px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.3;
        }
        
        @media (max-width: 480px) {
            .recommendation-title {
                font-size: 12px;
                height: 34px;
            }
        }
        
        .recommendation-price {
            color: var(--primary);
            font-weight: bold;
            font-size: 14px;
            margin: 4px 0;
        }
        
        @media (max-width: 480px) {
            .recommendation-price {
                font-size: 13px;
            }
        }

        /* ============ üî• ÿßŸÑÿØÿ±ÿØÿ¥ÿ© ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ© ŸÖÿπ ÿ•ÿ±ÿ≥ÿßŸÑ ÿµŸàÿ™ ŸàÿµŸàÿ±ÿ© ŸàŸÅŸäÿØŸäŸà ============ */
        #chat-layer { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: white; 
            display: none; 
            flex-direction: column; 
            z-index: 7000;
        }
        
        .chat-header { 
            padding: 15px; 
            background: var(--dark); 
            color: white; 
            display: flex; 
            align-items: center; 
            justify-content: space-between;
            height: 60px;
            flex-shrink: 0;
        }
        
        @media (max-width: 480px) {
            .chat-header {
                padding: 12px;
                height: 56px;
            }
        }
        
        .chat-header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .chat-back-btn {
            cursor: pointer;
            font-size: 20px;
        }
        
        .chat-title {
            font-weight: bold;
            font-size: 16px;
        }
        
        .chat-messages { 
            flex: 1; 
            padding: 15px; 
            overflow-y: auto; 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            background: #f4f4f4;
            -webkit-overflow-scrolling: touch;
        }
        
        @media (max-width: 480px) {
            .chat-messages {
                padding: 12px;
            }
        }
        
        .msg { 
            max-width: 85%; 
            padding: 12px 15px; 
            border-radius: 15px; 
            font-size: 14px;
            word-wrap: break-word;
            position: relative;
        }
        
        @media (max-width: 480px) {
            .msg {
                max-width: 90%;
                font-size: 13px;
                padding: 10px 12px;
            }
        }
        
        .msg.sent { 
            align-self: flex-end; 
            background: var(--primary); 
            color: white; 
            border-bottom-right-radius: 5px;
        }
        
        .msg.received { 
            align-self: flex-start; 
            background: white; 
            border-bottom-left-radius: 5px;
        }
        
        .msg-time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 5px;
            text-align: left;
        }
        
        /* üî• ÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑŸàÿ≥ÿßÿ¶ÿ∑ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ© */
        .media-msg {
            padding: 10px;
            border-radius: 15px;
            max-width: 250px;
            background: white;
            border: 1px solid #eee;
        }
        
        .media-msg.sent {
            background: var(--primary-light);
            border-color: var(--primary);
        }
        
        .media-preview {
            width: 100%;
            height: 150px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 8px;
            position: relative;
        }
        
        .media-preview img, .media-preview video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .audio-player {
            width: 100%;
            padding: 10px;
            background: #f8f8f8;
            border-radius: 10px;
        }
        
        .audio-player audio {
            width: 100%;
            height: 40px;
        }
        
        .media-info {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #666;
        }
        
        .media-icon {
            font-size: 20px;
        }
        
        /* üî• ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑŸàÿ≥ÿßÿ¶ÿ∑ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ© ŸÅŸä ÿßŸÑÿØÿ±ÿØÿ¥ÿ© */
        .chat-media-buttons {
            display: flex;
            gap: 10px;
            padding: 10px;
            background: white;
            border-top: 1px solid #eee;
        }
        
        .media-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f0f0f0;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: background 0.3s;
        }
        
        .media-btn:hover {
            background: #e0e0e0;
        }
        
        .media-btn.photo {
            color: #2196F3;
        }
        
        .media-btn.video {
            color: #FF5722;
        }
        
        .media-btn.audio {
            color: #4CAF50;
        }
        
        .chat-input-area {
            padding: 12px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 8px;
            align-items: center;
            flex-shrink: 0;
        }
        
        .chat-input-container {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
            background: #f8f8f8;
            border-radius: 25px;
            padding: 8px 15px;
        }
        
        .chat-input-area input {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            font-size: 14px;
            height: 40px;
            outline: none;
        }
        
        @media (max-width: 480px) {
            .chat-input-area input {
                padding: 8px;
                font-size: 13px;
                height: 36px;
            }
        }
        
        .chat-send-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (max-width: 480px) {
            .chat-send-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
        
        /* üî• ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿµŸàÿ™ */
        .voice-recorder {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 7001;
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            width: 90%;
            max-width: 400px;
        }
        
        .voice-recorder.active {
            display: flex;
        }
        
        .recording-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--danger);
        }
        
        .recording-dot {
            width: 12px;
            height: 12px;
            background: var(--danger);
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .recording-timer {
            font-size: 18px;
            font-weight: bold;
        }
        
        .recording-controls {
            display: flex;
            gap: 15px;
        }
        
        .record-btn, .stop-btn, .cancel-btn {
            padding: 10px 20px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .record-btn {
            background: var(--primary);
            color: white;
        }
        
        .stop-btn {
            background: var(--danger);
            color: white;
        }
        
        .cancel-btn {
            background: #666;
            color: white;
        }
        
        .recording-wave {
            display: flex;
            gap: 4px;
            height: 30px;
            align-items: flex-end;
        }
        
        .wave-bar {
            width: 4px;
            background: var(--primary);
            border-radius: 2px;
            animation: wave 1.5s ease-in-out infinite;
        }
        
        .wave-bar:nth-child(2) { animation-delay: 0.1s; height: 70%; }
        .wave-bar:nth-child(3) { animation-delay: 0.2s; height: 90%; }
        .wave-bar:nth-child(4) { animation-delay: 0.3s; height: 100%; }
        .wave-bar:nth-child(5) { animation-delay: 0.4s; height: 85%; }
        .wave-bar:nth-child(6) { animation-delay: 0.5s; height: 75%; }
        .wave-bar:nth-child(7) { animation-delay: 0.6s; height: 95%; }
        
        @keyframes wave {
            0%, 100% { height: 50%; }
            50% { height: 100%; }
        }

        /* ============ üî• ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        .notification {
            position: fixed;
            top: 20px;
            right: 10px;
            left: 10px;
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(255, 153, 0, 0.3);
            z-index: 10000;
            display: none;
            animation: slideIn 0.4s ease;
            font-weight: 500;
            border: none;
            font-size: 14px;
            text-align: center;
            max-width: calc(100% - 20px);
            margin: 0 auto;
        }
        
        @media (max-width: 480px) {
            .notification {
                padding: 10px 12px;
                font-size: 13px;
                right: 8px;
                left: 8px;
                max-width: calc(100% - 16px);
            }
        }
        
        .notification::before {
            content: "üîî";
            margin-left: 8px;
            font-size: 16px;
        }
        
        @keyframes slideIn {
            from { 
                transform: translateY(-100%) translateX(-50%);
                opacity: 0; 
            }
            to { 
                transform: translateY(0) translateX(-50%);
                opacity: 1; 
            }
        }
        
        @keyframes slideOut {
            from { 
                transform: translateY(0) translateX(-50%);
                opacity: 1; 
            }
            to { 
                transform: translateY(-100%) translateX(-50%);
                opacity: 0; 
            }
        }
        
        .notification.warning {
            background: linear-gradient(135deg, #ffa726, #ff9800);
            box-shadow: 0 4px 15px rgba(255, 167, 38, 0.3);
        }
        
        .notification.success {
            background: linear-gradient(135deg, #66bb6a, #4caf50);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        
        .notification.info {
            background: linear-gradient(135deg, #42a5f5, #2196f3);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }
        
        .notification.error {
            background: linear-gradient(135deg, #ef5350, #f44336);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }
        
        /* ÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿØÿßÿÆŸÑ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .inline-ad {
            margin: 15px 0;
            text-align: center;
        }
        
        .sticky-ad {
            position: sticky;
            top: 60px;
            z-index: 500;
        }
        
        @media (max-width: 768px) {
            .sticky-ad {
                top: 56px;
            }
        }
        
        @media (max-width: 480px) {
            .sticky-ad {
                top: 52px;
            }
        }

        /* ============ üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ≠ÿ≥ÿßÿ® ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #account-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 9000;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .account-box {
            background: white;
            padding: 20px;
            border-radius: 0;
            width: 100%;
            max-width: 450px;
            max-height: 100vh;
            overflow-y: auto;
            min-height: 100vh;
        }
        
        @media (min-width: 768px) {
            .account-box {
                border-radius: 15px;
                margin: 20px auto;
                max-height: 90vh;
                min-height: auto;
            }
        }
        
        @media (max-width: 480px) {
            .account-box {
                padding: 15px;
            }
        }
        
        .account-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .account-tab {
            flex: 1;
            text-align: center;
            padding: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 15px;
            color: #666;
            transition: all 0.3s;
        }
        
        @media (max-width: 480px) {
            .account-tab {
                padding: 10px;
                font-size: 14px;
            }
        }
        
        .account-tab:hover {
            color: var(--primary);
        }
        
        .account-tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .account-form {
            display: none;
        }
        
        .account-form.active {
            display: block;
        }
        
        .account-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            box-sizing: border-box;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        @media (max-width: 480px) {
            .account-input {
                padding: 10px;
                font-size: 14px;
            }
        }
        
        .account-btn {
            width: 100%;
            padding: 12px;
            margin: 12px 0;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            height: 46px;
        }
        
        @media (max-width: 480px) {
            .account-btn {
                padding: 10px;
                font-size: 14px;
                height: 42px;
            }
        }
        
        .account-btn:hover {
            background: #e68900;
        }
        
        .profile-pic-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .profile-pic {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #f5f5f5;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 3px solid var(--primary);
            overflow: hidden;
            font-size: 36px;
            color: #666;
        }
        
        @media (max-width: 480px) {
            .profile-pic {
                width: 90px;
                height: 90px;
                font-size: 32px;
            }
        }
        
        .profile-pic img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .change-pic-btn {
            color: var(--blue);
            cursor: pointer;
            font-size: 13px;
        }
        
        .user-info-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 12px 0;
        }
        
        .user-avatar-small {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 8px;
            font-size: 13px;
            height: 34px;
            white-space: nowrap;
        }
        
        @media (max-width: 480px) {
            .logout-btn {
                padding: 6px 12px;
                font-size: 12px;
                height: 32px;
            }
        }
        
        /* üî• ÿ¥ÿ±Ÿàÿ∑ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .terms-checkbox {
            margin: 12px 0;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #eee;
        }
        
        @media (max-width: 480px) {
            .terms-checkbox {
                padding: 10px;
            }
        }
        
        .terms-label {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            cursor: pointer;
            font-size: 13px;
            line-height: 1.4;
        }
        
        @media (max-width: 480px) {
            .terms-label {
                font-size: 12px;
            }
        }
        
        .terms-link {
            color: var(--blue);
            cursor: pointer;
            text-decoration: underline;
        }
        
        /* üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        #terms-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 9500;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .terms-box {
            background: white;
            padding: 20px;
            border-radius: 0;
            width: 100%;
            max-width: 600px;
            max-height: 100vh;
            overflow-y: auto;
            min-height: 100vh;
        }
        
        @media (min-width: 768px) {
            .terms-box {
                border-radius: 15px;
                margin: 20px auto;
                max-height: 90vh;
                min-height: auto;
            }
        }
        
        @media (max-width: 480px) {
            .terms-box {
                padding: 15px;
            }
        }
        
        .terms-content {
            margin: 15px 0;
            max-height: 60vh;
            overflow-y: auto;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 8px;
            -webkit-overflow-scrolling: touch;
        }
        
        .terms-section {
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        @media (max-width: 480px) {
            .terms-section {
                font-size: 13px;
            }
        }
        
        /* üî• ÿÆÿßŸÜÿ© Ÿàÿßÿ≠ÿØÿ© ŸÑŸÑÿ±ŸÇŸÖ ÿ£Ÿà ÿßŸÑÿ•ŸäŸÖŸäŸÑ ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .login-info {
            text-align: center;
            margin: 8px 0;
            padding: 8px;
            background: #f5f5f5;
            border-radius: 6px;
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }
        
        /* ============ üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #notifications-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 8000;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .notifications-box {
            background: white;
            width: 100%;
            max-width: 400px;
            border-radius: 0;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            min-height: 100vh;
        }
        
        @media (min-width: 768px) {
            .notifications-box {
                border-radius: 15px;
                margin: 20px auto;
                min-height: auto;
                max-height: 90vh;
            }
        }
        
        .notifications-header {
            background: linear-gradient(135deg, var(--primary), #ff7700);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        @media (max-width: 480px) {
            .notifications-header {
                padding: 16px;
                font-size: 16px;
            }
        }
        
        .notifications-header::before {
            content: "üîî";
            margin-left: 8px;
            font-size: 18px;
        }
        
        .notifications-body {
            max-height: 60vh;
            overflow-y: auto;
            padding: 0;
            -webkit-overflow-scrolling: touch;
        }
        
        .notification-item {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            transition: background 0.3s;
        }
        
        @media (max-width: 480px) {
            .notification-item {
                padding: 10px 12px;
                gap: 8px;
            }
        }
        
        .notification-item:hover {
            background: #f9f9f9;
        }
        
        .notification-item.unread {
            background: #fff5e6;
            border-right: 4px solid var(--primary);
        }
        
        .notification-icon {
            width: 36px;
            height: 36px;
            background: var(--primary-light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--primary);
            flex-shrink: 0;
        }
        
        @media (max-width: 480px) {
            .notification-icon {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 4px;
            color: var(--dark);
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .notification-title {
                font-size: 13px;
            }
        }
        
        .notification-message {
            color: #666;
            font-size: 12px;
            line-height: 1.3;
            margin-bottom: 4px;
        }
        
        .notification-time {
            font-size: 10px;
            color: #999;
        }
        
        .no-notifications {
            text-align: center;
            padding: 40px 15px;
            color: #999;
        }
        
        .no-notifications::before {
            content: "üîî";
            font-size: 36px;
            display: block;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        
        .mark-all-read {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 12px;
            font-weight: bold;
            width: calc(100% - 24px);
            height: 42px;
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .mark-all-read {
                padding: 8px 12px;
                margin: 10px;
                width: calc(100% - 20px);
                height: 38px;
                font-size: 13px;
            }
        }
        
        .mark-all-read:hover {
            background: #e68900;
        }
        
        /* ============ üî• ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #admin-dashboard-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            z-index: 10000;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .admin-header {
            background: linear-gradient(135deg, var(--admin), #8e44ad);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            height: 60px;
        }
        
        @media (max-width: 480px) {
            .admin-header {
                padding: 12px;
                font-size: 18px;
                height: 56px;
            }
        }
        
        .admin-header-owner {
            background: linear-gradient(135deg, var(--owner), #c0392b);
        }
        
        .admin-container {
            padding: 15px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        @media (max-width: 480px) {
            .admin-container {
                padding: 12px;
            }
        }
        
        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin: 15px 0;
        }
        
        @media (max-width: 480px) {
            .admin-stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }
        
        .admin-stat-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 480px) {
            .admin-stat-card {
                padding: 12px;
            }
        }
        
        .admin-stat-value {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary);
            margin: 8px 0;
        }
        
        @media (max-width: 480px) {
            .admin-stat-value {
                font-size: 24px;
            }
        }
        
        .admin-stat-label {
            color: #666;
            font-size: 12px;
        }
        
        .admin-tabs {
            display: flex;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            margin: 15px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            flex-wrap: wrap;
        }
        
        .admin-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 14px;
            min-width: 120px;
        }
        
        @media (max-width: 480px) {
            .admin-tab {
                padding: 10px;
                font-size: 13px;
                min-width: 100px;
            }
        }
        
        .admin-tab:hover {
            background: #f5f5f5;
        }
        
        .admin-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .admin-section {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            display: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 480px) {
            .admin-section {
                padding: 12px;
            }
        }
        
        .admin-section.active {
            display: block;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 13px;
        }
        
        @media (max-width: 768px) {
            .admin-table {
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
        }
        
        .admin-table th {
            background: #f5f5f5;
            padding: 10px;
            text-align: right;
            font-weight: bold;
            border-bottom: 2px solid #eee;
            font-size: 12px;
            white-space: nowrap;
        }
        
        .admin-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            font-size: 12px;
        }
        
        .admin-table tr:hover {
            background: #f9f9f9;
        }
        
        .badge-owner {
            background: var(--owner);
            color: white;
            padding: 3px 6px;
            border-radius: 15px;
            font-size: 11px;
        }
        
        .badge-admin {
            background: var(--admin);
            color: white;
            padding: 3px 6px;
            border-radius: 15px;
            font-size: 11px;
        }
        
        .badge-user {
            background: var(--blue);
            color: white;
            padding: 3px 6px;
            border-radius: 15px;
            font-size: 11px;
        }
        
        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
            font-size: 11px;
            white-space: nowrap;
        }
        
        @media (max-width: 480px) {
            .action-btn {
                padding: 4px 8px;
                font-size: 10px;
                margin: 1px;
            }
        }
        
        .action-delete {
            background: var(--danger);
            color: white;
        }
        
        .action-edit {
            background: var(--primary);
            color: white;
        }
        
        .action-promote {
            background: var(--success);
            color: white;
        }
        
        .action-ban {
            background: #333;
            color: white;
        }
        
        .search-admin {
            width: 100%;
            padding: 10px;
            border: 2px solid #eee;
            border-radius: 8px;
            margin: 8px 0;
            font-size: 14px;
        }
        
        @media (max-width: 480px) {
            .search-admin {
                padding: 8px;
                font-size: 13px;
            }
        }
        
        .role-selector {
            display: flex;
            gap: 8px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .role-option {
            padding: 8px 16px;
            border: 2px solid #eee;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }
        
        @media (max-width: 480px) {
            .role-option {
                padding: 6px 12px;
                font-size: 12px;
            }
        }
        
        .role-option:hover {
            border-color: var(--primary);
        }
        
        .role-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            font-weight: bold;
        }
        
        /* ============ üî• ÿµŸÜÿØŸàŸÇ ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        #add-manager-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 11000;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .add-manager-box {
            background: white;
            padding: 20px;
            border-radius: 0;
            width: 100%;
            max-width: 500px;
            max-height: 100vh;
            overflow-y: auto;
            min-height: 100vh;
        }
        
        @media (min-width: 768px) {
            .add-manager-box {
                border-radius: 15px;
                margin: 20px auto;
                max-height: 90vh;
                min-height: auto;
            }
        }
        
        @media (max-width: 480px) {
            .add-manager-box {
                padding: 15px;
            }
        }
        
        .manager-form {
            margin: 15px 0;
        }
        
        /* ============ üî• ÿ≤ÿ± ÿßŸÑÿ•ÿØÿßÿ±ÿ© ŸÅŸä ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        .admin-btn {
            background: var(--admin);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 8px;
            font-weight: bold;
            display: none;
            font-size: 12px;
            height: 34px;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .admin-btn {
                padding: 5px 10px;
                font-size: 11px;
                height: 32px;
            }
        }
        
        @media (max-width: 480px) {
            .admin-btn {
                padding: 4px 8px;
                font-size: 10px;
                height: 30px;
                margin-right: 6px;
            }
        }
        
        .admin-btn:hover {
            background: #8e44ad;
        }
        
        .owner-btn {
            background: var(--owner);
        }
        
        .owner-btn:hover {
            background: #c0392b;
        }
        
        /* ============ üî• ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸàÿßÿ¨Ÿáÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        .user-role-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
            margin-right: 4px;
        }
        
        .role-owner { background: var(--owner); color: white; }
        .role-admin { background: var(--admin); color: white; }
        .role-user { background: var(--blue); color: white; }
        
        /* ============ ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ ============ */
        .header-right-content {
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            flex-wrap: nowrap;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .header-right-content {
                gap: 6px;
            }
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ */
        .mobile-only {
            display: none;
        }
        
        @media (max-width: 768px) {
            .mobile-only {
                display: block;
            }
            
            .desktop-only {
                display: none;
            }
        }
        
        /* ŸÖŸÜÿπ ÿßŸÑÿ™ŸÉÿ®Ÿäÿ± ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        input[type="text"],
        input[type="number"],
        input[type="email"],
        input[type="password"],
        textarea,
        select {
            font-size: 16px !important;
        }
        
        @media (max-width: 768px) {
            input[type="text"],
            input[type="number"],
            input[type="email"],
            input[type="password"],
            textarea,
            select {
                font-size: 14px !important;
            }
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ¥ÿßÿ¥ÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ© ÿ¨ÿØÿß */
        @media (max-width: 320px) {
            .header-logo-txt {
                font-size: 12px;
            }
            
            .btn {
                padding: 4px 8px;
                font-size: 11px;
                height: 30px;
            }
            
            .admin-btn {
                padding: 3px 6px;
                font-size: 9px;
                height: 28px;
            }
            
            .logout-btn {
                padding: 4px 8px;
                font-size: 11px;
                height: 28px;
            }
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ≤ÿ± ÿßŸÑŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿßŸÑŸáŸäÿØÿ± */
        #login-header-btn {
            min-width: 80px;
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--primary);
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 480px) {
            .notification-badge {
                width: 16px;
                height: 16px;
                font-size: 9px;
                top: -4px;
                right: -4px;
            }
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑŸÅŸàÿ±ŸÖ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 153, 0, 0.2);
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ±Ÿàÿßÿ®ÿ∑ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        .terms-link {
            touch-action: manipulation;
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ£ÿ≥ŸáŸÖ ŸÅŸä select ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        select {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: left 10px center;
            background-size: 16px;
            padding-left: 40px;
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ≤ÿ± ÿßŸÑÿÆŸÑŸÅŸä ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        .nav-back {
            touch-action: manipulation;
        }
        
        .nav-back:active {
            background-color: #e8e8e8;
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑŸÉÿ±Ÿàÿ™ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        .ad-card:active, .recommendation-card:active {
            background-color: #f8f8f8;
        }
        
        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ£ÿ≤ÿ±ÿßÿ± ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ */
        .btn:active, .account-btn:active, .btn-request:active {
            transform: scale(0.98);
        }
        
        /* ÿ•ÿ∂ÿßŸÅÿ© ŸáÿßŸÖÿ¥ ÿ≥ŸÅŸÑŸä ŸÑŸÑÿ¨ŸàÿßŸÑ ŸÑÿ≠ŸÖÿßŸäÿ© ÿßŸÑÿ≤ÿ± ŸÖŸÜ ÿßŸÑŸÄ notch */
        @supports (padding: max(0px)) {
            body {
                padding-bottom: env(safe-area-inset-bottom);
            }
        }
    </style>
</head>
<body>

    <div id="notification" class="notification"></div>

    <!-- üî• ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ -->
    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="mobile-sidebar-header">
            <div class="mobile-sidebar-avatar" id="mobileAvatar">
                üë§
            </div>
            <div>
                <div style="font-weight: bold; color: white;" id="mobileUserName">ÿ≤ÿßÿ¶ÿ±</div>
                <div style="font-size: 12px; color: #ccc;" id="mobileUserCity"></div>
            </div>
        </div>
        
        <div class="mobile-sidebar-body">
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); location.reload();">
                <i>üè†</i>
                <span>ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); checkAuthBeforePost();">
                <i>‚ûï</i>
                <span>ÿ±ŸÅÿπ ÿ•ÿπŸÑÿßŸÜ ÿ¨ÿØŸäÿØ</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); openAccountModal('login');">
                <i>üë§</i>
                <span>ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); openAccountModal('register');">
                <i>üìù</i>
                <span>ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); showNotifications();">
                <i>üîî</i>
                <span>ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</span>
                <span class="notification-badge" id="mobileNotificationBadge" style="position: static; margin-right: auto; display: none;">0</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); openAdminDashboard();">
                <i>üë®‚Äçüíº</i>
                <span>ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ</span>
            </a>
            
            <a href="javascript:void(0)" class="mobile-sidebar-item" onclick="closeMobileMenu(); openTermsModal();">
                <i>üìú</i>
                <span>ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸàÿßŸÑÿÆÿµŸàÿµŸäÿ©</span>
            </a>
            
            <div class="mobile-sidebar-item" onclick="closeMobileMenu(); filterAdsByCategory('ÿ¨ŸÖŸäÿπ');">
                <i>üì¶</i>
                <span>ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</span>
            </div>
            
            <!-- ÿßŸÑŸÅÿ¶ÿßÿ™ ŸÅŸä ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© -->
            <div style="padding: 15px 20px 10px; font-weight: bold; color: var(--primary); border-bottom: 1px solid #f0f0f0;">
                <i>üè∑Ô∏è</i>
                <span>ÿßŸÑŸÅÿ¶ÿßÿ™</span>
            </div>
            
            <div id="mobileCategoriesList" style="max-height: 200px; overflow-y: auto;">
                <!-- ÿ≥Ÿäÿ™ŸÖ ÿ™ÿπÿ®ÿ¶ÿ™Ÿáÿß ÿ®ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
            </div>
        </div>
        
        <div class="mobile-sidebar-footer">
            <button class="btn" onclick="closeMobileMenu();" style="width: 100%; margin-bottom: 10px;">
                ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©
            </button>
            <div style="text-align: center; font-size: 12px; color: #666;">
                ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß ¬© 2024
            </div>
        </div>
    </div>
    
    <div class="mobile-sidebar-overlay" id="mobileSidebarOverlay" onclick="closeMobileMenu()"></div>

    <!-- üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ -->
    <div id="notifications-modal">
        <div class="notifications-box">
            <div class="notifications-header">
                ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
            </div>
            <div class="notifications-body" id="notifications-list">
                <!-- ÿ™ÿ∏Ÿáÿ± ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸáŸÜÿß -->
            </div>
            <div id="mark-all-read-container" style="display: none;">
                <button class="mark-all-read" onclick="markAllAsRead()">
                    ‚úÖ ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÉŸÑ ŸÉŸÖŸÇÿ±Ÿàÿ°
                </button>
            </div>
            <div style="text-align:center; padding:15px;">
                <button onclick="closeNotifications()" style="background:none; border:none; color:#666; cursor:pointer;">
                    ÿ•ÿ∫ŸÑÿßŸÇ
                </button>
            </div>
        </div>
    </div>

    <!-- üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸàÿßŸÑÿÆÿµŸàÿµŸäÿ© -->
    <div id="terms-modal">
        <div class="terms-box">
            <h2 style="text-align:center; margin-bottom:20px; color:var(--primary);">üìú ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</h2>
            
            <div class="terms-content">
                <div class="terms-section">
                    <h3>1. ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ</h3>
                    <p>‚Ä¢ Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖÿπŸÑŸÜ ÿπŸÜŸáÿß ŸÇÿßŸÜŸàŸÜŸäÿ© ŸàŸÑŸäÿ≥ÿ™ ŸÖÿ≥ÿ±ŸàŸÇÿ©.</p>
                    <p>‚Ä¢ ŸÖŸÖŸÜŸàÿπ Ÿàÿ∂ÿπ ÿ£ÿ±ŸÇÿßŸÖ Ÿáÿßÿ™ŸÅ ÿ£Ÿà ÿ±Ÿàÿßÿ®ÿ∑ ÿÆÿßÿ±ÿ¨Ÿäÿ© ŸÅŸä ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™.</p>
                    <p>‚Ä¢ Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿßŸÑÿµŸàÿ± ÿ≠ŸÇŸäŸÇŸäÿ© ŸàŸÑŸäÿ≥ÿ™ ŸÖÿÆÿßŸÑŸÅÿ© ŸÑŸÑÿ≠ŸÇŸàŸÇ.</p>
                    <p>‚Ä¢ Ÿäÿ≠ŸÇ ŸÑŸÑÿ•ÿØÿßÿ±ÿ© ÿ≠ÿ∞ŸÅ ÿ£Ÿä ÿ•ÿπŸÑÿßŸÜ ŸÖÿÆÿßŸÑŸÅ ÿØŸàŸÜ ÿ•ÿ¥ÿπÿßÿ± ŸÖÿ≥ÿ®ŸÇ.</p>
                </div>
                
                <div class="terms-section">
                    <h3>2. ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</h3>
                    <p>‚Ä¢ ŸÜÿ≠ŸÜ ŸÜÿ≠ÿ™ÿ±ŸÖ ÿÆÿµŸàÿµŸäÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜÿß ŸàŸÑÿß ŸÜÿ¥ÿßÿ±ŸÉ ÿ®ŸäÿßŸÜÿßÿ™ŸáŸÖ ŸÖÿπ ÿ£ÿ∑ÿ±ÿßŸÅ ÿ´ÿßŸÑÿ´ÿ©.</p>
                    <p>‚Ä¢ Ÿäÿ™ŸÖ ÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ≠ŸÑŸäÿßŸã ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ ŸÅŸÇÿ∑.</p>
                    <p>‚Ä¢ ŸäŸÖŸÉŸÜŸÉ ÿ≠ÿ∞ŸÅ ÿ≠ÿ≥ÿßÿ®ŸÉ ŸÅŸä ÿ£Ÿä ŸàŸÇÿ™.</p>
                    <p>‚Ä¢ ŸÜÿ≥ÿ™ÿÆÿØŸÖ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ ŸÅŸÇÿ∑ ŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ Ÿàÿ™ÿ≠ÿ≥ŸäŸÜ ÿ™ÿ¨ÿ±ÿ®ÿ™ŸÉ.</p>
                </div>
                
                <div style="text-align:center; margin-top:20px; padding:15px; background:#e8f4fc; border-radius:10px;">
                    <strong>üìû ŸÑŸÑÿ™ŸàÿßÿµŸÑ:</strong> support@mostaml.sy<br>
                    <strong>üïí ŸàŸÇÿ™ ÿßŸÑÿØÿπŸÖ:</strong> 9 ÿµÿ®ÿßÿ≠ÿßŸã - 5 ŸÖÿ≥ÿßÿ°Ÿã
                </div>
            </div>
            
            <button class="btn" onclick="closeTermsModal()" style="width:100%; margin-top:20px;">
                ŸÅŸáŸÖÿ™ ŸàŸàÿßŸÅŸÇÿ™
            </button>
        </div>
    </div>

    <!-- üî• ŸÖŸàÿØÿßŸÑ ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ± -->
    <div id="add-manager-modal">
        <div class="add-manager-box">
            <h2 style="text-align:center; color:var(--admin); margin-bottom:20px;">üë®‚Äçüíº ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ± ÿ¨ÿØŸäÿØ</h2>
            
            <div class="manager-form">
                <input type="text" id="new-manager-name" class="account-input" placeholder="ÿßÿ≥ŸÖ ÿßŸÑŸÖÿØŸäÿ± ÿßŸÑŸÉÿßŸÖŸÑ" required>
                
                <input type="email" id="new-manager-email" class="account-input" placeholder="ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä" required>
                
                <input type="password" id="new-manager-password" class="account-input" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±" required>
                
                <select id="new-manager-city" class="account-input" required>
                    <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿØŸäŸÜÿ©</option>
                    <option value="ÿØŸÖÿ¥ŸÇ">ÿØŸÖÿ¥ŸÇ</option>
                    <option value="ÿ≠ŸÑÿ®">ÿ≠ŸÑÿ®</option>
                    <option value="ÿ≠ŸÖÿµ">ÿ≠ŸÖÿµ</option>
                    <option value="ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©">ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©</option>
                    <option value="ÿ≠ŸÖÿßŸá">ÿ≠ŸÖÿßŸá</option>
                </select>
                
                <div style="margin:20px 0; padding:15px; background:#f5f5f5; border-radius:10px;">
                    <h4 style="margin-top:0;">‚ö†Ô∏è ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑŸÖÿØŸäÿ±:</h4>
                    <p style="margin:5px 0;">‚Ä¢ ÿ≠ÿ∞ŸÅ ÿ£Ÿä ÿ•ÿπŸÑÿßŸÜ</p>
                    <p style="margin:5px 0;">‚Ä¢ ÿ™ÿπÿØŸäŸÑ ÿ£Ÿä ÿ•ÿπŸÑÿßŸÜ</p>
                    <p style="margin:5px 0;">‚Ä¢ ÿ≠ÿ∏ÿ± ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ</p>
                    <p style="margin:5px 0;">‚Ä¢ ÿßŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ</p>
                </div>
                
                <button class="account-btn" onclick="addNewManager()" style="background:var(--admin);">
                    ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ±
                </button>
            </div>
            
            <button onclick="closeAddManagerModal()" style="width:100%; margin-top:15px; background:#666; color:white; border:none; padding:12px; border-radius:10px; cursor:pointer;">
                ÿ•ŸÑÿ∫ÿßÿ°
            </button>
        </div>
    </div>

    <!-- üî• ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ© -->
    <div id="admin-dashboard-modal">
        <div class="admin-header" id="admin-header">
            <div></div>
            <div>ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ©</div>
            <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
        </div>
        
        <div class="admin-container">
            <!-- üî• ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ -->
            <div class="admin-stats-grid">
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-total-ads">0</div>
                    <div class="admin-stat-label">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-total-users">0</div>
                    <div class="admin-stat-label">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-today-ads">0</div>
                    <div class="admin-stat-label">ÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖ</div>
                </div>
                <div class="admin-stat-card">
                    <div class="admin-stat-value" id="stat-active-users">0</div>
                    <div class="admin-stat-label">ŸÜÿ¥ÿ∑ ÿßŸÑÿ¢ŸÜ</div>
                </div>
            </div>
            
            <!-- üî• ÿ£ŸÑÿ≥ŸÜÿ© ÿßŸÑÿ•ÿØÿßÿ±ÿ© -->
            <div class="admin-tabs">
                <div class="admin-tab active" onclick="showAdminSection('ads')">ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</div>
                <div class="admin-tab" onclick="showAdminSection('users')">ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ</div>
                <div class="admin-tab" onclick="showAdminSection('reports')">ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±</div>
                <div class="admin-tab" onclick="showAdminSection('settings')" id="settings-tab" style="display:none;">ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™</div>
            </div>
            
            <!-- üî• ŸÇÿ≥ŸÖ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ -->
            <div id="admin-ads-section" class="admin-section active">
                <h3>ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</h3>
                <input type="text" class="search-admin" id="search-admin-ads" placeholder="ÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™..." onkeyup="searchAdminAds()">
                
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>ÿßŸÑÿµŸàÿ±ÿ©</th>
                                <th>ÿπŸÜŸàÿßŸÜ ÿßŸÑÿ•ÿπŸÑÿßŸÜ</th>
                                <th>ÿßŸÑÿ≥ÿπÿ±</th>
                                <th>ÿßŸÑÿ®ÿßÿ¶ÿπ</th>
                                <th>ÿßŸÑÿ™ÿßÿ±ŸäÿÆ</th>
                                <th>ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™</th>
                            </tr>
                        </thead>
                        <tbody id="admin-ads-table">
                            <!-- ÿ™ÿ∏Ÿáÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸáŸÜÿß -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- üî• ŸÇÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ -->
            <div id="admin-users-section" class="admin-section">
                <h3>ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ</h3>
                
                <!-- üî• ÿ≤ÿ± ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ± (Ÿäÿ∏Ÿáÿ± ŸÑŸÑŸÖÿßŸÑŸÉ ŸÅŸÇÿ∑) -->
                <div id="add-manager-btn-container" style="display:none; margin-bottom:20px;">
                    <button class="btn" onclick="openAddManagerModal()" style="background:var(--admin);">
                        üë®‚Äçüíº ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿØŸäÿ± ÿ¨ÿØŸäÿØ
                    </button>
                </div>
                
                <input type="text" class="search-admin" id="search-admin-users" placeholder="ÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ..." onkeyup="searchAdminUsers()">
                
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>ÿßŸÑÿµŸàÿ±ÿ©</th>
                                <th>ÿßŸÑÿßÿ≥ŸÖ</th>
                                <th>ÿßŸÑÿ®ÿ±ŸäÿØ</th>
                                <th>ÿßŸÑÿØŸàÿ±</th>
                                <th>ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</th>
                                <th>ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ</th>
                                <th>ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™</th>
                            </tr>
                        </thead>
                        <tbody id="admin-users-table">
                            <!-- ÿ™ÿ∏Ÿáÿ± ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ŸáŸÜÿß -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- üî• ŸÇÿ≥ŸÖ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± -->
            <div id="admin-reports-section" class="admin-section">
                <h3>ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ± ŸàÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™</h3>
                
                <div class="admin-stats-grid">
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-daily-ads">0</div>
                        <div class="admin-stat-label">ŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖŸä</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-avg-price">0</div>
                        <div class="admin-stat-label">ŸÖÿ™Ÿàÿ≥ÿ∑ ÿ≥ÿπÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜ</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-top-category">-</div>
                        <div class="admin-stat-label">ÿ£ŸÉÿ´ÿ± ŸÅÿ¶ÿ© ŸÖÿ®ŸäÿπÿßŸã</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="report-deleted-ads">0</div>
                        <div class="admin-stat-label">ÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÖÿ≠ÿ∞ŸàŸÅÿ©</div>
                    </div>
                </div>
                
                <div style="background:white; border-radius:15px; padding:20px; margin:20px 0;">
                    <h4>üìà ŸÜÿ¥ÿßÿ∑ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿÆŸÑÿßŸÑ ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ</h4>
                    <canvas id="adsChart" width="400" height="200" style="width:100%; height:200px;"></canvas>
                </div>
            </div>
            
            <!-- üî• ŸÇÿ≥ŸÖ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ (ŸÑŸÑŸÖÿßŸÑŸÉ ŸÅŸÇÿ∑) -->
            <div id="admin-settings-section" class="admin-section">
                <h3>ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ</h3>
                
                <div style="background:#f5f5f5; padding:20px; border-radius:10px; margin:20px 0;">
                    <h4 style="margin-top:0;">üëë ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑŸÖÿßŸÑŸÉ</h4>
                    <p>ÿ£ŸÜÿ™ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä ŸÑŸÑŸÜÿ∏ÿßŸÖÿå ŸÑÿØŸäŸÉ ÿ¨ŸÖŸäÿπ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™:</p>
                    <ul>
                        <li>ÿ•ÿ∂ÿßŸÅÿ© Ÿàÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑŸÖÿØŸäÿ±ŸäŸÜ</li>
                        <li>ÿ≠ÿ∞ŸÅ ÿ£Ÿä ŸÖÿ≥ÿ™ÿÆÿØŸÖ</li>
                        <li>ÿ™ÿπÿØŸäŸÑ ÿ£Ÿä ÿ•ÿπŸÑÿßŸÜ</li>
                        <li>ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÉÿßŸÖŸÑÿ©</li>
                        <li>ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ™ŸÇÿØŸÖÿ©</li>
                    </ul>
                </div>
                
                <div style="background:#fff5e6; padding:20px; border-radius:10px; margin:20px 0; border:2px solid var(--primary);">
                    <h4 style="margin-top:0;">‚ö†Ô∏è ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿÆÿ∑Ÿäÿ±ÿ©</h4>
                    <div style="display:flex; gap:10px; flex-wrap:wrap;">
                        <button class="btn" onclick="resetAllData()" style="background:var(--danger);">
                            üóëÔ∏è ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                        </button>
                        <button class="btn" onclick="exportAllData()" style="background:var(--success);">
                            üì• ÿ™ÿµÿØŸäÿ± ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                        </button>
                        <button class="btn" onclick="createBackup()" style="background:var(--blue);">
                            üíæ ÿ•ŸÜÿ¥ÿßÿ° ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ©
                        </button>
                    </div>
                </div>
                
                <div style="background:#f0f8ff; padding:20px; border-radius:10px; margin:20px 0;">
                    <h4 style="margin-top:0;">‚öôÔ∏è ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖŸàŸÇÿπ</h4>
                    <div class="form-g">
                        <label>ÿßÿ≥ŸÖ ÿßŸÑŸÖŸàŸÇÿπ:</label>
                        <input type="text" id="site-name" class="account-input" value="ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß">
                    </div>
                    <div class="form-g">
                        <label>ŸÑŸàŸÜ ÿßŸÑŸÖŸàŸÇÿπ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä:</label>
                        <input type="color" id="site-color" class="account-input" value="#ff9900">
                    </div>
                    <button class="account-btn" onclick="saveSiteSettings()">
                        ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- üî• ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ≠ÿ≥ÿßÿ® -->
    <div id="account-modal">
        <div class="account-box">
            <div class="account-tabs">
                <div class="account-tab active" onclick="showAccountForm('login')">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</div>
                <div class="account-tab" onclick="showAccountForm('register')">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</div>
            </div>
            
            <!-- ŸÜŸÖŸàÿ∞ÿ¨ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ -->
            <div id="login-form" class="account-form active">
                <div class="profile-pic-container">
                    <div class="profile-pic" id="login-profile-pic" onclick="document.getElementById('login-pic-input').click()">
                        üë§
                    </div>
                    <input type="file" accept="image/*" id="login-pic-input" style="display:none;" onchange="updateLoginProfilePic(event)">
                    <div class="change-pic-btn" onclick="document.getElementById('login-pic-input').click()">ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿµŸàÿ±ÿ©</div>
                </div>
                
                <!-- ÿÆÿßŸÜÿ© Ÿàÿßÿ≠ÿØÿ© ŸÑŸÑÿ±ŸÇŸÖ ÿ£Ÿà ÿßŸÑÿ•ŸäŸÖŸäŸÑ -->
                <div class="login-info">
                    ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ <strong>ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ</strong> ÿ£Ÿà <strong>ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä</strong>
                </div>
                
                <input type="text" id="login-identifier" class="account-input" placeholder="ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ£Ÿà ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä" required>
                
                <input type="password" id="login-password" class="account-input" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±" required>
                
                <button class="account-btn" onclick="loginUser()">
                    ÿØÿÆŸàŸÑ
                </button>
                
                <!-- ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ -->
                <div style="text-align:center; margin-top:15px; font-size:13px;">
                    <span class="terms-link" onclick="openTermsModal()">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</span>
                </div>
            </div>
            
            <!-- ŸÜŸÖŸàÿ∞ÿ¨ ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® -->
            <div id="register-form" class="account-form">
                <div class="profile-pic-container">
                    <div class="profile-pic" id="register-profile-pic" onclick="document.getElementById('register-pic-input').click()">
                        üë§
                    </div>
                    <input type="file" accept="image/*" id="register-pic-input" style="display:none;" onchange="updateRegisterProfilePic(event)">
                    <div class="change-pic-btn" onclick="document.getElementById('register-pic-input').click()">ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿµŸàÿ±ÿ©</div>
                </div>
                
                <input type="text" id="register-name" class="account-input" placeholder="ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ" required>
                
                <input type="text" id="register-identifier" class="account-input" placeholder="ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ£Ÿà ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä" required>
                
                <div style="font-size:12px; color:#666; margin:5px 0 10px; padding:8px; background:#f5f5f5; border-radius:6px;">
                    üîπ ŸäŸÖŸÉŸÜŸÉ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ <strong>ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ</strong> ÿ£Ÿà <strong>ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä</strong> ŸÑŸÑÿØÿÆŸàŸÑ ŸÑÿßÿ≠ŸÇÿßŸã
                </div>
                
                <input type="password" id="register-password" class="account-input" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±" required>
                <input type="password" id="register-confirm-password" class="account-input" placeholder="ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±" required>
                
                <select id="register-city" class="account-input" required>
                    <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿØŸäŸÜÿ©</option>
                    <option value="ÿØŸÖÿ¥ŸÇ">ÿØŸÖÿ¥ŸÇ</option>
                    <option value="ÿ≠ŸÑÿ®">ÿ≠ŸÑÿ®</option>
                    <option value="ÿ≠ŸÖÿµ">ÿ≠ŸÖÿµ</option>
                    <option value="ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©">ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©</option>
                    <option value="ÿ≠ŸÖÿßŸá">ÿ≠ŸÖÿßŸá</option>
                    <option value="ÿØŸäÿ± ÿßŸÑÿ≤Ÿàÿ±">ÿØŸäÿ± ÿßŸÑÿ≤Ÿàÿ±</option>
                    <option value="ÿßŸÑÿ≠ÿ≥ŸÉÿ©">ÿßŸÑÿ≠ÿ≥ŸÉÿ©</option>
                    <option value="ÿßŸÑÿ±ŸÇÿ©">ÿßŸÑÿ±ŸÇÿ©</option>
                </select>
                
                <!-- ÿ¥ÿ±Ÿàÿ∑ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ© -->
                <div class="terms-checkbox">
                    <label class="terms-label">
                        <input type="checkbox" id="agree-terms" style="margin-top:3px;">
                        <div>
                            ÿ£ŸàÿßŸÅŸÇ ÿπŸÑŸâ 
                            <span class="terms-link" onclick="openTermsModal()">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</span>
                            ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß
                        </div>
                    </label>
                </div>
                
                <button class="account-btn" onclick="registerUser()">
                    ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®
                </button>
            </div>
            
            <div style="text-align:center; margin-top:20px;">
                <button onclick="closeAccountModal()" style="background:none; border:none; color:#666; cursor:pointer; font-size:15px;">
                    ÿ•ÿ∫ŸÑÿßŸÇ
                </button>
            </div>
        </div>
    </div>

    <!-- ÿßŸÑŸáŸäÿØÿ± ÿßŸÑŸÖÿπÿØŸÑ ŸÖÿπ ÿ≤ÿ± ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ -->
    <header>
        <!-- ÿ≤ÿ± ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ -->
        <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>
        
        <div class="header-logo" onclick="location.reload()">
            <div class="header-logo-s">S</div>
            <div class="header-logo-txt">ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß</div>
        </div>
        
        <!-- ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¥ÿßÿ¥ÿßÿ™ ÿßŸÑŸÉÿ®Ÿäÿ±ÿ© -->
        <div class="header-right-content">
            <!-- ÿ≤ÿ± ÿßŸÑÿ•ÿØÿßÿ±ÿ© (Ÿäÿ∏Ÿáÿ± ŸÑŸÑŸÖÿØÿ±ÿßÿ° ŸàÿßŸÑŸÖÿßŸÑŸÉ) -->
            <button class="admin-btn" id="admin-header-btn" onclick="openAdminDashboard()">
                ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ
            </button>
            
            <!-- ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿπŸÜÿØŸÖÿß ŸäŸÉŸàŸÜ ŸÖÿ≥ÿ¨ŸÑ -->
            <div id="user-header-info" style="display:none; align-items:center; gap:15px;">
                <div class="user-avatar-small" id="header-user-avatar">
                    üë§
                </div>
                <div>
                    <div style="font-weight:bold; font-size:14px; display:flex; align-items:center; gap:5px;" id="header-user-name">
                        <!-- ÿ≥Ÿäÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿ®ÿßÿØÿ¨ÿ© ÿßŸÑÿØŸàÿ± ŸáŸÜÿß -->
                    </div>
                    <div style="font-size:12px; color:#ccc;" id="header-user-city"></div>
                </div>
                <button class="logout-btn" onclick="logoutUser()">ÿÆÿ±Ÿàÿ¨</button>
            </div>
            
            <!-- ÿ≤ÿ± ÿßŸÑÿØÿÆŸàŸÑ Ÿäÿ∏Ÿáÿ± ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ≥ÿ¨ŸÑŸäŸÜ -->
            <button class="btn" id="login-header-btn" onclick="openAccountModal('login')">ÿØÿÆŸàŸÑ / ÿ™ÿ≥ÿ¨ŸäŸÑ</button>
            
            <div style="position:relative; cursor:pointer; font-size:20px;" onclick="showNotifications()">
                üîî
                <div class="notification-badge" id="notificationBadge" style="display:none; position:absolute; top:-5px; right:-5px; background:var(--primary); color:white; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">0</div>
            </div>
            <button class="btn" onclick="checkAuthBeforePost()">+ ÿ±ŸÅÿπ ÿ•ÿπŸÑÿßŸÜ</button>
        </div>
        
        <!-- ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ -->
        <div class="mobile-header-content">
            <div style="position:relative; cursor:pointer; font-size:20px;" onclick="showNotifications()">
                üîî
                <div class="notification-badge" id="mobileHeaderNotificationBadge" style="display:none; position:absolute; top:-5px; right:-5px; background:var(--primary); color:white; width:18px; height:18px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">0</div>
            </div>
            <button class="btn" onclick="checkAuthBeforePost()" style="padding: 6px 12px; font-size: 12px;">+ ÿ±ŸÅÿπ</button>
        </div>
    </header>

    <!-- ÿ•ÿπŸÑÿßŸÜ ÿ±ÿ¶Ÿäÿ≥Ÿä -->
    <div class="ad-premium ad-premium-blue sticky-ad">
        <h3 style="margin:0 0 10px 0; font-size:16px;">üöÄ ÿßÿπŸÑŸÜ ÿπŸÜ ŸÖŸÜÿ™ÿ¨ŸÉ ŸáŸÜÿß!</h3>
        <p style="margin:0; font-size:14px;">ŸàÿµŸÑ ŸÑÿ£ŸÑÿßŸÅ ÿßŸÑÿπŸÖŸÑÿßÿ° - ÿ≥ÿπÿ± ÿÆÿßÿµ ŸÑŸÑŸÖÿ™ÿßÿ¨ÿ±</p>
    </div>

    <!-- ÿßŸÑÿ®ÿ≠ÿ´ -->
    <div class="search-area">
        <input type="text" class="search-input" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿ£Ÿä ŸÖŸÜÿ™ÿ¨..." id="searchInput" oninput="performSmartSearch()">
        <button class="btn" onclick="toggleCategories()" style="padding:0 20px;">ÿßŸÑŸÅÿ¶ÿßÿ™</button>
        
        <!-- ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸÅŸä ÿßŸÑÿ™ÿ∞ŸäŸäŸÑ -->
        <div style="width:100%; text-align:center; margin-top:10px;">
            <span class="terms-link" onclick="openTermsModal()" style="font-size:13px;">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</span>
        </div>
    </div>

    <!-- ÿßŸÑŸÅÿ¶ÿßÿ™ -->
    <div class="categories-menu" id="categoriesMenu">
        <div class="category-tag active" onclick="filterAdsByCategory('ÿ¨ŸÖŸäÿπ')">ÿ¨ŸÖŸäÿπ</div>
    </div>

    <!-- ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ -->
    <div class="container">
        <!-- ÿ•ÿπŸÑÿßŸÜ ÿØÿßÿÆŸÑ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ -->
        <div class="ad-premium ad-premium-green">
            <h3 style="margin:0 0 10px 0; font-size:16px;">üî• ÿπÿ±Ÿàÿ∂ ÿÆÿßÿµÿ© Ÿáÿ∞ÿß ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ!</h3>
            <p style="margin:0; font-size:14px;">ÿÆÿµŸÖ 30% ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÖŸäÿ≤ÿ©</p>
        </div>
        
        <div class="ads-grid" id="main-ads-box">
            <!-- ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
        </div>
        
        <!-- ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸÅŸä ÿßŸÑÿ£ÿ≥ŸÅŸÑ -->
        <div style="text-align:center; margin-top:30px; padding:20px; background:#f9f9f9; border-radius:10px;">
            <h4>ŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÖŸáŸÖÿ©</h4>
            <p style="font-size:14px; color:#666;">
                ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß ŸÖŸÜÿµÿ© ŸÑŸÑÿ®Ÿäÿπ ŸàÿßŸÑÿ¥ÿ±ÿßÿ° ÿßŸÑÿ¢ŸÖŸÜ. 
                <span class="terms-link" onclick="openTermsModal()">ÿßŸÇÿ±ÿ£ ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</span>
            </p>
        </div>
        
        <!-- ÿ•ÿπŸÑÿßŸÜ ŸÅŸä ÿßŸÑÿ£ÿ≥ŸÅŸÑ -->
        <div class="ad-premium ad-premium-purple" style="margin-top:30px;">
            <h3 style="margin:0 0 10px 0; font-size:16px;">‚≠ê ÿ•ÿπŸÑÿßŸÜŸÉ ŸáŸÜÿß ŸäÿµŸÑ ŸÑÿ£ŸÉÿ´ÿ± ŸÖŸÜ 10,000 ÿ≤ÿßÿ¶ÿ± ŸäŸàŸÖŸäÿßŸã</h3>
            <p style="margin:0; font-size:14px;">ÿßÿ∂ÿ∫ÿ∑ ŸÑŸÑÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ± ÿπŸÜ ÿßŸÑÿ£ÿ≥ÿπÿßÿ±</p>
        </div>
    </div>

    <!-- ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ±ŸÅÿπ -->
    <div id="upload-modal">
        <div class="modal-body">
            <span class="close-x" onclick="closePost()">&times;</span>
            <h2 style="text-align:center; margin-bottom:15px;">ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨ ÿ¨ÿØŸäÿØ</h2>
            
            <!-- ÿ•ÿπŸÑÿßŸÜ ÿØÿßÿÆŸÑ ÿßŸÑŸÖŸàÿØÿßŸÑ -->
            <div class="ad-premium ad-small ad-premium-blue" style="margin-bottom:20px;">
                <p style="margin:0; font-size:13px;">üíé ÿ¨ÿπŸÑ ÿ•ÿπŸÑÿßŸÜŸÉ ŸÖŸÖŸäÿ≤ÿßŸã Ÿäÿ≤ŸäÿØ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ 300%</p>
            </div>
            
            <!-- ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>üì∏</span>
                        ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© *
                    </div>
                    <div class="section-subtitle">Ÿáÿ∞Ÿá ÿßŸÑÿµŸàÿ±ÿ© ÿ≥ÿ™ÿ∏Ÿáÿ± ŸÉÿ∫ŸÑÿßŸÅ ŸÑŸÑŸÖŸÜÿ™ÿ¨ ŸÅŸä ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="main-image-container">
                        <!-- ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
                    </div>
                    
                    <label class="upload-btn">
                        <span>‚ûï ÿßÿÆÿ™ÿ± ÿµŸàÿ±ÿ© ÿßŸÑÿ∫ŸÑÿßŸÅ</span>
                        <input type="file" accept="image/*" id="mainImageInput" onchange="addMainImage(event)">
                    </label>
                </div>
            </div>
            
            <!-- ÿßŸÑÿµŸàÿ± ÿßŸÑÿ•ÿ∂ÿßŸÅŸäÿ© -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>üñºÔ∏è</span>
                        ÿµŸàÿ± ÿ•ÿ∂ÿßŸÅŸäÿ© (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä - ÿ≠ÿ™Ÿâ 5)
                    </div>
                    <div class="section-subtitle">ÿ£ÿ∂ŸÅ ÿµŸàÿ± ÿ•ÿ∂ÿßŸÅŸäÿ© ÿ™Ÿàÿ∂ÿ≠ ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖŸÜ ÿ≤ŸàÿßŸäÿß ŸÖÿÆÿ™ŸÑŸÅÿ©</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="extra-images-container">
                        <!-- ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
                    </div>
                    
                    <label class="upload-btn" id="addExtraImagesBtn" style="display:none;">
                        <span>‚ûï ÿ£ÿ∂ŸÅ ÿµŸàÿ±ÿ©</span>
                        <input type="file" accept="image/*" id="extraImagesInput" onchange="addExtraImage(event)" multiple>
                    </label>
                    
                    <div style="font-size:12px; text-align:center; margin-top:5px;" id="images-counter">0/5 ÿµŸàÿ±</div>
                </div>
            </div>
            
            <!-- ÿßŸÑŸÅŸäÿØŸäŸàŸáÿßÿ™ -->
            <div class="upload-section">
                <div class="upload-section-header">
                    <div class="section-title">
                        <span>üé¨</span>
                        ŸÖŸÇÿßÿ∑ÿπ ŸÅŸäÿØŸäŸà (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä - ÿ≠ÿ™Ÿâ 3)
                    </div>
                    <div class="section-subtitle">ÿ£ÿ∂ŸÅ ŸÖŸÇÿßÿ∑ÿπ ŸÅŸäÿØŸäŸà ÿ™Ÿàÿ∂Ÿäÿ≠Ÿäÿ© ŸÑŸÑŸÖŸÜÿ™ÿ¨</div>
                </div>
                <div class="upload-section-content">
                    <div class="gallery-container" id="videos-container">
                        <!-- ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
                    </div>
                    
                    <label class="upload-btn" id="addVideoBtn">
                        <span>‚ûï ÿ£ÿ∂ŸÅ ŸÅŸäÿØŸäŸà</span>
                        <input type="file" accept="video/*" id="videoInput" onchange="addVideo(event)" multiple>
                    </label>
                    
                    <div style="font-size:12px; text-align:center; margin-top:5px;" id="videos-counter">0/3 ŸÅŸäÿØŸäŸàŸáÿßÿ™</div>
                </div>
            </div>
            
            <!-- ÿ•ÿπŸÑÿßŸÜ ÿØÿßÿÆŸÑ ÿßŸÑŸÖŸàÿØÿßŸÑ -->
            <div class="ad-premium ad-small ad-premium-green" style="margin:20px 0;">
                <p style="margin:0; font-size:13px;">üöö ÿ™ŸàÿµŸäŸÑ ŸÖÿ¨ÿßŸÜŸä ŸÑŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÖŸäÿ≤ÿ©</p>
            </div>
            
            <!-- ÿßŸÑÿ≠ŸÇŸàŸÑ -->
            <div class="form-g">
                <label>üè∑Ô∏è ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨ *</label>
                <input type="text" id="u-title" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨">
            </div>
            
            <div class="form-g">
                <label>üìä ÿ≠ÿßŸÑÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ *</label>
                <select id="u-condition">
                    <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿßŸÑÿ©</option>
                    <option value="ÿ¨ÿØŸäÿØ">üÜï ÿ¨ÿØŸäÿØ</option>
                    <option value="ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØ">‚ú® ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØ</option>
                    <option value="ÿ¨ŸäÿØ">üëç ÿ¨ŸäÿØ</option>
                    <option value="ŸÖÿ™Ÿàÿ≥ÿ∑">‚öñÔ∏è ŸÖÿ™Ÿàÿ≥ÿ∑</option>
                    <option value="ÿ≥Ÿäÿ°">üëé ÿ≥Ÿäÿ°</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>üìç ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ© *</label>
                <select id="u-governorate">
                    <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©</option>
                    <option value="ÿØŸÖÿ¥ŸÇ">ÿØŸÖÿ¥ŸÇ</option>
                    <option value="ÿ±ŸäŸÅ ÿØŸÖÿ¥ŸÇ">ÿ±ŸäŸÅ ÿØŸÖÿ¥ŸÇ</option>
                    <option value="ÿ≠ŸÑÿ®">ÿ≠ŸÑÿ®</option>
                    <option value="ÿ≠ŸÖÿµ">ÿ≠ŸÖÿµ</option>
                    <option value="ÿ≠ŸÖÿßŸá">ÿ≠ŸÖÿßŸá</option>
                    <option value="ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©">ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©</option>
                    <option value="ÿ∑ÿ±ÿ∑Ÿàÿ≥">ÿ∑ÿ±ÿ∑Ÿàÿ≥</option>
                    <option value="ÿØŸäÿ± ÿßŸÑÿ≤Ÿàÿ±">ÿØŸäÿ± ÿßŸÑÿ≤Ÿàÿ±</option>
                    <option value="ÿßŸÑÿ≠ÿ≥ŸÉÿ©">ÿßŸÑÿ≠ÿ≥ŸÉÿ©</option>
                    <option value="ÿßŸÑÿ±ŸÇÿ©">ÿßŸÑÿ±ŸÇÿ©</option>
                    <option value="ÿßŸÑÿ≥ŸàŸäÿØÿßÿ°">ÿßŸÑÿ≥ŸàŸäÿØÿßÿ°</option>
                    <option value="ÿØÿ±ÿπÿß">ÿØÿ±ÿπÿß</option>
                    <option value="ÿßŸÑŸÇŸÜŸäÿ∑ÿ±ÿ©">ÿßŸÑŸÇŸÜŸäÿ∑ÿ±ÿ©</option>
                    <option value="ÿ•ÿØŸÑÿ®">ÿ•ÿØŸÑÿ®</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>üìÇ ÿßŸÑŸÅÿ¶ÿ© *</label>
                <select id="u-category">
                    <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©</option>
                </select>
            </div>
            
            <div class="form-g">
                <label>üí∞ ÿßŸÑÿ≥ÿπÿ± (ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©) *</label>
                <input type="number" id="u-price" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ≥ÿπÿ±">
            </div>
            
            <div class="form-g">
                <label>üìù ÿßŸÑŸàÿµŸÅ *</label>
                <textarea id="u-desc" placeholder="ŸàÿµŸÅ ÿßŸÑŸÖŸÜÿ™ÿ¨..." rows="3"></textarea>
                <div style="font-size:12px; color:#666; margin-top:5px;">ŸÖŸÖŸÜŸàÿπ Ÿàÿ∂ÿπ ÿ£ÿ±ŸÇÿßŸÖ Ÿáÿßÿ™ŸÅ ÿ£Ÿà ÿ±Ÿàÿßÿ®ÿ∑ ÿÆÿßÿ±ÿ¨Ÿäÿ©</div>
            </div>
            
            <!-- ÿ•ÿ∂ÿßŸÅÿ© ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿ±ŸÅÿπ -->
            <div class="terms-checkbox" style="margin:20px 0;">
                <label class="terms-label">
                    <input type="checkbox" id="agree-ad-terms">
                    <div>
                        ÿ£ŸàÿßŸÅŸÇ ÿ£ŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿµÿ≠Ÿäÿ≠ÿ© Ÿàÿ£ŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÇÿßŸÜŸàŸÜŸä. 
                        <span class="terms-link" onclick="openTermsModal()">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ</span>
                    </div>
                </label>
            </div>
            
            <!-- ÿ•ÿπŸÑÿßŸÜ ŸÇÿ®ŸÑ ÿßŸÑÿ≤ÿ± -->
            <div class="ad-premium ad-small ad-premium-red" style="margin:15px 0;">
                <p style="margin:0; font-size:13px;">‚ö†Ô∏è ÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ÿ±ŸÇÿßŸÖ ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅŸáÿß</p>
            </div>
            
            <button class="btn" style="width:100%; padding:12px; margin-top:10px;" onclick="validateAndPublish()">üöÄ ŸÜÿ¥ÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜ</button>
        </div>
    </div>

    <!-- ============ ÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿßŸÑÿ¨ÿØŸäÿØÿ© ============ -->
    <div id="product-layer">
        <div class="nav-back" onclick="closeProduct()">ÿßŸÑÿπŸàÿØÿ©</div>
        <div class="product-container">
            <!-- ÿ•ÿπŸÑÿßŸÜ ŸÅŸä ÿßŸÑÿ£ÿπŸÑŸâ -->
            <div class="ad-premium ad-premium-green" style="margin-bottom:30px;">
                <h4 style="margin:0 0 5px 0;">üõí ÿ™ÿ≥ŸàŸÇ ÿ®ÿ´ŸÇÿ© ÿπŸÑŸâ ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß</h4>
                <p style="margin:0; font-size:13px;">ÿ¥ÿ±ÿßÿ° ÿ¢ŸÖŸÜ 100% ŸÖÿπ ÿ≠ŸÖÿßŸäÿ© ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿä</p>
            </div>
            
            <!-- ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿ®ÿ™ÿµŸÖŸäŸÖ ÿ£ŸÖÿßÿ≤ŸàŸÜ -->
            <div id="product-content">
                <!-- ÿ≥Ÿäÿ™ŸÖ ÿ™ÿπÿ®ÿ¶ÿ™Ÿá ÿ®ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
            </div>
            
            <!-- ÿ•ÿπŸÑÿßŸÜ ŸÅŸä ÿßŸÑŸÖŸÜÿ™ÿµŸÅ -->
            <div class="ad-premium ad-medium ad-premium-blue" style="margin:40px 0;">
                <h4 style="margin:0 0 5px 0;">üöÄ ÿ±Ÿàÿ¨ ŸÑŸÖŸÜÿ™ÿ¨ŸÉ ÿπŸÑŸâ ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</h4>
                <p style="margin:0; font-size:13px;">ÿ•ÿπŸÑÿßŸÜŸÉ Ÿäÿ∏Ÿáÿ± ŸáŸÜÿß ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑÿ≤Ÿàÿßÿ±</p>
            </div>
            
            <!-- ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸÅŸä ÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨ -->
            <div style="text-align:center; margin:30px 0; padding:15px; background:#f9f9f9; border-radius:10px;">
                <span class="terms-link" onclick="openTermsModal()" style="font-size:14px;">
                    üìú ÿßŸÇÿ±ÿ£ ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿ¥ÿ±ÿßÿ° ÿßŸÑÿ¢ŸÖŸÜ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©
                </span>
            </div>
            
            <!-- ÿ•ÿπŸÑÿßŸÜ ŸÅŸä ÿßŸÑÿ£ÿ≥ŸÅŸÑ -->
            <div class="ad-premium ad-small ad-premium-purple" style="margin-top:30px;">
                <p style="margin:0; font-size:13px;">‚≠ê ÿ•ÿπŸÑÿßŸÜ ŸÖŸÖŸäÿ≤: Ÿäÿ®ŸÇŸâ ŸÅŸä ÿßŸÑÿµÿØÿßÿ±ÿ© ŸÑŸÖÿØÿ© 7 ÿ£ŸäÿßŸÖ</p>
            </div>
        </div>
    </div>

    <!-- ============ ÿßŸÑÿØÿ±ÿØÿ¥ÿ© ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ© ŸÖÿπ ÿ•ÿ±ÿ≥ÿßŸÑ ÿµŸàÿ™ ŸàÿµŸàÿ±ÿ© ŸàŸÅŸäÿØŸäŸà ============ -->
    <div id="chat-layer">
        <!-- ÿ≥Ÿäÿ™ŸÖ ÿ™ÿπÿ®ÿ¶ÿ™Ÿá ÿ®ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
    </div>

    <!-- üî• ŸÖÿ≥ÿ¨ŸÑ ÿßŸÑÿµŸàÿ™ ŸÑŸÑÿØÿ±ÿØÿ¥ÿ© -->
    <div class="voice-recorder" id="voiceRecorder">
        <div class="recording-indicator">
            <div class="recording-dot"></div>
            <div class="recording-timer" id="recordingTimer">00:00</div>
        </div>
        
        <div class="recording-wave" id="recordingWave">
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
        </div>
        
        <div class="recording-controls">
            <button class="stop-btn" id="stopRecordingBtn">
                ‚èπÔ∏è ÿ•ŸäŸÇÿßŸÅ
            </button>
            <button class="cancel-btn" onclick="cancelRecording()">
                ‚ùå ÿ•ŸÑÿ∫ÿßÿ°
            </button>
        </div>
    </div>

    <script>
        // üî• ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ŸÑŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä
        const OWNER_EMAIL = "used.syria.app@gmail.com";
        
        // üî• ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿ£ÿØŸàÿßÿ±
        const ROLES = {
            OWNER: "owner",
            ADMIN: "admin",
            USER: "user"
        };
        
        // üî• ÿßŸÑÿ£ŸÑŸàÿßŸÜ ŸÑŸÑÿ£ÿØŸàÿßÿ±
        const ROLE_COLORS = {
            owner: "#e74c3c",
            admin: "#9b59b6",
            user: "#3498db"
        };
        
        // ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿµŸÑŸäÿ©
        const categories = [
            "ÿ≥Ÿäÿßÿ±ÿßÿ™", "ÿπŸÇÿßÿ±ÿßÿ™", "ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™", "ÿ£ÿ¨Ÿáÿ≤ÿ© ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿ©",
            "ÿ£ÿ´ÿßÿ´", "ŸÖŸÑÿßÿ®ÿ≥", "ÿÆÿØŸÖÿßÿ™", "ŸÉŸÖÿ®ŸäŸàÿ™ÿ±ÿßÿ™", 
            "ÿ£ŸÑÿπÿßÿ®", "ÿ£ÿ¨Ÿáÿ≤ÿ© ŸÖŸÜÿ≤ŸÑŸäÿ©", "ÿ±Ÿäÿßÿ∂ÿ©", "ÿ≠ŸäŸàÿßŸÜÿßÿ™", 
            "ŸÉÿ™ÿ®", "ÿ£ÿÆÿ±Ÿâ"
        ];
        
        const adsList = [
            {
                id: 'ad1',
                title: "üî• ÿ•ÿπŸÑÿßŸÜ ŸÖŸÖŸäÿ≤",
                description: "ŸÖŸàŸÇÿπ ÿ•ÿπŸÑÿßŸÜŸÉ ŸáŸÜÿß ŸäÿµŸÑ ŸÑÿ£ŸÑÿßŸÅ ÿßŸÑÿ≤Ÿàÿßÿ± ŸäŸàŸÖŸäÿßŸã",
                type: "green",
                cta: "ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ"
            },
            {
                id: 'ad2',
                title: "üöÄ ÿ™ÿ≥ŸàŸäŸÇ ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÉ",
                description: "ŸÜÿ±Ÿàÿ¨ ŸÑŸÖŸÜÿ™ÿ¨ŸÉ ÿπŸÑŸâ ŸÉŸÑ ÿßŸÑÿµŸÅÿ≠ÿßÿ™",
                type: "blue",
                cta: "ÿßÿπÿ±ŸÅ ÿ£ŸÉÿ´ÿ±"
            },
            {
                id: 'ad3',
                title: "‚≠ê ÿπÿ±ÿ∂ ÿÆÿßÿµ",
                description: "ÿÆÿµŸÖ 40% ÿπŸÑŸâ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÖŸäÿ≤ÿ©",
                type: "purple",
                cta: "ÿßÿ≥ÿ™ŸÅÿØ ÿßŸÑÿ¢ŸÜ"
            },
            {
                id: 'ad4',
                title: "üõ°Ô∏è ÿ≠ŸÖÿßŸäÿ© ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿä",
                description: "ŸÜÿ∂ŸÖŸÜ ŸÑŸÉ ÿπŸÖŸÑŸäÿ© ÿ¥ÿ±ÿßÿ° ÿ¢ŸÖŸÜÿ©",
                type: "red",
                cta: "ÿ™ÿ≥ŸàŸÇ ÿ®ÿ£ŸÖÿßŸÜ"
            }
        ];
        
        let mainImage = null;
        let extraImages = [];
        let videos = [];
        let currentAd = null;
        let notifications = [];
        let chats = {};
        
        // üî• ÿ®ŸäÿßŸÜÿßÿ™ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ ŸÖÿπ ÿßŸÑÿ£ÿØŸàÿßÿ±
        let currentUser = null;
        let loginProfilePic = null;
        let registerProfilePic = null;
        
        // üî• ŸÖÿ™ÿ∫Ÿäÿ±ÿßÿ™ ŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿµŸàÿ™
        let mediaRecorder = null;
        let audioChunks = [];
        let recordingTimer = null;
        let recordingSeconds = 0;
        
        // üî• üî• üî• ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑÿ¨ÿØŸäÿØ üî• üî• üî•
        const smartSearchMap = {
            // ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿßÿ™
            'ÿ¨ŸàÿßŸÑ': ['ŸÖŸàÿ®ÿßŸäŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™', 'Ÿáÿßÿ™ŸÅ', 'ÿ¨ŸàÿßŸÑÿßÿ™', 'iphone', 'ÿ¢ŸäŸÅŸàŸÜ', 'ÿßŸäŸÅŸàŸÜ', 'ÿ£ŸäŸÅŸàŸÜ', 'ŸáŸàÿßÿ™ŸÅ', 'ŸÖŸàÿ®ŸäŸÑ', 'ÿ¨ŸàŸÑ'],
            'ŸÖŸàÿ®ÿßŸäŸÑ': ['ÿ¨ŸàÿßŸÑ', 'Ÿáÿßÿ™ŸÅ', 'ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™', 'ÿ¨ŸàÿßŸÑÿßÿ™', 'iphone', 'ÿ¢ŸäŸÅŸàŸÜ'],
            'Ÿáÿßÿ™ŸÅ': ['ÿ¨ŸàÿßŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑ', 'ÿ™ŸÑŸäŸÅŸàŸÜ', 'ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™', 'ÿ¨ŸàÿßŸÑÿßÿ™'],
            'iphone': ['ÿ¢ŸäŸÅŸàŸÜ', 'ÿßŸäŸÅŸàŸÜ', 'ÿ£ŸäŸÅŸàŸÜ', 'ÿ¨ŸàÿßŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑ', 'Ÿáÿßÿ™ŸÅ'],
            'ÿ¢ŸäŸÅŸàŸÜ': ['iphone', 'ÿßŸäŸÅŸàŸÜ', 'ÿ£ŸäŸÅŸàŸÜ', 'ÿ¨ŸàÿßŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑ'],
            'ÿßŸäŸÅŸàŸÜ': ['iphone', 'ÿ¢ŸäŸÅŸàŸÜ', 'ÿ£ŸäŸÅŸàŸÜ', 'ÿ¨ŸàÿßŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑ'],
            'ÿ£ŸäŸÅŸàŸÜ': ['iphone', 'ÿ¢ŸäŸÅŸàŸÜ', 'ÿßŸäŸÅŸàŸÜ', 'ÿ¨ŸàÿßŸÑ', 'ŸÖŸàÿ®ÿßŸäŸÑ'],
            'ÿ≥ÿßŸÖÿ≥ŸàŸÜÿ¨': ['samsung', 'ÿ¨ÿßŸÑŸÉÿ≥Ÿä', 'ÿ¨ÿßŸÑÿßŸÉÿ≥Ÿä', 'ÿ¨ŸÑŸÉÿ≥Ÿä'],
            'samsung': ['ÿ≥ÿßŸÖÿ≥ŸàŸÜÿ¨', 'ÿ¨ÿßŸÑŸÉÿ≥Ÿä', 'ÿ¨ÿßŸÑÿßŸÉÿ≥Ÿä'],
            'ŸÑÿßÿ®': ['ŸÑÿßÿ®ÿ™Ÿàÿ®', 'ŸÉŸÖÿ®ŸäŸàÿ™ÿ± ŸÖÿ≠ŸÖŸàŸÑ', 'ŸÑÿßÿ® ÿ™Ÿàÿ®', 'ŸÑÿßÿ®ÿ™Ÿàÿ®', 'ŸÑÿ∑Ÿàÿ®'],
            'ŸÑÿßÿ®ÿ™Ÿàÿ®': ['ŸÑÿßÿ®', 'ŸÉŸÖÿ®ŸäŸàÿ™ÿ± ŸÖÿ≠ŸÖŸàŸÑ', 'ŸÑÿßÿ® ÿ™Ÿàÿ®'],
            'ŸÉŸÖÿ®ŸäŸàÿ™ÿ±': ['ÿ≠ÿßÿ≥Ÿàÿ®', 'ŸÉŸàŸÖÿ®ŸäŸàÿ™ÿ±', 'ÿ≠ÿßÿ≥ÿ®', 'ŸÉŸÖÿ®ŸäŸàÿ™ÿ± ŸÖŸÉÿ™ÿ®Ÿä'],
            'ÿ≠ÿßÿ≥Ÿàÿ®': ['ŸÉŸÖÿ®ŸäŸàÿ™ÿ±', 'ŸÉŸàŸÖÿ®ŸäŸàÿ™ÿ±', 'ÿ≠ÿßÿ≥ÿ®'],
            
            // ÿ≥Ÿäÿßÿ±ÿßÿ™
            'ÿ≥Ÿäÿßÿ±ÿ©': ['ŸÖÿ±ŸÉÿ®ÿ©', 'ÿπÿ±ÿ®Ÿäÿ©', 'ÿ≥Ÿäÿßÿ±Ÿá', 'ÿπÿ±ÿ®Ÿá', 'ŸÖÿ±ŸÉÿ®', 'ÿ≥Ÿäÿßÿ±', 'ÿπÿ±ÿ®ŸäŸá'],
            'ÿ≥Ÿäÿßÿ±Ÿá': ['ÿ≥Ÿäÿßÿ±ÿ©', 'ŸÖÿ±ŸÉÿ®ÿ©', 'ÿπÿ±ÿ®Ÿäÿ©'],
            'ŸÖÿ±ŸÉÿ®ÿ©': ['ÿ≥Ÿäÿßÿ±ÿ©', 'ÿπÿ±ÿ®Ÿäÿ©', 'ÿ≥Ÿäÿßÿ±Ÿá'],
            'ÿπÿ±ÿ®Ÿäÿ©': ['ÿ≥Ÿäÿßÿ±ÿ©', 'ŸÖÿ±ŸÉÿ®ÿ©', 'ÿ≥Ÿäÿßÿ±Ÿá'],
            
            // ÿπŸÇÿßÿ±ÿßÿ™
            'ŸÖŸÜÿ≤ŸÑ': ['ÿ®Ÿäÿ™', 'ÿØÿßÿ±', 'ÿ¥ŸÇÿ©', 'ÿπŸÇÿßÿ±', 'ŸÖÿ≥ŸÉŸÜ', 'ÿ≥ŸÉŸÜ', 'ŸÖŸÜÿ≤ŸÑ'],
            'ÿ®Ÿäÿ™': ['ŸÖŸÜÿ≤ŸÑ', 'ÿØÿßÿ±', 'ŸÖÿ≥ŸÉŸÜ'],
            'ÿ¥ŸÇÿ©': ['ÿ¥ŸÇŸá', 'ÿ£ÿ®ÿßÿ±ÿ™ŸÖÿßŸÜ', 'ÿßÿ®ÿßÿ±ÿ™ŸÖÿßŸÜ', 'ÿ£ÿ®ÿßÿ±ÿ™ŸÖŸÜÿ™', 'ÿ¥ŸÇŸÇ'],
            'ÿ¥ŸÇŸá': ['ÿ¥ŸÇÿ©', 'ÿ£ÿ®ÿßÿ±ÿ™ŸÖÿßŸÜ', 'ÿßÿ®ÿßÿ±ÿ™ŸÖÿßŸÜ'],
            'ÿπŸÇÿßÿ±': ['ŸÖŸÜÿ≤ŸÑ', 'ÿ®Ÿäÿ™', 'ÿ¥ŸÇÿ©', 'ÿπŸÇÿßÿ±ÿßÿ™'],
            
            // ÿ≠ÿßŸÑÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨
            'ÿ¨ÿØŸäÿØ': ['ŸÜŸäŸà', 'new', 'ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ¨ÿØŸäÿØ', 'ÿ¨ÿØŸäÿØŸá', 'ÿ¨ÿØŸäÿØŸá', 'ÿ¨ÿØŸäÿØŸàŸÜ'],
            'ŸÖÿ≥ÿ™ÿπŸÖŸÑ': ['ŸÇÿØŸäŸÖ', 'ŸÖÿ≥ÿ™ÿÆÿØŸÖ', 'ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØ', 'ŸÖÿ≥ÿ™ÿπŸÖŸÑÿ©', 'ŸÖÿ≥ÿ™ÿπŸÖŸÑŸàŸÜ'],
            'ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØ': ['ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ®ÿ≠ÿßŸÑÿ© ÿ¨ŸäÿØÿ©', 'ÿ¥ÿ®Ÿá ŸÖÿ≥ÿ™ÿπŸÖŸÑ', 'ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØŸá'],
            'ÿ¨ŸäÿØ': ['ÿ≠ÿ≥ŸÜ', 'ÿ¨ŸäÿØŸá', 'ÿ¨ŸäÿØÿ©', 'ÿ¨ŸäÿØŸàŸÜ'],
            
            // ŸÖÿØŸÜ
            'ÿØŸÖÿ¥ŸÇ': ['ÿßŸÑÿ¥ÿßŸÖ', 'ÿØŸÖÿ¥ŸÇ ÿßŸÑÿ¥ÿßŸÖ', 'ÿØŸÖÿ¥ŸÇŸä'],
            'ÿ≠ŸÑÿ®': ['ÿ≠ŸÑÿ® ÿßŸÑÿ¥Ÿáÿ®ÿßÿ°', 'ÿ≠ŸÑÿ®Ÿä'],
            'ÿ≠ŸÖÿµ': ['ÿ≠ŸÖÿµŸä'],
            'ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿ©': ['ÿßŸÑŸÑÿßÿ∞ŸÇŸäŸá', 'ÿßŸÑŸÑÿßÿ∞ŸÇŸäÿß', 'ŸÑÿßÿ∞ŸÇŸä'],
            
            // ÿπÿßŸÖÿ©
            'ŸÑŸÑÿ®Ÿäÿπ': ['ŸÑŸÑÿ®ÿ®ÿπ', 'ÿ®Ÿäÿπ', 'ŸÖÿπÿ±Ÿàÿ∂', 'ŸÖÿ®Ÿäÿπ', 'ÿ™ÿ®Ÿäÿπ', 'Ÿäÿ®Ÿäÿπ'],
            'ŸÖÿ∑ŸÑŸàÿ®': ['ÿ£ÿ®ÿ≠ÿ´ ÿπŸÜ', 'ÿ®ÿ≠ÿßÿ¨ÿ©', 'ÿßÿ±ŸäÿØ', 'ŸÜÿ±ŸäÿØ', 'Ÿäÿ∑ŸÑÿ®', 'ÿßÿ∑ŸÑÿ®'],
            'ÿ¥ÿ±ÿßÿ°': ['ÿ¥ÿ±ÿß', 'ÿßÿ¥ÿ™ÿ±Ÿä', 'ŸÜÿ¥ÿ™ÿ±Ÿä', 'Ÿäÿ¥ÿ™ÿ±Ÿä', 'ÿ¥ÿ±ÿßÿ¶Ÿá']
        };
        
        // üî• ÿØÿßŸÑÿ© ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ©
        function performSmartSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const grid = document.getElementById('main-ads-box');
            
            if (!searchTerm) {
                // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑÿ®ÿ≠ÿ´ ŸÅÿßÿ±ÿ∫ÿßŸãÿå ÿπÿ±ÿ∂ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™
                loadAdsFromStorage();
                return;
            }
            
            // ÿ™ŸÇÿ≥ŸäŸÖ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´
            const searchWords = searchTerm.toLowerCase().split(' ').filter(word => word.length > 0);
            
            // ÿ¨ŸÖÿπ ŸÉŸÑ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖÿ¥ÿßÿ®Ÿáÿ©
            let allSearchWords = new Set();
            
            searchWords.forEach(word => {
                // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÉŸÑŸÖÿ© ÿßŸÑÿ£ÿµŸÑŸäÿ©
                allSearchWords.add(word);
                
                // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿ±ÿßÿØŸÅÿßÿ™
                if (smartSearchMap[word]) {
                    smartSearchMap[word].forEach(synonym => {
                        allSearchWords.add(synonym.toLowerCase());
                    });
                }
                
                // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ™Ÿä ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑŸÉŸÑŸÖÿ© (ŸÑŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ¨ÿ≤ÿ¶Ÿä)
                Object.keys(smartSearchMap).forEach(key => {
                    if (key.includes(word) || word.includes(key)) {
                        allSearchWords.add(key);
                        smartSearchMap[key].forEach(synonym => {
                            allSearchWords.add(synonym.toLowerCase());
                        });
                    }
                });
            });
            
            // ÿ™ÿ≠ŸàŸäŸÑ ÿßŸÑŸÄ Set ÿ•ŸÑŸâ Array
            const searchPatterns = Array.from(allSearchWords);
            
            // ÿ™ÿµŸÅŸäÿ© ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™
            const filteredAds = ads.filter(ad => {
                // ÿ¨ŸÖÿπ ŸÉŸÑ ÿßŸÑŸÜÿµŸàÿµ ŸÑŸÑÿ®ÿ≠ÿ´ ŸÅŸäŸáÿß
                const searchText = `
                    ${ad.title || ''}
                    ${ad.desc || ''}
                    ${ad.category || ''}
                    ${ad.condition || ''}
                    ${ad.governorate || ''}
                    ${ad.seller || ''}
                `.toLowerCase();
                
                // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿ£Ÿä ŸÖŸÜ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÜÿµ
                return searchPatterns.some(pattern => {
                    return searchText.includes(pattern);
                });
            });
            
            // ÿπÿ±ÿ∂ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
            if (grid) {
                grid.innerHTML = '';
                
                if (filteredAds.length === 0) {
                    // ÿ•ÿ∞ÿß ŸÑŸÖ ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ÿå ÿπÿ±ÿ∂ ÿ±ÿ≥ÿßŸÑÿ©
                    grid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align:center; padding:40px; background:white; border-radius:15px;">
                            <div style="font-size:60px; margin-bottom:20px;">üîç</div>
                            <h3 style="color:#666;">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸÑŸÄ "${searchTerm}"</h3>
                            <p style="color:#999;">ÿ¨ÿ±ÿ® ÿßŸÑÿ®ÿ≠ÿ´ ÿ®ŸÉŸÑŸÖÿßÿ™ ÿ£ÿÆÿ±Ÿâ ŸÖÿ´ŸÑ: ÿ¨ŸàÿßŸÑ, ŸÖŸàÿ®ÿßŸäŸÑ, ÿ≥Ÿäÿßÿ±ÿ©, ŸÖŸÜÿ≤ŸÑ</p>
                            <button class="btn" onclick="document.getElementById('searchInput').value=''; loadAdsFromStorage();" style="margin-top:20px;">
                                ÿπÿ±ÿ∂ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™
                            </button>
                        </div>
                    `;
                } else {
                    filteredAds.forEach(ad => displayAd(ad));
                    
                    // ÿπÿ±ÿ∂ ÿπÿØÿØ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
                    const resultsCount = document.createElement('div');
                    resultsCount.style.cssText = 'grid-column: 1 / -1; text-align:center; padding:15px; background:#f8f9fa; border-radius:10px; margin-bottom:20px;';
                    resultsCount.innerHTML = `ÿπÿ±ÿ∂ ${filteredAds.length} ŸÜÿ™Ÿäÿ¨ÿ© ŸÑŸÄ "<strong>${searchTerm}</strong>"`;
                    grid.insertBefore(resultsCount, grid.firstChild);
                }
            }
        }
        
        // üî• ÿØÿßŸÑÿ© ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ≥ÿ±Ÿäÿπ (ÿπŸÜÿØ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ Enter)
        document.getElementById('searchInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSmartSearch();
            }
        });
        
        // üî• ÿØÿßŸÑÿ© ŸÖÿ≥ÿ≠ ÿßŸÑÿ®ÿ≠ÿ´
        function clearSearch() {
            document.getElementById('searchInput').value = '';
            loadAdsFromStorage();
        }
        
        // üî• ÿßŸÑÿ™ŸáŸäÿ¶ÿ©
        window.onload = function() {
            // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserHeader();
                updateMobileSidebar();
            }
            
            initCategories();
            loadAdsFromStorage();
            notifications = JSON.parse(localStorage.getItem('mostaml_notifications')) || [];
            chats = JSON.parse(localStorage.getItem('mostaml_chats')) || {};
            updateNotificationBadge();
            
            // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÅÿ¶ÿßÿ™ ŸÑŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©
            loadMobileCategories();
            
            // üî• ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä
            checkAndCreateOwner();
            
            showNotification('ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß! üéâ', 'success');
            
            // ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ¨ŸàÿßŸÑ
            setupMobileEnhancements();
            
            // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ≤ÿ± ŸÖÿ≥ÿ≠ ÿßŸÑÿ®ÿ≠ÿ´ ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸÖŸàÿ¨ŸàÿØÿßŸã
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                const searchArea = document.querySelector('.search-area');
                const clearBtn = document.createElement('button');
                clearBtn.className = 'btn';
                clearBtn.innerHTML = 'ŸÖÿ≥ÿ≠';
                clearBtn.style.padding = '0 15px';
                clearBtn.style.fontSize = '12px';
                clearBtn.onclick = clearSearch;
                searchArea.insertBefore(clearBtn, searchInput.nextSibling);
            }
        };
        
        // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÅÿ¶ÿßÿ™ ŸÑŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©
        function loadMobileCategories() {
            const container = document.getElementById('mobileCategoriesList');
            if (!container) return;
            
            container.innerHTML = '';
            
            // ÿ•ÿ∂ÿßŸÅÿ© "ÿ¨ŸÖŸäÿπ" ÿ£ŸàŸÑÿßŸã
            const allItem = document.createElement('div');
            allItem.className = 'mobile-sidebar-item';
            allItem.innerHTML = `
                <i>üì¶</i>
                <span>ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™</span>
            `;
            allItem.onclick = function() {
                closeMobileMenu();
                filterAdsByCategory('ÿ¨ŸÖŸäÿπ');
            };
            container.appendChild(allItem);
            
            // ÿ•ÿ∂ÿßŸÅÿ© ÿ®ÿßŸÇŸä ÿßŸÑŸÅÿ¶ÿßÿ™
            categories.forEach(category => {
                const item = document.createElement('div');
                item.className = 'mobile-sidebar-item';
                item.innerHTML = `
                    <i>üè∑Ô∏è</i>
                    <span>${category}</span>
                `;
                item.onclick = function() {
                    closeMobileMenu();
                    filterAdsByCategory(category);
                };
                container.appendChild(item);
            });
        }
        
        // üî• ŸÅÿ™ÿ≠ Ÿàÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©
        function toggleMobileMenu() {
            const sidebar = document.getElementById('mobileSidebar');
            const overlay = document.getElementById('mobileSidebarOverlay');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            menuBtn.classList.toggle('active');
        }
        
        function closeMobileMenu() {
            const sidebar = document.getElementById('mobileSidebar');
            const overlay = document.getElementById('mobileSidebarOverlay');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            menuBtn.classList.remove('active');
        }
        
        // üî• ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©
        function updateMobileSidebar() {
            const mobileAvatar = document.getElementById('mobileAvatar');
            const mobileUserName = document.getElementById('mobileUserName');
            const mobileUserCity = document.getElementById('mobileUserCity');
            const mobileNotificationBadge = document.getElementById('mobileNotificationBadge');
            
            if (currentUser) {
                mobileUserName.textContent = currentUser.name;
                mobileUserCity.textContent = currentUser.city;
                
                if (currentUser.profilePic) {
                    mobileAvatar.innerHTML = `<img src="${currentUser.profilePic}" alt="ÿµŸàÿ±ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ" style="width:100%; height:100%; border-radius:50%;">`;
                } else {
                    mobileAvatar.innerHTML = currentUser.name.charAt(0);
                }
                
                // ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©
                const unread = notifications.filter(n => !n.read).length;
                if (unread > 0) {
                    mobileNotificationBadge.style.display = 'flex';
                    mobileNotificationBadge.textContent = unread > 9 ? '9+' : unread;
                } else {
                    mobileNotificationBadge.style.display = 'none';
                }
            } else {
                mobileUserName.textContent = 'ÿ≤ÿßÿ¶ÿ±';
                mobileUserCity.textContent = '';
                mobileAvatar.innerHTML = 'üë§';
            }
        }
        
        // üî• ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸÑÿ¨ŸàÿßŸÑ
        function setupMobileEnhancements() {
            // ŸÖŸÜÿπ ÿßŸÑÿ™ŸÉÿ®Ÿäÿ± ÿπŸÑŸâ ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÖÿ≠ŸÖŸàŸÑÿ©
            document.addEventListener('touchmove', function(event) {
                if (event.scale !== 1) {
                    event.preventDefault();
                }
            }, { passive: false });
            
            // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ£ÿØÿßÿ° ÿßŸÑŸÑŸÖÿ≥
            document.addEventListener('touchstart', function() {}, { passive: true });
            
            // ÿ•ÿ∂ÿßŸÅÿ© safe area ŸÑŸÑŸáŸàÿßÿ™ŸÅ ÿ∞ÿßÿ™ ÿßŸÑŸÄ notch
            updateSafeArea();
            window.addEventListener('resize', updateSafeArea);
            
            // ÿ•ÿÆŸÅÿßÿ° ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿÆÿßÿ±ÿ¨ ÿßŸÑÿ≠ŸÇŸàŸÑ
            document.addEventListener('touchstart', function(e) {
                if (!e.target.matches('input, textarea, select')) {
                    document.activeElement.blur();
                }
            });
        }
        
        function updateSafeArea() {
            const style = document.createElement('style');
            style.textContent = `
                @supports (padding: max(0px)) {
                    body {
                        padding-left: env(safe-area-inset-left);
                        padding-right: env(safe-area-inset-right);
                        padding-top: env(safe-area-inset-top);
                        padding-bottom: env(safe-area-inset-bottom);
                    }
                    
                    header {
                        padding-top: calc(12px + env(safe-area-inset-top));
                        height: calc(60px + env(safe-area-inset-top));
                    }
                    
                    @media (max-width: 768px) {
                        header {
                            padding-top: calc(10px + env(safe-area-inset-top));
                            height: calc(56px + env(safe-area-inset-top));
                        }
                    }
                    
                    @media (max-width: 480px) {
                        header {
                            padding-top: calc(8px + env(safe-area-inset-top));
                            height: calc(52px + env(safe-area-inset-top));
                        }
                    }
                    
                    .nav-back {
                        padding-top: calc(15px + env(safe-area-inset-top));
                        height: calc(56px + env(safe-area-inset-top));
                    }
                    
                    @media (max-width: 480px) {
                        .nav-back {
                            padding-top: calc(12px + env(safe-area-inset-top));
                            height: calc(52px + env(safe-area-inset-top));
                        }
                    }
                    
                    .mobile-sidebar {
                        padding-top: env(safe-area-inset-top);
                    }
                }
            `;
            document.head.appendChild(style);
        }
        
        // üî• ÿØÿßŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸÖŸàÿ¨ŸàÿØÿßŸã
        function checkAndCreateOwner() {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä
            const ownerExists = users.find(user => user.email === OWNER_EMAIL || user.identifier === OWNER_EMAIL);
            
            if (!ownerExists) {
                // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä
                const ownerUser = {
                    id: 1,
                    name: "ŸÖÿßŸÑŸÉ ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß",
                    identifier: OWNER_EMAIL,
                    email: OWNER_EMAIL,
                    password: "admin123", // ŸäŸÖŸÉŸÜ ÿ™ÿ∫ŸäŸäÿ±Ÿáÿß ŸÑÿßÿ≠ŸÇÿßŸã
                    city: "ÿØŸÖÿ¥ŸÇ",
                    role: ROLES.OWNER,
                    profilePic: null,
                    joinDate: new Date().toLocaleDateString('ar-SY'),
                    adsCount: 0,
                    rating: 5.0,
                    agreedToTerms: true,
                    isActive: true
                };
                
                users.push(ownerUser);
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                console.log("‚úÖ ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä:", OWNER_EMAIL);
                
                // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ•ÿ¥ÿπÿßÿ± ŸÑŸÑŸÖÿßŸÑŸÉ
                const ownerNotification = {
                    id: Date.now(),
                    title: 'üëë ŸÖŸÑŸÉŸäÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ',
                    message: `ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÉŸÖÿßŸÑŸÉ ŸÑŸÑŸÜÿ∏ÿßŸÖ. ÿßŸÑÿ®ÿ±ŸäÿØ: ${OWNER_EMAIL}`,
                    date: new Date().toLocaleString('ar-SY'),
                    read: false
                };
                
                notifications.unshift(ownerNotification);
                localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            }
            
            // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ®ÿπÿ∂ ÿßŸÑŸÖÿØŸäÿ±ŸäŸÜ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂ŸäŸäŸÜ ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸáŸÜÿßŸÉ ŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ
            if (users.length <= 1) {
                const defaultManagers = [
                    {
                        id: 2,
                        name: "ŸÖÿØŸäÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑÿ£ŸàŸÑ",
                        identifier: "manager1@mostaml.sy",
                        email: "manager1@mostaml.sy",
                        password: "manager123",
                        city: "ÿ≠ŸÑÿ®",
                        role: ROLES.ADMIN,
                        profilePic: null,
                        joinDate: new Date().toLocaleDateString('ar-SY'),
                        adsCount: 0,
                        rating: 5.0,
                        agreedToTerms: true,
                        isActive: true
                    },
                    {
                        id: 3,
                        name: "ŸÖÿØŸäÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑÿ´ÿßŸÜŸä",
                        identifier: "manager2@mostaml.sy",
                        email: "manager2@mostaml.sy",
                        password: "manager123",
                        city: "ÿ≠ŸÖÿµ",
                        role: ROLES.ADMIN,
                        profilePic: null,
                        joinDate: new Date().toLocaleDateString('ar-SY'),
                        adsCount: 0,
                        rating: 5.0,
                        agreedToTerms: true,
                        isActive: true
                    }
                ];
                
                defaultManagers.forEach(manager => {
                    if (!users.find(u => u.email === manager.email)) {
                        users.push(manager);
                    }
                });
                
                localStorage.setItem('mostaml_users', JSON.stringify(users));
            }
        }
        
        // ========================
        // üî• ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸàÿßŸÑÿÆÿµŸàÿµŸäÿ©
        // ========================
        
        function openTermsModal() {
            document.getElementById('terms-modal').style.display = 'flex';
        }
        
        function closeTermsModal() {
            document.getElementById('terms-modal').style.display = 'none';
        }
        
        // ========================
        // üî• ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ ŸÖÿπ ÿßŸÑÿ£ÿØŸàÿßÿ±
        // ========================
        
        function openAccountModal(formType = 'login') {
            document.getElementById('account-modal').style.display = 'flex';
            showAccountForm(formType);
        }
        
        function closeAccountModal() {
            document.getElementById('account-modal').style.display = 'none';
        }
        
        function showAccountForm(formType) {
            // ÿ•ÿÆŸÅÿßÿ° ÿ¨ŸÖŸäÿπ ÿßŸÑŸÜŸÖÿßÿ∞ÿ¨
            document.querySelectorAll('.account-form').forEach(form => {
                form.classList.remove('active');
            });
            
            // ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑŸÜÿ¥ÿ∑ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÑÿ≥ŸÜÿ©
            document.querySelectorAll('.account-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®
            if (formType === 'login') {
                document.getElementById('login-form').classList.add('active');
                document.querySelector('.account-tab:nth-child(1)').classList.add('active');
            } else {
                document.getElementById('register-form').classList.add('active');
                document.querySelector('.account-tab:nth-child(2)').classList.add('active');
            }
        }
        
        function updateLoginProfilePic(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('Ÿäÿ¨ÿ® ÿßÿÆÿ™Ÿäÿßÿ± ŸÖŸÑŸÅ ÿµŸàÿ±ÿ©', 'warning');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                loginProfilePic = e.target.result;
                document.getElementById('login-profile-pic').innerHTML = 
                    `<img src="${e.target.result}" alt="ÿµŸàÿ±ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ">`;
            };
            reader.readAsDataURL(file);
        }
        
        function updateRegisterProfilePic(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('Ÿäÿ¨ÿ® ÿßÿÆÿ™Ÿäÿßÿ± ŸÖŸÑŸÅ ÿµŸàÿ±ÿ©', 'warning');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                registerProfilePic = e.target.result;
                document.getElementById('register-profile-pic').innerHTML = 
                    `<img src="${e.target.result}" alt="ÿµŸàÿ±ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ">`;
            };
            reader.readAsDataURL(file);
        }
        
        // üî• ÿØÿßŸÑÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÖÿπ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ£ÿØŸàÿßÿ±
        function loginUser() {
            const identifier = document.getElementById('login-identifier').value.trim();
            const password = document.getElementById('login-password').value.trim();
            
            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            if (!identifier) {
                showNotification('ÿ£ÿØÿÆŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ£Ÿà ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä', 'warning');
                return;
            }
            
            if (!password) {
                showNotification('ÿ£ÿØÿÆŸÑ ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±', 'warning');
                return;
            }
            
            // ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
            let user = users.find(u => 
                (u.identifier === identifier || u.email === identifier) && 
                u.password === password
            );
            
            if (!user) {
                showNotification('ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿØÿÆŸÑÿ© ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©', 'warning');
                return;
            }
            
            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≠ÿ∏Ÿàÿ±
            if (user.isActive === false) {
                showNotification('Ÿáÿ∞ÿß ÿßŸÑÿ≠ÿ≥ÿßÿ® ŸÖÿ≠ÿ∏Ÿàÿ±', 'error');
                return;
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿµŸàÿ±ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ ÿ•ÿ∞ÿß ÿ™ŸÖ ÿ±ŸÅÿπ Ÿàÿßÿ≠ÿØÿ©
            if (loginProfilePic) {
                user.profilePic = loginProfilePic;
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex] = user;
                    localStorage.setItem('mostaml_users', JSON.stringify(users));
                }
            }
            
            // ÿ≠ŸÅÿ∏ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä
            currentUser = user;
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿßÿ¨Ÿáÿ©
            updateUserHeader();
            updateMobileSidebar();
            closeAccountModal();
            
            // üî• ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ±ÿ≠Ÿäÿ® ÿÆÿßÿµÿ© ÿ≠ÿ≥ÿ® ÿßŸÑÿØŸàÿ±
            let welcomeMessage = `ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ÿπŸàÿØÿ™ŸÉ ${user.name}! üëã`;
            if (user.role === ROLES.OWNER) {
                welcomeMessage = `üëë ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÖÿßŸÑŸÉ ÿßŸÑŸÜÿ∏ÿßŸÖ ${user.name}!`;
            } else if (user.role === ROLES.ADMIN) {
                welcomeMessage = `üë®‚Äçüíº ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÖÿØŸäÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ${user.name}!`;
            }
            
            showNotification(welcomeMessage, 'success');
            
            // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ≠ŸÇŸàŸÑ
            document.getElementById('login-identifier').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('login-profile-pic').innerHTML = 'üë§';
            loginProfilePic = null;
        }
        
        // üî• ÿØÿßŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ŸÖÿπ ÿØŸàÿ± ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä ŸÉŸÄ "user"
        function registerUser() {
            const name = document.getElementById('register-name').value.trim();
            const identifier = document.getElementById('register-identifier').value.trim();
            const password = document.getElementById('register-password').value.trim();
            const confirmPassword = document.getElementById('register-confirm-password').value.trim();
            const city = document.getElementById('register-city').value;
            
            // üî• ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÖŸàÿßŸÅŸÇÿ© ÿßŸÑÿ¥ÿ±Ÿàÿ∑
            const agreeTerms = document.getElementById('agree-terms').checked;
            if (!agreeTerms) {
                showNotification('Ÿäÿ¨ÿ® ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿπŸÑŸâ ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿàÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©', 'warning');
                return;
            }
            
            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            if (!name || !identifier || !password || !confirmPassword || !city) {
                showNotification('ÿ£ÿØÿÆŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®ÿ©', 'warning');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('ŸÉŸÑŸÖÿ™ÿß ÿßŸÑÿ≥ÿ± ÿ∫Ÿäÿ± ŸÖÿ™ÿ∑ÿßÿ®ŸÇÿ™ŸäŸÜ', 'warning');
                return;
            }
            
            if (password.length < 6) {
                showNotification('ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ± Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ 6 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ', 'warning');
                return;
            }
            
            // ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // üî• ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑŸÖÿπÿ±ŸÅ ŸÖÿ≥ÿ¨ŸÑ ŸÖÿ≥ÿ®ŸÇÿßŸã
            if (users.find(u => u.identifier === identifier || u.email === identifier)) {
                showNotification('ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ£Ÿà ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ŸÖÿ≥ÿ¨ŸÑ ŸÖÿ≥ÿ®ŸÇÿßŸã', 'warning');
                return;
            }
            
            // üî• ÿ™ÿ≠ÿØŸäÿØ ŸÖÿß ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿ•ŸäŸÖŸäŸÑ ÿ£ŸÖ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ
            const isEmail = identifier.includes('@');
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ¨ÿØŸäÿØ
            const newUser = {
                id: Date.now(),
                name: name,
                identifier: identifier,
                email: isEmail ? identifier : null,
                phone: !isEmail ? identifier : null,
                password: password,
                city: city,
                role: ROLES.USER, // üî• ÿØŸàÿ± ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä: user
                profilePic: registerProfilePic || null,
                joinDate: new Date().toLocaleDateString('ar-SY'),
                adsCount: 0,
                rating: 5.0,
                agreedToTerms: true,
                isActive: true
            };
            
            // ÿ≠ŸÅÿ∏ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
            users.push(newUser);
            localStorage.setItem('mostaml_users', JSON.stringify(users));
            
            // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿßÿ¨Ÿáÿ©
            updateUserHeader();
            updateMobileSidebar();
            closeAccountModal();
            showNotification('ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠ ' + name + '! üéâ', 'success');
            
            // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ≠ŸÇŸàŸÑ
            document.getElementById('register-name').value = '';
            document.getElementById('register-identifier').value = '';
            document.getElementById('register-password').value = '';
            document.getElementById('register-confirm-password').value = '';
            document.getElementById('register-city').value = '';
            document.getElementById('register-profile-pic').innerHTML = 'üë§';
            document.getElementById('agree-terms').checked = false;
            registerProfilePic = null;
        }
        
        function logoutUser() {
            if (confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ÿü')) {
                currentUser = null;
                localStorage.removeItem('currentUser');
                updateUserHeader();
                updateMobileSidebar();
                showNotification('ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨', 'success');
            }
        }
        
        // üî• ÿØÿßŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸáŸäÿØÿ± ŸÖÿπ ÿπÿ±ÿ∂ ÿßŸÑÿØŸàÿ±
        function updateUserHeader() {
            const userHeader = document.getElementById('user-header-info');
            const loginBtn = document.getElementById('login-header-btn');
            const adminBtn = document.getElementById('admin-header-btn');
            const headerAvatar = document.getElementById('header-user-avatar');
            const headerName = document.getElementById('header-user-name');
            const headerCity = document.getElementById('header-user-city');
            const mobileHeaderNotificationBadge = document.getElementById('mobileHeaderNotificationBadge');
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸáŸäÿØÿ± ŸÑŸÑÿ¨ŸàÿßŸÑ
            const unread = notifications.filter(n => !n.read).length;
            if (unread > 0) {
                mobileHeaderNotificationBadge.style.display = 'flex';
                mobileHeaderNotificationBadge.textContent = unread > 9 ? '9+' : unread;
            } else {
                mobileHeaderNotificationBadge.style.display = 'none';
            }
            
            if (currentUser) {
                userHeader.style.display = 'flex';
                loginBtn.style.display = 'none';
                
                // üî• ÿ•ÿ∏Ÿáÿßÿ± ÿ®ÿßÿØÿ¨ÿ© ÿßŸÑÿØŸàÿ±
                let roleBadge = '';
                if (currentUser.role === ROLES.OWNER) {
                    roleBadge = '<span class="user-role-badge role-owner">üëë ŸÖÿßŸÑŸÉ</span>';
                    adminBtn.style.display = 'block';
                    adminBtn.className = 'admin-btn owner-btn';
                    adminBtn.innerHTML = 'üëë ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ';
                } else if (currentUser.role === ROLES.ADMIN) {
                    roleBadge = '<span class="user-role-badge role-admin">üë®‚Äçüíº ŸÖÿØŸäÿ±</span>';
                    adminBtn.style.display = 'block';
                    adminBtn.className = 'admin-btn';
                    adminBtn.innerHTML = 'üë®‚Äçüíº ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ';
                } else {
                    adminBtn.style.display = 'none';
                }
                
                headerName.innerHTML = `${roleBadge} ${currentUser.name}`;
                headerCity.textContent = currentUser.city;
                
                if (currentUser.profilePic) {
                    headerAvatar.innerHTML = `<img src="${currentUser.profilePic}" alt="ÿµŸàÿ±ÿ© ÿßŸÑÿ®ÿ±ŸàŸÅÿßŸäŸÑ" style="width:100%; height:100%; border-radius:50%;">`;
                } else {
                    headerAvatar.innerHTML = currentUser.name.charAt(0);
                }
            } else {
                userHeader.style.display = 'none';
                adminBtn.style.display = 'none';
                loginBtn.style.display = 'block';
            }
        }
        
        // ========================
        // üî• ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        // ========================
        
        function openAdminDashboard() {
            if (!currentUser) {
                showNotification('Ÿäÿ¨ÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã', 'warning');
                openAccountModal('login');
                return;
            }
            
            // üî• ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™
            if (currentUser.role !== ROLES.OWNER && currentUser.role !== ROLES.ADMIN) {
                showNotification('ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿµŸÑÿßÿ≠Ÿäÿ© ÿßŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ', 'error');
                return;
            }
            
            const modal = document.getElementById('admin-dashboard-modal');
            const header = document.getElementById('admin-header');
            
            // üî• ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸáŸäÿØÿ± ÿ≠ÿ≥ÿ® ÿßŸÑÿØŸàÿ±
            if (currentUser.role === ROLES.OWNER) {
                header.className = 'admin-header admin-header-owner';
                header.innerHTML = `
                    <div>üëë ÿßŸÑŸÖÿßŸÑŸÉ: ${currentUser.name}</div>
                    <div>ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ©</div>
                    <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
                `;
                // üî• ÿ•ÿ∏Ÿáÿßÿ± ÿ™ÿ®ŸàŸäÿ® ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ŸÑŸÑŸÖÿßŸÑŸÉ ŸÅŸÇÿ∑
                document.getElementById('settings-tab').style.display = 'block';
                document.getElementById('add-manager-btn-container').style.display = 'block';
            } else {
                header.className = 'admin-header';
                header.innerHTML = `
                    <div>üë®‚Äçüíº ÿßŸÑŸÖÿØŸäÿ±: ${currentUser.name}</div>
                    <div>ŸÑŸàÿ≠ÿ© ÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ•ÿØÿßÿ±ÿ©</div>
                    <div onclick="closeAdminDashboard()" style="cursor:pointer; font-size:30px;">&times;</div>
                `;
                document.getElementById('settings-tab').style.display = 'none';
                document.getElementById('add-manager-btn-container').style.display = 'none';
            }
            
            modal.style.display = 'block';
            
            // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            loadAdminStats();
            loadAdminAds();
            loadAdminUsers();
            loadAdminReports();
        }
        
        function closeAdminDashboard() {
            document.getElementById('admin-dashboard-modal').style.display = 'none';
        }
        
        function showAdminSection(sectionId) {
            // ÿ•ÿÆŸÅÿßÿ° ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑŸÜÿ¥ÿ∑ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÑÿ≥ŸÜÿ©
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÇÿ≥ŸÖ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®
            document.getElementById(`admin-${sectionId}-section`).classList.add('active');
            
            // ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÑÿ≥ÿßŸÜ ÿßŸÑŸÖŸÜÿßÿ≥ÿ®
            document.querySelector(`.admin-tab[onclick="showAdminSection('${sectionId}')"]`).classList.add('active');
        }
        
        // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        function loadAdminStats() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const today = new Date().toLocaleDateString('ar-SY');
            
            // üî• ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™
            document.getElementById('stat-total-ads').textContent = ads.length;
            document.getElementById('stat-total-users').textContent = users.length;
            document.getElementById('stat-today-ads').textContent = ads.filter(ad => ad.date === today).length;
            document.getElementById('stat-active-users').textContent = users.filter(user => user.isActive !== false).length;
        }
        
        // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÑŸÑÿ•ÿØÿßÿ±ÿ©
        function loadAdminAds() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const table = document.getElementById('admin-ads-table');
            
            table.innerHTML = '';
            
            ads.forEach((ad, index) => {
                const mainMedia = ad.media && ad.media.length > 0 ? ad.media[0] : null;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        ${mainMedia ? 
                            `<img src="${mainMedia.url}" alt="ÿµŸàÿ±ÿ©" style="width:50px; height:50px; border-radius:8px; object-fit:cover;">` : 
                            'üì∑'
                        }
                    </td>
                    <td>${ad.title}</td>
                    <td>${ad.price}</td>
                    <td>${ad.seller || 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ'}</td>
                    <td>${ad.date}</td>
                    <td>
                        ${currentUser.role === ROLES.OWNER || currentUser.role === ROLES.ADMIN ? 
                            `<button class="action-btn action-delete" onclick="deleteAdAdmin(${ad.id})">ÿ≠ÿ∞ŸÅ</button>
                             <button class="action-btn action-edit" onclick="editAdAdmin(${ad.id})">ÿ™ÿπÿØŸäŸÑ</button>` : 
                            ''
                        }
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ŸÑŸÑÿ•ÿØÿßÿ±ÿ©
        function loadAdminUsers() {
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const table = document.getElementById('admin-users-table');
            
            table.innerHTML = '';
            
            users.forEach((user, index) => {
                // üî• ŸÑÿß Ÿäÿ∏Ÿáÿ± ÿßŸÑŸÖÿßŸÑŸÉ ŸÜŸÅÿ≥Ÿá ŸÅŸä ÿßŸÑŸÇÿßÿ¶ŸÖÿ© (ÿ•ŸÑÿß ÿ•ÿ∞ÿß ŸÉÿßŸÜ Ÿäÿ±ŸäÿØ ÿ™ÿπÿØŸäŸÑ ÿ≠ÿ≥ÿßÿ®ÿßÿ™ ÿ£ÿÆÿ±Ÿâ)
                if (currentUser.role === ROLES.ADMIN && user.role === ROLES.OWNER) {
                    return;
                }
                
                const row = document.createElement('tr');
                
                // üî• ÿ™ÿ≠ÿØŸäÿØ ÿ®ÿßÿØÿ¨ÿ© ÿßŸÑÿØŸàÿ±
                let roleBadge = '';
                if (user.role === ROLES.OWNER) {
                    roleBadge = '<span class="badge-owner">üëë ŸÖÿßŸÑŸÉ</span>';
                } else if (user.role === ROLES.ADMIN) {
                    roleBadge = '<span class="badge-admin">üë®‚Äçüíº ŸÖÿØŸäÿ±</span>';
                } else {
                    roleBadge = '<span class="badge-user">üë§ ŸÖÿ≥ÿ™ÿÆÿØŸÖ</span>';
                }
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        ${user.profilePic ? 
                            `<img src="${user.profilePic}" alt="ÿµŸàÿ±ÿ©" style="width:50px; height:50px; border-radius:50%; object-fit:cover;">` : 
                            'üë§'
                        }
                    </td>
                    <td>${user.name}</td>
                    <td>${user.email || user.identifier}</td>
                    <td>${roleBadge}</td>
                    <td>${user.adsCount || 0}</td>
                    <td>${user.joinDate}</td>
                    <td>
                        ${currentUser.role === ROLES.OWNER ? 
                            `<button class="action-btn action-promote" onclick="changeUserRole(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                                ${user.role === ROLES.ADMIN ? 'ÿ™ŸÜÿ≤ŸäŸÑ' : 'ÿ™ÿ±ŸÇŸäÿ©'}
                            </button>` : 
                            ''
                        }
                        <button class="action-btn action-ban" onclick="toggleUserStatus(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                            ${user.isActive === false ? 'ÿ™ŸÅÿπŸäŸÑ' : 'ÿ≠ÿ∏ÿ±'}
                        </button>
                        ${currentUser.role === ROLES.OWNER ? 
                            `<button class="action-btn action-delete" onclick="deleteUserAdmin(${user.id})" ${user.role === ROLES.OWNER ? 'disabled' : ''}>
                                ÿ≠ÿ∞ŸÅ
                            </button>` : 
                            ''
                        }
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // üî• ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±
        function loadAdminReports() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // üî• ŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸäŸàŸÖŸä
            const today = new Date().toLocaleDateString('ar-SY');
            const todayAds = ads.filter(ad => ad.date === today).length;
            document.getElementById('report-daily-ads').textContent = todayAds;
            
            // üî• ŸÖÿ™Ÿàÿ≥ÿ∑ ÿ≥ÿπÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜ
            if (ads.length > 0) {
                let totalPrice = 0;
                let count = 0;
                ads.forEach(ad => {
                    const priceStr = ad.price.replace(/[^0-9]/g, '');
                    const price = parseInt(priceStr) || 0;
                    if (price > 0) {
                        totalPrice += price;
                        count++;
                    }
                });
                const avgPrice = count > 0 ? Math.round(totalPrice / count).toLocaleString() : 0;
                document.getElementById('report-avg-price').textContent = avgPrice + ' ŸÑ.ÿ≥';
            }
            
            // üî• ÿ£ŸÉÿ´ÿ± ŸÅÿ¶ÿ© ŸÖÿ®ŸäÿπÿßŸã
            const categoryCount = {};
            ads.forEach(ad => {
                if (ad.category) {
                    categoryCount[ad.category] = (categoryCount[ad.category] || 0) + 1;
                }
            });
            
            let topCategory = '-';
            let maxCount = 0;
            for (const [category, count] of Object.entries(categoryCount)) {
                if (count > maxCount) {
                    maxCount = count;
                    topCategory = category;
                }
            }
            document.getElementById('report-top-category').textContent = topCategory;
            
            // üî• ÿπÿØÿØ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ÿ∞ŸàŸÅÿ© (ŸÜÿ≠ÿ≥ÿ® ŸÖŸÜ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™)
            const deletedAds = notifications.filter(n => n.title.includes('ÿ≠ÿ∞ŸÅ')).length;
            document.getElementById('report-deleted-ads').textContent = deletedAds;
        }
        
        // üî• ÿ®ÿ≠ÿ´ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸÅŸä ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        function searchAdminAds() {
            const searchTerm = document.getElementById('search-admin-ads').value.toLowerCase();
            const rows = document.querySelectorAll('#admin-ads-table tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // üî• ÿ®ÿ≠ÿ´ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ŸÅŸä ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        function searchAdminUsers() {
            const searchTerm = document.getElementById('search-admin-users').value.toLowerCase();
            const rows = document.querySelectorAll('#admin-users-table tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
        
        // ========================
        // üî• ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        // ========================
        
        // üî• ÿ≠ÿ∞ŸÅ ÿ•ÿπŸÑÿßŸÜ ŸÖŸÜ ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        function deleteAdAdmin(adId) {
            if (!confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿπŸÑÿßŸÜÿü')) return;
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const adIndex = ads.findIndex(ad => ad.id === adId);
            
            if (adIndex !== -1) {
                const deletedAd = ads[adIndex];
                ads.splice(adIndex, 1);
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
                
                // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ•ÿ¥ÿπÿßÿ± ŸÑŸÑÿ≠ÿ∞ŸÅ
                const deleteNotification = {
                    id: Date.now(),
                    title: 'üóëÔ∏è ÿ≠ÿ∞ŸÅ ÿ•ÿπŸÑÿßŸÜ',
                    message: `ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ•ÿπŸÑÿßŸÜ "${deletedAd.title}" ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ${currentUser.name}`,
                    date: new Date().toLocaleString('ar-SY'),
                    read: false
                };
                
                notifications.unshift(deleteNotification);
                localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                updateNotificationBadge();
                
                // üî• ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿßÿ¨Ÿáÿßÿ™
                loadAdminAds();
                loadAdminStats();
                loadAdsFromStorage();
                
                showNotification('ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿπŸÑÿßŸÜ ÿ®ŸÜÿ¨ÿßÿ≠', 'success');
            }
        }
        
        // üî• ÿ™ÿπÿØŸäŸÑ ÿ•ÿπŸÑÿßŸÜ ŸÖŸÜ ÿßŸÑÿ•ÿØÿßÿ±ÿ©
        function editAdAdmin(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id === adId);
            
            if (ad) {
                // üî• ŸÅÿ™ÿ≠ ÿßŸÑŸÖŸàÿØÿßŸÑ ŸÖÿπ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ•ÿπŸÑÿßŸÜ
                openPost();
                
                // üî• ÿ™ÿπÿ®ÿ¶ÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ (Ÿáÿ∞ÿß ŸÖÿ´ÿßŸÑ ÿ®ÿ≥Ÿäÿ∑)
                setTimeout(() => {
                    document.getElementById('u-title').value = ad.title;
                    document.getElementById('u-price').value = ad.price.replace(/[^0-9]/g, '');
                    document.getElementById('u-desc').value = ad.desc;
                    // ... ŸäŸÖŸÉŸÜ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ≠ŸÇŸàŸÑ
                    
                    showNotification('Ÿàÿ∂ÿπ ÿßŸÑÿ™ÿπÿØŸäŸÑ: ŸäŸÖŸÉŸÜŸÉ ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ•ÿπŸÑÿßŸÜ', 'info');
                }, 500);
            }
        }
        
        // üî• ÿ™ÿ∫ŸäŸäÿ± ÿØŸàÿ± ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
        function changeUserRole(userId) {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                
                if (user.role === ROLES.ADMIN) {
                    // ÿ™ŸÜÿ≤ŸäŸÑ ŸÖŸÜ ŸÖÿØŸäÿ± ÿ•ŸÑŸâ ŸÖÿ≥ÿ™ÿÆÿØŸÖ
                    user.role = ROLES.USER;
                    showNotification(`ÿ™ŸÖ ÿ™ŸÜÿ≤ŸäŸÑ ${user.name} ÿ•ŸÑŸâ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿπÿßÿØŸä`, 'success');
                } else if (user.role === ROLES.USER) {
                    // ÿ™ÿ±ŸÇŸäÿ© ŸÖŸÜ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ•ŸÑŸâ ŸÖÿØŸäÿ±
                    user.role = ROLES.ADMIN;
                    showNotification(`ÿ™ŸÖ ÿ™ÿ±ŸÇŸäÿ© ${user.name} ÿ•ŸÑŸâ ŸÖÿØŸäÿ±`, 'success');
                }
                
                users[userIndex] = user;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                // üî• ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä ŸáŸà ŸÖŸÜ ÿ™ŸÖ ÿ™ÿπÿØŸäŸÑŸá
                if (currentUser && currentUser.id === userId) {
                    currentUser = user;
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    updateUserHeader();
                    updateMobileSidebar();
                }
                
                loadAdminUsers();
            }
        }
        
        // üî• ÿ≠ÿ∏ÿ±/ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
        function toggleUserStatus(userId) {
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                user.isActive = user.isActive === false ? true : false;
                
                users[userIndex] = user;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                const action = user.isActive ? 'ÿ™ŸÅÿπŸäŸÑ' : 'ÿ≠ÿ∏ÿ±';
                showNotification(`ÿ™ŸÖ ${action} ÿ≠ÿ≥ÿßÿ® ${user.name}`, user.isActive ? 'success' : 'warning');
                
                loadAdminUsers();
            }
        }
        
        // üî• ÿ≠ÿ∞ŸÅ ŸÖÿ≥ÿ™ÿÆÿØŸÖ
        function deleteUserAdmin(userId) {
            if (!confirm('‚ö†Ô∏è ÿ™ÿ≠ÿ∞Ÿäÿ±: ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ≥Ÿäÿ≤ŸäŸÑ ÿ¨ŸÖŸäÿπ ÿ•ÿπŸÑÿßŸÜÿßÿ™Ÿá ÿ£Ÿäÿ∂ÿßŸã. ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØÿü')) return;
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                
                // üî• ÿ≠ÿ∞ŸÅ ÿ•ÿπŸÑÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
                let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
                ads = ads.filter(ad => ad.sellerId !== userId);
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
                
                // üî• ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
                users.splice(userIndex, 1);
                localStorage.setItem('mostaml_users', JSON.stringify(users));
                
                showNotification(`ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ${user.name} Ÿàÿ¨ŸÖŸäÿπ ÿ•ÿπŸÑÿßŸÜÿßÿ™Ÿá`, 'success');
                
                loadAdminUsers();
                loadAdminAds();
                loadAdminStats();
                loadAdsFromStorage();
            }
        }
        
        // ========================
        // üî• ŸÜÿ∏ÿßŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿØŸäÿ±ŸäŸÜ (ŸÑŸÑŸÖÿßŸÑŸÉ ŸÅŸÇÿ∑)
        // ========================
        
        function openAddManagerModal() {
            if (currentUser.role !== ROLES.OWNER) {
                showNotification('Ÿáÿ∞Ÿá ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ© ŸÑŸÑŸÖÿßŸÑŸÉ ŸÅŸÇÿ∑', 'error');
                return;
            }
            
            document.getElementById('add-manager-modal').style.display = 'flex';
        }
        
        function closeAddManagerModal() {
            document.getElementById('add-manager-modal').style.display = 'none';
        }
        
        function addNewManager() {
            const name = document.getElementById('new-manager-name').value.trim();
            const email = document.getElementById('new-manager-email').value.trim();
            const password = document.getElementById('new-manager-password').value.trim();
            const city = document.getElementById('new-manager-city').value;
            
            if (!name || !email || !password || !city) {
                showNotification('ÿ£ÿØÿÆŸÑ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®ÿ©', 'warning');
                return;
            }
            
            if (!email.includes('@')) {
                showNotification('ÿ£ÿØÿÆŸÑ ÿ®ÿ±ŸäÿØ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿµÿ≠Ÿäÿ≠', 'warning');
                return;
            }
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑÿ®ÿ±ŸäÿØ ŸÖÿ≥ÿ¨ŸÑ ŸÖÿ≥ÿ®ŸÇÿßŸã
            if (users.find(u => u.email === email || u.identifier === email)) {
                showNotification('ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ŸÖÿ≥ÿ¨ŸÑ ŸÖÿ≥ÿ®ŸÇÿßŸã', 'warning');
                return;
            }
            
            // ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿØŸäÿ± ÿßŸÑÿ¨ÿØŸäÿØ
            const newManager = {
                id: Date.now(),
                name: name,
                identifier: email,
                email: email,
                password: password,
                city: city,
                role: ROLES.ADMIN,
                profilePic: null,
                joinDate: new Date().toLocaleDateString('ar-SY'),
                adsCount: 0,
                rating: 5.0,
                agreedToTerms: true,
                isActive: true
            };
            
            users.push(newManager);
            localStorage.setItem('mostaml_users', JSON.stringify(users));
            
            closeAddManagerModal();
            loadAdminUsers();
            
            // üî• ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ≠ŸÇŸàŸÑ
            document.getElementById('new-manager-name').value = '';
            document.getElementById('new-manager-email').value = '';
            document.getElementById('new-manager-password').value = '';
            document.getElementById('new-manager-city').value = '';
            
            showNotification(`ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿØŸäÿ± ${name} ÿ®ŸÜÿ¨ÿßÿ≠`, 'success');
        }
        
        // ========================
        // üî• ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑŸÖÿ™ŸÇÿØŸÖÿ©
        // ========================
        
        function resetAllData() {
            if (!confirm('‚ö†Ô∏è ÿ™ÿ≠ÿ∞Ÿäÿ± ÿÆÿ∑Ÿäÿ±: Ÿáÿ∞ÿß ÿ≥ŸäŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ! ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØÿü')) return;
            
            if (!confirm('‚ö†Ô∏è ÿ™ÿ£ŸÉŸäÿØ ŸÜŸáÿßÿ¶Ÿä: ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ ŸàÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅŸáŸÖ!')) return;
            
            // üî• ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            localStorage.removeItem('mostaml_ads');
            localStorage.removeItem('mostaml_users');
            localStorage.removeItem('mostaml_notifications');
            localStorage.removeItem('mostaml_chats');
            
            // üî• ÿ•ÿπÿßÿØÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿßŸÑŸÉ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä
            checkAndCreateOwner();
            
            // üî• ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä
            if (currentUser && currentUser.email === OWNER_EMAIL) {
                const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
                currentUser = users.find(u => u.email === OWNER_EMAIL);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            } else {
                currentUser = null;
                localStorage.removeItem('currentUser');
            }
            
            updateUserHeader();
            updateMobileSidebar();
            loadAdsFromStorage();
            loadAdminStats();
            loadAdminAds();
            loadAdminUsers();
            
            showNotification('‚úÖ ÿ™ŸÖ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ Ÿàÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜÿ∏ÿßŸÖ', 'success');
        }
        
        function exportAllData() {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            
            const data = {
                exportDate: new Date().toLocaleString('ar-SY'),
                totalAds: ads.length,
                totalUsers: users.length,
                ads: ads,
                users: users.filter(u => u.role !== ROLES.OWNER) // üî• ŸÑÿß ŸÜÿµÿØÿ± ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿßŸÑŸÉ
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `mostaml_backup_${Date.now()}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('‚úÖ ÿ™ŸÖ ÿ™ÿµÿØŸäÿ± ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™', 'success');
        }
        
        function createBackup() {
            // üî• ŸáŸÜÿß ŸäŸÖŸÉŸÜ ÿ•ÿ∂ÿßŸÅÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä
            showNotification('‚úÖ ÿ≥Ÿäÿ™ŸÖ ÿ™ÿ∑ŸàŸäÿ± ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä ŸÅŸä ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÇÿßÿØŸÖ', 'info');
        }
        
        function saveSiteSettings() {
            // üî• ŸáŸÜÿß ŸäŸÖŸÉŸÜ ÿ•ÿ∂ÿßŸÅÿ© ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖŸàŸÇÿπ
            showNotification('‚úÖ ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖŸàŸÇÿπ', 'success');
        }
        
        // ========================
        // üî• ÿ®ÿßŸÇŸä ÿßŸÑÿØŸàÿßŸÑ ÿßŸÑÿ£ÿµŸÑŸäÿ©
        // ========================
        
        function showNotification(message, type = 'default') {
            const notification = document.getElementById('notification');
            
            notification.classList.remove('warning', 'success', 'info', 'error');
            
            if (type === 'warning') {
                notification.classList.add('warning');
            } else if (type === 'success') {
                notification.classList.add('success');
            } else if (type === 'info') {
                notification.classList.add('info');
            } else if (type === 'error') {
                notification.classList.add('error');
            } else {
                notification.style.background = 'linear-gradient(135deg, var(--primary), #ff7700)';
                notification.style.boxShadow = '0 5px 20px rgba(255, 153, 0, 0.3)';
            }
            
            notification.textContent = message;
            notification.style.display = 'block';
            notification.style.animation = 'slideIn 0.4s ease';
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.4s ease';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 400);
            }, 3000);
        }
        
        function updateNotificationBadge() {
            const badge = document.getElementById('notificationBadge');
            const unread = notifications.filter(n => !n.read).length;
            
            if (unread > 0) {
                badge.style.display = 'flex';
                badge.textContent = unread > 9 ? '9+' : unread;
                badge.style.background = 'var(--primary)';
                badge.style.boxShadow = '0 2px 5px rgba(255, 153, 0, 0.3)';
            } else {
                badge.style.display = 'none';
            }
            
            // ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑÿ¨ŸàÿßŸÑ ÿ£Ÿäÿ∂ÿßŸã
            const mobileHeaderBadge = document.getElementById('mobileHeaderNotificationBadge');
            const mobileSidebarBadge = document.getElementById('mobileNotificationBadge');
            
            if (unread > 0) {
                mobileHeaderBadge.style.display = 'flex';
                mobileHeaderBadge.textContent = unread > 9 ? '9+' : unread;
                
                mobileSidebarBadge.style.display = 'flex';
                mobileSidebarBadge.textContent = unread > 9 ? '9+' : unread;
            } else {
                mobileHeaderBadge.style.display = 'none';
                mobileSidebarBadge.style.display = 'none';
            }
        }
        
        function checkAuthBeforePost() {
            if (!currentUser) {
                showNotification('Ÿäÿ¨ÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã ŸÑÿ±ŸÅÿπ ÿ•ÿπŸÑÿßŸÜ', 'warning');
                openAccountModal('login');
            } else {
                openPost();
            }
        }
        
        function initCategories() {
            const menu = document.getElementById('categoriesMenu');
            const select = document.getElementById('u-category');
            
            if (select && select.options.length <= 1) {
                select.innerHTML = '<option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©</option>';
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    select.appendChild(option);
                });
            }
            
            if (menu && menu.children.length <= 1) {
                categories.forEach(cat => {
                    const tag = document.createElement('div');
                    tag.className = 'category-tag';
                    tag.textContent = cat;
                    tag.onclick = () => {
                        document.querySelectorAll('.category-tag').forEach(t => t.classList.remove('active'));
                        tag.classList.add('active');
                        filterAdsByCategory(cat);
                    };
                    menu.appendChild(tag);
                });
            }
        }
        
        function addMainImage(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                alert('ÿßÿÆÿ™ÿ± ÿµŸàÿ±ÿ© ŸÅŸÇÿ∑');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                mainImage = {
                    url: e.target.result,
                    file: file,
                    type: 'image'
                };
                
                const container = document.getElementById('main-image-container');
                container.innerHTML = `
                    <div class="gallery-item">
                        <img src="${e.target.result}" alt="ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©">
                        <button class="remove-media" onclick="removeMainImage()">√ó</button>
                    </div>
                `;
                
                document.getElementById('addExtraImagesBtn').style.display = 'inline-flex';
                showNotification('ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ‚úÖ', 'success');
            };
            reader.readAsDataURL(file);
        }
        
        function removeMainImage() {
            mainImage = null;
            document.getElementById('main-image-container').innerHTML = '';
            document.getElementById('mainImageInput').value = '';
            document.getElementById('addExtraImagesBtn').style.display = 'none';
        }
        
        function addExtraImage(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                if (!file.type.startsWith('image/')) {
                    alert('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿµŸàÿ±ÿßŸã');
                    return;
                }
                
                if (extraImages.length >= 5) {
                    alert('5 ÿµŸàÿ± ŸÉÿ≠ÿØ ÿ£ŸÇÿµŸâ');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    extraImages.push({
                        url: e.target.result,
                        file: file,
                        type: 'image'
                    });
                    
                    updateExtraImagesDisplay();
                };
                reader.readAsDataURL(file);
            });
            
            event.target.value = '';
        }
        
        function updateExtraImagesDisplay() {
            const container = document.getElementById('extra-images-container');
            container.innerHTML = '';
            
            extraImages.forEach((img, index) => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `
                    <img src="${img.url}" alt="ÿµŸàÿ±ÿ© ${index + 1}">
                    <button class="remove-media" onclick="removeExtraImage(${index})">√ó</button>
                `;
                container.appendChild(item);
            });
            
            document.getElementById('images-counter').textContent = `${extraImages.length}/5 ÿµŸàÿ±`;
            
            if (extraImages.length < 5) {
                document.getElementById('addExtraImagesBtn').style.display = 'inline-flex';
            } else {
                document.getElementById('addExtraImagesBtn').style.display = 'none';
            }
        }
        
        function removeExtraImage(index) {
            extraImages.splice(index, 1);
            updateExtraImagesDisplay();
        }
        
        function addVideo(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                if (!file.type.startsWith('video/')) {
                    alert('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸÅŸäÿØŸäŸàŸáÿßÿ™');
                    return;
                }
                
                if (videos.length >= 3) {
                    alert('3 ŸÅŸäÿØŸäŸàŸáÿßÿ™ ŸÉÿ≠ÿØ ÿ£ŸÇÿµŸâ');
                    return;
                }
                
                const url = URL.createObjectURL(file);
                videos.push({
                    url: url,
                    file: file,
                    type: 'video'
                });
                
                updateVideosDisplay();
            });
            
            event.target.value = '';
        }
        
        function updateVideosDisplay() {
            const container = document.getElementById('videos-container');
            container.innerHTML = '';
            
            videos.forEach((video, index) => {
                const item = document.createElement('div');
                item.className = 'gallery-item video';
                item.innerHTML = `
                    <video style="width:100%; height:100%; object-fit:cover;">
                        <source src="${video.url}" type="${video.file.type}">
                    </video>
                    <button class="remove-media" onclick="removeVideo(${index})">√ó</button>
                `;
                container.appendChild(item);
            });
            
            document.getElementById('videos-counter').textContent = `${videos.length}/3 ŸÅŸäÿØŸäŸàŸáÿßÿ™`;
        }
        
        function removeVideo(index) {
            URL.revokeObjectURL(videos[index].url);
            videos.splice(index, 1);
            updateVideosDisplay();
        }
        
        function validateAndPublish() {
            if (!currentUser) {
                alert('Ÿäÿ¨ÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã');
                openAccountModal('login');
                return;
            }
            
            if (!mainImage) {
                alert('ÿßŸÑÿµŸàÿ±ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ŸÖÿ∑ŸÑŸàÿ®ÿ©');
                return;
            }
            
            const title = document.getElementById('u-title').value.trim();
            const condition = document.getElementById('u-condition').value;
            const governorate = document.getElementById('u-governorate').value;
            const category = document.getElementById('u-category').value;
            const price = document.getElementById('u-price').value.trim();
            const desc = document.getElementById('u-desc').value.trim();
            
            const agreeAdTerms = document.getElementById('agree-ad-terms').checked;
            if (!agreeAdTerms) {
                alert('Ÿäÿ¨ÿ® ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿπŸÑŸâ ÿ¥ÿ±Ÿàÿ∑ ÿ±ŸÅÿπ ÿßŸÑÿ•ÿπŸÑÿßŸÜ');
                return;
            }
            
            if (!title) { alert('ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨'); return; }
            if (!condition) { alert('ÿßÿÆÿ™ÿ± ÿßŸÑÿ≠ÿßŸÑÿ©'); return; }
            if (!governorate) { alert('ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©'); return; }
            if (!category) { alert('ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©'); return; }
            if (!price || isNaN(price)) { alert('ÿ£ÿØÿÆŸÑ ÿ≥ÿπÿ± ÿµÿ≠Ÿäÿ≠'); return; }
            if (!desc) { alert('ÿ£ÿØÿÆŸÑ ÿßŸÑŸàÿµŸÅ'); return; }
            
            const allMedia = [mainImage, ...extraImages, ...videos];
            
            const ad = {
                id: Date.now(),
                title: title,
                price: parseInt(price).toLocaleString() + ' ŸÑ.ÿ≥',
                desc: desc,
                category: category,
                condition: condition,
                governorate: governorate,
                media: allMedia,
                date: new Date().toLocaleDateString('ar-SY'),
                time: new Date().toLocaleTimeString('ar-SY'),
                seller: currentUser.name,
                sellerId: currentUser.id,
                sellerCity: currentUser.city,
                sellerPhone: currentUser.phone,
                sold: false, // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÑÿßŸÖÿ© ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ
                rating: 0, // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ™ŸÇŸäŸäŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨
                ratingCount: 0
            };
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            ads.unshift(ad);
            localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            
            currentUser.adsCount = (currentUser.adsCount || 0) + 1;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('mostaml_users', JSON.stringify(users));
            }
            
            displayAd(ad);
            closePost();
            resetUploadForm();
            showNotification('üéâ ÿ™ŸÖ ŸÜÿ¥ÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
        }
        
        function resetUploadForm() {
            mainImage = null;
            extraImages = [];
            videos = [];
            
            document.getElementById('main-image-container').innerHTML = '';
            document.getElementById('extra-images-container').innerHTML = '';
            document.getElementById('videos-container').innerHTML = '';
            document.getElementById('u-title').value = '';
            document.getElementById('u-condition').value = '';
            document.getElementById('u-governorate').value = '';
            document.getElementById('u-category').value = '';
            document.getElementById('u-price').value = '';
            document.getElementById('u-desc').value = '';
            document.getElementById('addExtraImagesBtn').style.display = 'none';
            document.getElementById('agree-ad-terms').checked = false;
        }
        
        function loadAdsFromStorage() {
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            
            if (ads.length === 0) {
                ads = [
                    {
                        id: 1,
                        title: "ÿ¢ŸäŸÅŸàŸÜ 13 ÿ®ÿ±Ÿà ÿ¨ÿØŸäÿØ",
                        price: "2,500,000 ŸÑ.ÿ≥",
                        desc: "ÿ¢ŸäŸÅŸàŸÜ 13 ÿ®ÿ±Ÿà ÿ¨ÿØŸäÿØ ÿ®ÿßŸÑŸÉÿ±ÿ™ŸàŸÜÿå ÿ≥ÿπÿ© 256GB",
                        category: "ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™",
                        condition: "ÿ¨ÿØŸäÿØ",
                        governorate: "ÿØŸÖÿ¥ŸÇ",
                        media: [{url: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=300&fit=crop", type: "image"}],
                        date: "ÿßŸÑŸäŸàŸÖ",
                        time: "10:30",
                        seller: "ÿ£ÿ≠ŸÖÿØ",
                        sold: false,
                        rating: 4.5,
                        ratingCount: 12
                    },
                    {
                        id: 2,
                        title: "ÿ¨ŸàÿßŸÑ ÿ≥ÿßŸÖÿ≥ŸàŸÜÿ¨ ŸÜŸàÿ™ 20",
                        price: "1,800,000 ŸÑ.ÿ≥",
                        desc: "ÿ¨ŸàÿßŸÑ ÿ≥ÿßŸÖÿ≥ŸàŸÜÿ¨ ŸÜŸàÿ™ 20 ÿ®ÿ≠ÿßŸÑÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ©",
                        category: "ŸÖŸàÿ®ÿßŸäŸÑÿßÿ™",
                        condition: "ÿ¥ÿ®Ÿá ÿ¨ÿØŸäÿØ",
                        governorate: "ÿ≠ŸÑÿ®",
                        media: [{url: "https://images.unsplash.com/photo-1512499617640-c74ae3a79d37?w=400&h=300&fit=crop", type: "image"}],
                        date: "ÿßŸÑŸäŸàŸÖ",
                        time: "11:45",
                        seller: "ŸÖÿ≠ŸÖÿØ",
                        sold: true,
                        rating: 4.8,
                        ratingCount: 8
                    },
                    {
                        id: 3,
                        title: "ŸÑÿßÿ®ÿ™Ÿàÿ® ÿØŸäŸÑ ŸÉŸàÿ± i7",
                        price: "3,200,000 ŸÑ.ÿ≥",
                        desc: "ŸÑÿßÿ®ÿ™Ÿàÿ® ÿØŸäŸÑ ŸÖÿπ ŸÖÿπÿßŸÑÿ¨ ŸÉŸàÿ± i7 ÿßŸÑÿ¨ŸäŸÑ ÿßŸÑÿπÿßÿ¥ÿ±",
                        category: "ŸÉŸÖÿ®ŸäŸàÿ™ÿ±ÿßÿ™",
                        condition: "ÿ¨ŸäÿØ",
                        governorate: "ÿ≠ŸÖÿµ",
                        media: [{url: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=300&fit=crop", type: "image"}],
                        date: "ÿ£ŸÖÿ≥",
                        time: "14:20",
                        seller: "ÿÆÿßŸÑÿØ",
                        sold: false,
                        rating: 4.2,
                        ratingCount: 5
                    }
                ];
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            }
            
            const grid = document.getElementById('main-ads-box');
            if (grid) {
                grid.innerHTML = '';
                ads.forEach(ad => displayAd(ad));
            }
        }
        
        function displayAd(ad) {
            const grid = document.getElementById('main-ads-box');
            const card = document.createElement('div');
            card.className = 'ad-card';
            card.dataset.category = ad.category;
            card.dataset.id = ad.id;
            
            const mainMedia = ad.media[0];
            
            // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÑÿßŸÖÿ© ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑÿ•ÿπŸÑÿßŸÜ ŸÖÿ®ÿßÿπ
            let soldBadge = '';
            let soldOverlay = '';
            if (ad.sold) {
                soldBadge = '<div class="sold-badge">‚úÖ ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ</div>';
                soldOverlay = '<div class="sold-overlay"></div>';
            }
            
            card.innerHTML = `
                <div class="card-img-box">
                    <img src="${mainMedia.url}" alt="${ad.title}">
                    <div class="condition-badge">${ad.condition}</div>
                    ${soldOverlay}
                    ${soldBadge}
                </div>
                <h3 class="ad-title">${ad.title}</h3>
                <div class="ad-price">${ad.price}</div>
                <div style="font-size:12px; color:#666; margin:5px 0;">
                    <span>${ad.category}</span> | 
                    <span>üìç ${ad.governorate}</span>
                </div>
                <div style="font-size:11px; color:#888;">
                    üë§ ${ad.seller || 'ÿ®ÿßÿ¶ÿπ'}
                </div>
                <button class="btn-request" onclick="event.stopPropagation(); requestProduct(${ad.id})" ${ad.sold ? 'disabled style="background:#ccc;"' : ''}>
                    ${ad.sold ? '‚úÖ ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ' : 'üõí ÿ∑ŸÑÿ® ÿßŸÑŸÖŸÜÿ™ÿ¨'}
                </button>
            `;
            
            card.onclick = () => openProduct(ad);
            grid.appendChild(card);
        }
        
        function openProduct(ad) {
            currentAd = ad;
            
            const container = document.querySelector('#product-layer #product-content');
            
            // üî• ÿ•ÿ∂ÿßŸÅÿ© ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ•ÿØÿßÿ±ÿ© ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿØŸäÿ± ÿ£Ÿà ŸÖÿßŸÑŸÉ
            let adminButtons = '';
            if (currentUser && (currentUser.role === ROLES.ADMIN || currentUser.role === ROLES.OWNER)) {
                adminButtons = `
                    <div style="background:#ffebee; padding:15px; border-radius:10px; margin:15px 0; border:2px solid #ffcdd2;">
                        <div style="display:flex; gap:10px;">
                            <button class="btn" onclick="deleteAdAdmin(${ad.id})" style="background:var(--danger); flex:1;">
                                üóëÔ∏è ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿπŸÑÿßŸÜ
                            </button>
                            <button class="btn" onclick="editAdAdmin(${ad.id})" style="background:var(--primary); flex:1;">
                                ‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ•ÿπŸÑÿßŸÜ
                            </button>
                            <button class="btn" onclick="markAsSold(${ad.id})" style="background:var(--success); flex:1;">
                                ${ad.sold ? '‚ùå ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ®Ÿäÿπ' : '‚úÖ ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ'}
                            </button>
                        </div>
                        <div style="font-size:12px; color:#666; margin-top:8px;">
                            ‚ö†Ô∏è Ÿáÿ∞Ÿá ÿ£ÿ≤ÿ±ÿßÿ± ÿ•ÿØÿßÿ±ÿ© ÿÆÿßÿµÿ© ÿ®ÿßŸÑŸÖÿØÿ±ÿßÿ° ŸàÿßŸÑŸÖÿßŸÑŸÉ
                        </div>
                    </div>
                `;
            }
            
            let thumbnailsHTML = '';
            if (ad.media && ad.media.length > 0) {
                thumbnailsHTML = `
                    <div class="thumbnails-gallery">
                        ${ad.media.map((media, index) => `
                            <div class="thumbnail-item ${index === 0 ? 'active' : ''}" onclick="changeMainProductImage(${index})">
                                ${media.type === 'video' ? 
                                    `<video><source src="${media.url}"></video>` : 
                                    `<img src="${media.url}" alt="ÿµŸàÿ±ÿ© ${index + 1}">`
                                }
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            const mainMedia = ad.media && ad.media.length > 0 ? ad.media[0] : null;
            let mainImageHTML = '';
            if (mainMedia) {
                mainImageHTML = `
                    <div class="main-image-container">
                        ${mainMedia.type === 'video' ? 
                            `<video controls><source src="${mainMedia.url}"></video>` : 
                            `<img src="${mainMedia.url}" alt="${ad.title}">`
                        }
                    </div>
                `;
            } else {
                mainImageHTML = `
                    <div class="main-image-container">
                        <div style="text-align:center; color:#666;">
                            <div style="font-size:40px;">üì∑</div>
                            <div>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿµŸàÿ±</div>
                        </div>
                    </div>
                `;
            }
            
            // üî• ÿ™ŸÇŸäŸäŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨
            let ratingHTML = '';
            if (ad.rating > 0) {
                const stars = Math.round(ad.rating);
                ratingHTML = `
                    <div class="rating-system">
                        <div class="rating-stars">
                            ${Array(5).fill(0).map((_, i) => 
                                `<span class="rating-star ${i < stars ? 'active' : ''}">‚òÖ</span>`
                            ).join('')}
                        </div>
                        <div class="rating-value">${ad.rating.toFixed(1)} (${ad.ratingCount || 0} ÿ™ŸÇŸäŸäŸÖ)</div>
                    </div>
                `;
            }
            
            let sellerInfoHTML = '';
            if (ad.sellerId && currentUser && currentUser.id === ad.sellerId) {
                sellerInfoHTML = `
                    <div class="seller-info-card">
                        <div class="seller-header">
                            <div class="seller-avatar">üëë</div>
                            <div class="seller-details">
                                <div class="seller-name">üëë Ÿáÿ∞ÿß ÿ•ÿπŸÑÿßŸÜŸÉ</div>
                                <div class="seller-city">ŸäŸÖŸÉŸÜŸÉ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿπŸÑÿßŸÜ ÿ£Ÿà ÿ™ÿπÿØŸäŸÑŸá</div>
                            </div>
                        </div>
                        <div style="display:flex; gap:10px; margin-top:10px;">
                            <button class="btn" onclick="markAsSold(${ad.id})" style="background:${ad.sold ? 'var(--danger)' : 'var(--success)'}; flex:1;">
                                ${ad.sold ? '‚ùå ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ®Ÿäÿπ' : '‚úÖ ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ'}
                            </button>
                            <button class="btn" onclick="deleteAd(${ad.id})" style="background:var(--danger); flex:1;">ÿ≠ÿ∞ŸÅ</button>
                        </div>
                    </div>
                `;
            } else if (ad.seller) {
                sellerInfoHTML = `
                    <div class="seller-info-card">
                        <div class="seller-header">
                            <div class="seller-avatar">üë§</div>
                            <div class="seller-details">
                                <div class="seller-name">${ad.seller}</div>
                                <div class="seller-city">üìç ${ad.sellerCity || ad.governorate}</div>
                            </div>
                        </div>
                        <div style="font-size:14px; color:#666; margin-top:10px;">
                            ‚úÖ ÿπÿ∂Ÿà ŸÖŸàÿ´ŸàŸÇ ŸÅŸä ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß
                        </div>
                    </div>
                `;
            }
            
            let recommendationsHTML = '';
            if (ad.category) {
                const allAds = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
                const sameCategoryAds = allAds.filter(item => 
                    item.category === ad.category && 
                    item.id !== ad.id
                ).slice(0, 4);
                
                if (sameCategoryAds.length > 0) {
                    recommendationsHTML = `
                        <div class="recommendations-section">
                            <h2 class="section-title-large">üî• ŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖÿ¥ÿßÿ®Ÿáÿ© ŸÅŸä "${ad.category}"</h2>
                            <div class="recommendations-grid">
                                ${sameCategoryAds.map(recAd => {
                                    const recMedia = recAd.media && recAd.media.length > 0 ? recAd.media[0] : null;
                                    return `
                                        <div class="recommendation-card" onclick="openRecommendedProduct(${recAd.id})">
                                            <div class="recommendation-img">
                                                ${recMedia ? 
                                                    `<img src="${recMedia.url}" alt="${recAd.title}">` : 
                                                    `<div style="display:flex; align-items:center; justify-content:center; height:100%; font-size:30px;">üì∑</div>`
                                                }
                                            </div>
                                            <h3 class="recommendation-title">${recAd.title}</h3>
                                            <div class="recommendation-price">${recAd.price}</div>
                                            <div style="font-size:12px; color:#666;">${recAd.condition}</div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    `;
                }
            }
            
            container.innerHTML = `
                ${adminButtons}
                <div class="product-main-section">
                    <div class="product-images-section">
                        ${mainImageHTML}
                        ${thumbnailsHTML}
                        
                        <div class="ad-premium ad-small ad-premium-blue" style="margin-top:20px;">
                            <p style="margin:0; font-size:13px;">üí¨ ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿØÿ±ÿØÿ¥ÿ© ŸÑŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ¢ŸÖŸÜ ŸÖÿπ ÿßŸÑÿ®ÿßÿ¶ÿπ</p>
                        </div>
                    </div>
                    
                    <div class="product-info-section">
                        <h1 class="product-title">${ad.title}</h1>
                        
                        ${ratingHTML}
                        
                        <div class="product-price">${ad.price}</div>
                        
                        ${ad.sold ? '<div style="background:#e8f5e9; color:#2e7d32; padding:10px; border-radius:8px; margin:10px 0; text-align:center; font-weight:bold;">‚úÖ ÿ™ŸÖ ÿ®Ÿäÿπ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÜÿ™ÿ¨</div>' : ''}
                        
                        <div class="product-specs">
                            <div class="spec-item">
                                <span class="spec-label">ÿßŸÑÿ≠ÿßŸÑÿ©:</span>
                                <span class="spec-value">${ad.condition}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ÿßŸÑŸÅÿ¶ÿ©:</span>
                                <span class="spec-value">${ad.category}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©:</span>
                                <span class="spec-value">üìç ${ad.governorate}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸÜÿ¥ÿ±:</span>
                                <span class="spec-value">${ad.date} - ${ad.time}</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ÿπÿØÿØ ÿßŸÑÿµŸàÿ±:</span>
                                <span class="spec-value">${ad.media ? ad.media.length : 0}</span>
                            </div>
                        </div>
                        
                        <div class="product-description">
                            <h3 style="margin-top:0; color:var(--dark);">üìù ŸàÿµŸÅ ÿßŸÑŸÖŸÜÿ™ÿ¨</h3>
                            <div style="white-space:pre-line; line-height:1.6;">${ad.desc}</div>
                        </div>
                        
                        ${sellerInfoHTML}
                        
                        <div class="ad-premium ad-small ad-premium-green" style="margin:20px 0;">
                            <p style="margin:0; font-size:13px;">üõ°Ô∏è ÿ¥ÿ±ÿßÿ° ÿ¢ŸÖŸÜ ŸÖÿπ ÿ∂ŸÖÿßŸÜ ŸÖÿ≥ÿ™ÿπŸÖŸÑ ÿ≥Ÿàÿ±Ÿäÿß</p>
                        </div>
                        
                        <div class="product-actions">
                            <button class="btn-request" onclick="sendPurchaseRequest()" style="flex:2; padding:15px; font-size:16px;" ${ad.sold ? 'disabled style="background:#ccc;"' : ''}>
                                ${ad.sold ? '‚úÖ ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ' : 'üõí ÿ∑ŸÑÿ® ÿ¥ÿ±ÿßÿ° ÿßŸÑŸÖŸÜÿ™ÿ¨'}
                            </button>
                            <button class="btn" onclick="openEnhancedChat()" style="flex:1; padding:15px;" ${ad.sold ? 'disabled style="background:#ccc;"' : ''}>
                                üí¨ ŸÖÿ±ÿßÿ≥ŸÑÿ© ÿßŸÑÿ®ÿßÿ¶ÿπ
                            </button>
                        </div>
                    </div>
                </div>
                
                ${recommendationsHTML}
            `;
            
            document.getElementById('product-layer').style.display = 'block';
        }
        
        // üî• ÿπŸÑÿßŸÖÿ© "ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ"
        function markAsSold(adId) {
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const adIndex = ads.findIndex(ad => ad.id === adId);
            
            if (adIndex !== -1) {
                ads[adIndex].sold = !ads[adIndex].sold;
                localStorage.setItem('mostaml_ads', JSON.stringify(ads));
                
                const action = ads[adIndex].sold ? 'ÿ™ŸÖ Ÿàÿ∂ÿπ ÿπŸÑÿßŸÖÿ© "ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ"' : 'ÿ™ŸÖ ÿ•ŸÑÿ∫ÿßÿ° ÿπŸÑÿßŸÖÿ© "ÿ™ŸÖ ÿßŸÑÿ®Ÿäÿπ"';
                showNotification(`${action} ÿπŸÑŸâ ÿßŸÑÿ•ÿπŸÑÿßŸÜ`, 'success');
                
                loadAdsFromStorage();
                if (currentAd && currentAd.id === adId) {
                    currentAd = ads[adIndex];
                    openProduct(currentAd);
                }
            }
        }
        
        function changeMainProductImage(index) {
            const ad = currentAd;
            const mainImageContainer = document.querySelector('.main-image-container');
            const thumbnails = document.querySelectorAll('.thumbnail-item');
            
            const media = ad.media[index];
            if (media.type === 'video') {
                mainImageContainer.innerHTML = `
                    <video controls style="width:100%; height:100%; object-fit:contain;">
                        <source src="${media.url}">
                    </video>
                `;
            } else {
                mainImageContainer.innerHTML = `
                    <img src="${media.url}" alt="${ad.title}" style="max-width:100%; max-height:100%; object-fit:contain;">
                `;
            }
            
            thumbnails.forEach((thumb, thumbIndex) => {
                thumb.classList.remove('active');
                if (thumbIndex === index) {
                    thumb.classList.add('active');
                }
            });
        }
        
        function openRecommendedProduct(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id == adId);
            
            if (ad) {
                openProduct(ad);
            }
        }
        
        function closeProduct() {
            document.getElementById('product-layer').style.display = 'none';
        }
        
        function requestProduct(adId) {
            const ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            const ad = ads.find(a => a.id == adId);
            
            if (ad) {
                currentAd = ad;
                sendPurchaseRequest();
            }
        }
        
        function sendPurchaseRequest() {
            if (!currentAd) return;
            
            const notification = {
                id: Date.now(),
                title: 'ÿ∑ŸÑÿ® ÿ¥ÿ±ÿßÿ° ÿ¨ÿØŸäÿØ üõí',
                message: `ÿ™ŸÖ ÿ∑ŸÑÿ® ÿ¥ÿ±ÿßÿ° "${currentAd.title}"`,
                date: new Date().toLocaleString('ar-SY'),
                read: false
            };
            
            notifications.unshift(notification);
            localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            
            showNotification('‚úÖ ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿßŸÑÿ¥ÿ±ÿßÿ°! ÿ≥Ÿäÿ™ŸÖ ÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ÿπÿ®ÿ± ÿßŸÑÿØÿ±ÿØÿ¥ÿ©.', 'success');
            setTimeout(openEnhancedChat, 1000);
        }
        
        // üî• üî• üî• ÿßŸÑÿØÿ±ÿØÿ¥ÿ© ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ© ŸÖÿπ ÿ•ÿ±ÿ≥ÿßŸÑ ÿµŸàÿ™ ŸàÿµŸàÿ±ÿ© ŸàŸÅŸäÿØŸäŸà üî• üî• üî•
        function openEnhancedChat() {
            if (!currentAd) {
                alert('ÿßÿÆÿ™ÿ± ŸÖŸÜÿ™ÿ¨ ÿ£ŸàŸÑÿßŸã');
                return;
            }
            
            const chatLayer = document.getElementById('chat-layer');
            chatLayer.innerHTML = `
                <div class="chat-header">
                    <div class="chat-header-left">
                        <span class="chat-back-btn" onclick="closeChat()">‚Üê</span>
                        <div class="chat-title">üí¨ ŸÖÿ±ÿßÿ≥ŸÑÿ© ÿßŸÑÿ®ÿßÿ¶ÿπ: ${currentAd.seller}</div>
                    </div>
                    <div style="color:var(--primary); font-size:12px; background:rgba(255,255,255,0.2); padding:4px 8px; border-radius:10px;">
                        ŸÖŸÜÿ™ÿ¨: ${currentAd.title.substring(0, 15)}${currentAd.title.length > 15 ? '...' : ''}
                    </div>
                </div>
                
                <div class="chat-messages" id="chat-msgs">
                    <div class="msg received">
                        <div>ŸÖÿ±ÿ≠ÿ®ÿßŸã! üëã ÿ£ŸÜÿß ŸÖŸáÿ™ŸÖ ÿ®ŸÖŸÜÿ™ÿ¨ŸÉ "${currentAd.title}"</div>
                        <div class="msg-time">${new Date().toLocaleTimeString('ar-SY')}</div>
                    </div>
                </div>
                
                <!-- üî• ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑŸàÿ≥ÿßÿ¶ÿ∑ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ© -->
                <div class="chat-media-buttons">
                    <button class="media-btn photo" onclick="sendPhoto()" title="ÿ•ÿ±ÿ≥ÿßŸÑ ÿµŸàÿ±ÿ©">
                        üì∑
                    </button>
                    <button class="media-btn video" onclick="sendVideo()" title="ÿ•ÿ±ÿ≥ÿßŸÑ ŸÅŸäÿØŸäŸà">
                        üé¨
                    </button>
                    <button class="media-btn audio" onclick="startRecording()" title="ÿ™ÿ≥ÿ¨ŸäŸÑ ÿµŸàÿ™">
                        üé§
                    </button>
                </div>
                
                <!-- üî• ÿ≠ŸÇŸÑ ÿßŸÑÿ•ÿØÿÆÿßŸÑ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ -->
                <div class="chat-input-area">
                    <div class="chat-input-container">
                        <input type="text" id="chat-input" placeholder="ÿßŸÉÿ™ÿ® ÿ±ÿ≥ÿßŸÑÿ™ŸÉ ŸáŸÜÿß..." 
                               onkeypress="if(event.key === 'Enter') sendEnhancedMessage()">
                    </div>
                    <button class="chat-send-btn" onclick="sendEnhancedMessage()">
                        ‚û§
                    </button>
                </div>
            `;
            
            chatLayer.style.display = 'flex';
            document.getElementById('chat-input').focus();
            
            // üî• ÿ™ÿ≠ŸÖŸäŸÑ ŸÖÿ≠ÿßÿØÿ´ÿßÿ™ ÿ≥ÿßÿ®ŸÇÿ©
            loadChatMessages();
        }
        
        function loadChatMessages() {
            const chatMsgs = document.getElementById('chat-msgs');
            
            // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖÿ≠ÿßÿØÿ´ÿßÿ™ ÿ≥ÿßÿ®ŸÇÿ© ŸÖŸÜ localStorage
            const chatId = `chat_${currentAd.id}`;
            const savedMessages = JSON.parse(localStorage.getItem(chatId)) || [];
            
            savedMessages.forEach(msg => {
                const msgDiv = document.createElement('div');
                msgDiv.className = `msg ${msg.type}`;
                
                if (msg.mediaType === 'image') {
                    msgDiv.innerHTML = `
                        <div class="media-msg ${msg.type}">
                            <div class="media-preview">
                                <img src="${msg.content}" alt="ÿµŸàÿ±ÿ©">
                            </div>
                            <div class="media-info">
                                <span class="media-icon">üì∑</span>
                                <span>ÿµŸàÿ±ÿ©</span>
                            </div>
                        </div>
                        <div class="msg-time">${msg.time}</div>
                    `;
                } else if (msg.mediaType === 'video') {
                    msgDiv.innerHTML = `
                        <div class="media-msg ${msg.type}">
                            <div class="media-preview">
                                <video controls>
                                    <source src="${msg.content}" type="video/mp4">
                                </video>
                            </div>
                            <div class="media-info">
                                <span class="media-icon">üé¨</span>
                                <span>ŸÅŸäÿØŸäŸà</span>
                            </div>
                        </div>
                        <div class="msg-time">${msg.time}</div>
                    `;
                } else if (msg.mediaType === 'audio') {
                    msgDiv.innerHTML = `
                        <div class="media-msg ${msg.type}">
                            <div class="audio-player">
                                <audio controls>
                                    <source src="${msg.content}" type="audio/wav">
                                </audio>
                            </div>
                            <div class="media-info">
                                <span class="media-icon">üé§</span>
                                <span>ÿ±ÿ≥ÿßŸÑÿ© ÿµŸàÿ™Ÿäÿ©</span>
                            </div>
                        </div>
                        <div class="msg-time">${msg.time}</div>
                    `;
                } else {
                    msgDiv.innerHTML = `
                        <div>${msg.content}</div>
                        <div class="msg-time">${msg.time}</div>
                    `;
                }
                
                chatMsgs.appendChild(msgDiv);
            });
            
            chatMsgs.scrollTop = chatMsgs.scrollHeight;
            
            // üî• ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä ŸÖŸÜ ÿßŸÑÿ®ÿßÿ¶ÿπ
            setTimeout(() => {
                const replies = [
                    "ŸÖÿ±ÿ≠ÿ®ÿßŸã! ÿ¥ŸÉÿ±ÿßŸã ŸÑÿßŸáÿ™ŸÖÿßŸÖŸÉ ÿ®ŸÖŸÜÿ™ÿ¨Ÿä üòä",
                    "ŸÜÿπŸÖÿå ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖÿ™ŸàŸÅÿ± ÿ≠ÿßŸÑŸäÿßŸã ‚úÖ",
                    "ÿßŸÑÿ≥ÿπÿ± ŸÇÿßÿ®ŸÑ ŸÑŸÑÿ™ŸÅÿßŸàÿ∂ ŸÇŸÑŸäŸÑÿßŸã üí∞",
                    "ŸäŸÖŸÉŸÜŸÜŸä ÿ™ŸàÿµŸäŸÑŸá ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ© üöö",
                    "ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿ®ÿ≠ÿßŸÑÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ© ŸÉŸÖÿß ŸÅŸä ÿßŸÑÿµŸàÿ± ‚ú®",
                    "ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ£ÿÆÿ±Ÿâ ÿπŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿü ü§î"
                ];
                
                const randomReply = replies[Math.floor(Math.random() * replies.length)];
                
                addMessageToChat(randomReply, 'received', 'text');
            }, 1000);
        }
        
        function sendEnhancedMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            
            if (!text) return;
            
            addMessageToChat(text, 'sent', 'text');
            input.value = '';
            
            // üî• ÿ±ÿØ ÿ∞ŸÉŸä ŸÖŸÜ ÿßŸÑÿ®ÿßÿ¶ÿπ ÿ®ÿπÿØ 1-3 ÿ´ŸàÿßŸÜ
            setTimeout(() => {
                const smartReplies = {
                    'ÿ≥ÿπÿ±': ["ÿßŸÑÿ≥ÿπÿ± ${currentAd.price} üí∞", "ÿßŸÑÿ≥ÿπÿ± ŸÇÿßÿ®ŸÑ ŸÑŸÑÿ™ŸÅÿßŸàÿ∂ üëç", "ŸÖÿß ŸáŸà ÿßŸÑÿ≥ÿπÿ± ÿßŸÑÿ∞Ÿä ÿ™ÿ™ŸàŸÇÿπŸáÿü ü§î"],
                    'ÿ≠ÿßŸÑÿ©': ["ÿßŸÑŸÖŸÜÿ™ÿ¨ ÿ®ÿ≠ÿßŸÑÿ© ${currentAd.condition} ‚ú®", "ÿßŸÑÿ≠ÿßŸÑÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ© ŸÉŸÖÿß ŸÅŸä ÿßŸÑÿµŸàÿ± üòä"],
                    'ÿ™ŸàÿµŸäŸÑ': ["ÿßŸÑÿ™ŸàÿµŸäŸÑ ŸÖÿ™ÿßÿ≠ üöö", "ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ŸàÿµŸäŸÑ ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ© ‚è∞"],
                    'ÿ∂ŸÖÿßŸÜ': ["ŸáŸÜÿßŸÉ ÿ∂ŸÖÿßŸÜ 3 ÿ£ŸäÿßŸÖ ‚úÖ", "ŸäŸÖŸÉŸÜŸÉ ŸÅÿ≠ÿµ ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÇÿ®ŸÑ ÿßŸÑÿ¥ÿ±ÿßÿ° üîç"]
                };
                
                let reply = "ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿ≥ÿ§ÿßŸÑŸÉ! ŸáŸÑ ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ£ÿÆÿ±Ÿâÿü üòä";
                
                for (const [keyword, replies] of Object.entries(smartReplies)) {
                    if (text.includes(keyword)) {
                        reply = replies[Math.floor(Math.random() * replies.length)];
                        break;
                    }
                }
                
                // ÿßÿ≥ÿ™ÿ®ÿØÿßŸÑ ÿßŸÑŸÖÿ™ÿ∫Ÿäÿ±ÿßÿ™ ŸÅŸä ÿßŸÑÿ±ÿØ
                reply = reply.replace('${currentAd.price}', currentAd.price);
                reply = reply.replace('${currentAd.condition}', currentAd.condition);
                
                addMessageToChat(reply, 'received', 'text');
            }, 1000 + Math.random() * 2000);
        }
        
        function addMessageToChat(content, type, mediaType = 'text') {
            const chatMsgs = document.getElementById('chat-msgs');
            const msgDiv = document.createElement('div');
            msgDiv.className = `msg ${type}`;
            
            const time = new Date().toLocaleTimeString('ar-SY');
            
            if (mediaType === 'image') {
                msgDiv.innerHTML = `
                    <div class="media-msg ${type}">
                        <div class="media-preview">
                            <img src="${content}" alt="ÿµŸàÿ±ÿ©">
                        </div>
                        <div class="media-info">
                            <span class="media-icon">üì∑</span>
                            <span>ÿµŸàÿ±ÿ©</span>
                        </div>
                    </div>
                    <div class="msg-time">${time}</div>
                `;
            } else if (mediaType === 'video') {
                msgDiv.innerHTML = `
                    <div class="media-msg ${type}">
                        <div class="media-preview">
                            <video controls>
                                <source src="${content}" type="video/mp4">
                            </video>
                        </div>
                        <div class="media-info">
                            <span class="media-icon">üé¨</span>
                            <span>ŸÅŸäÿØŸäŸà</span>
                        </div>
                    </div>
                    <div class="msg-time">${time}</div>
                `;
            } else if (mediaType === 'audio') {
                msgDiv.innerHTML = `
                    <div class="media-msg ${type}">
                        <div class="audio-player">
                            <audio controls>
                                <source src="${content}" type="audio/wav">
                            </audio>
                        </div>
                        <div class="media-info">
                            <span class="media-icon">üé§</span>
                            <span>ÿ±ÿ≥ÿßŸÑÿ© ÿµŸàÿ™Ÿäÿ©</span>
                        </div>
                    </div>
                    <div class="msg-time">${time}</div>
                `;
            } else {
                msgDiv.innerHTML = `
                    <div>${content}</div>
                    <div class="msg-time">${time}</div>
                `;
            }
            
            chatMsgs.appendChild(msgDiv);
            chatMsgs.scrollTop = chatMsgs.scrollHeight;
            
            // üî• ÿ≠ŸÅÿ∏ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ŸÅŸä localStorage
            saveMessageToStorage(content, type, mediaType, time);
        }
        
        function saveMessageToStorage(content, type, mediaType, time) {
            const chatId = `chat_${currentAd.id}`;
            const messages = JSON.parse(localStorage.getItem(chatId)) || [];
            
            messages.push({
                content: content,
                type: type,
                mediaType: mediaType,
                time: time
            });
            
            localStorage.setItem(chatId, JSON.stringify(messages));
        }
        
        // üî• ÿ•ÿ±ÿ≥ÿßŸÑ ÿµŸàÿ±ÿ©
        function sendPhoto() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    addMessageToChat(e.target.result, 'sent', 'image');
                    
                    // üî• ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿ©
                    setTimeout(() => {
                        addMessageToChat('ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿßŸÑÿµŸàÿ±ÿ©! ÿßŸÑŸÖŸÜÿ™ÿ¨ ŸÖÿ¥ÿßÿ®Ÿá ÿ™ŸÖÿßŸÖÿßŸã ŸÉŸÖÿß ŸÅŸä ÿµŸàÿ±ÿ™Ÿä üì∏', 'received', 'text');
                    }, 1500);
                };
                reader.readAsDataURL(file);
            };
            
            input.click();
        }
        
        // üî• ÿ•ÿ±ÿ≥ÿßŸÑ ŸÅŸäÿØŸäŸà
        function sendVideo() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'video/*';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                if (file.size > 10 * 1024 * 1024) { // 10MB
                    showNotification('ÿ≠ÿ¨ŸÖ ÿßŸÑŸÅŸäÿØŸäŸà ŸÉÿ®Ÿäÿ± ÿ¨ÿØÿßŸã (ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ 10MB)', 'warning');
                    return;
                }
                
                const url = URL.createObjectURL(file);
                addMessageToChat(url, 'sent', 'video');
                
                // üî• ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿπŸÑŸâ ÿßŸÑŸÅŸäÿØŸäŸà
                setTimeout(() => {
                    addMessageToChat('ŸÅŸäÿØŸäŸà ÿ±ÿßÿ¶ÿπ! ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿßŸÑÿ™Ÿàÿ∂Ÿäÿ≠ üé¨', 'received', 'text');
                }, 1500);
            };
            
            input.click();
        }
        
        // üî• ÿ™ÿ≥ÿ¨ŸäŸÑ ÿµŸàÿ™
        function startRecording() {
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                showNotification('ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÑÿß ŸäÿØÿπŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿµŸàÿ™', 'error');
                return;
            }
            
            navigator.mediaDevices.getUserMedia({ audio: true })
                .then(stream => {
                    mediaRecorder = new MediaRecorder(stream);
                    audioChunks = [];
                    
                    mediaRecorder.ondataavailable = event => {
                        audioChunks.push(event.data);
                    };
                    
                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                        const audioUrl = URL.createObjectURL(audioBlob);
                        
                        // ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿ≥ÿßŸÑÿ© ÿµŸàÿ™Ÿäÿ© ÿ•ŸÑŸâ ÿßŸÑÿØÿ±ÿØÿ¥ÿ©
                        addMessageToChat(audioUrl, 'sent', 'audio');
                        
                        // ÿ•ŸäŸÇÿßŸÅ ÿßŸÑŸÖŸäŸÉÿ±ŸàŸÅŸàŸÜ
                        stream.getTracks().forEach(track => track.stop());
                        
                        // üî• ÿ±ÿØ ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿπŸÑŸâ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿµŸàÿ™Ÿäÿ©
                        setTimeout(() => {
                            addMessageToChat('ÿ¥ŸÉÿ±ÿßŸã ÿπŸÑŸâ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿµŸàÿ™Ÿäÿ©! ÿ≥ÿ£ÿπŸàÿØ ÿ•ŸÑŸäŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã üé§', 'received', 'text');
                        }, 1500);
                    };
                    
                    // ÿ®ÿØÿ° ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ
                    mediaRecorder.start();
                    
                    // ÿπÿ±ÿ∂ ŸÖÿ≥ÿ¨ŸÑ ÿßŸÑÿµŸàÿ™
                    document.getElementById('voiceRecorder').classList.add('active');
                    
                    // ÿ®ÿØÿ° ÿßŸÑŸÖÿ§ŸÇÿ™
                    recordingSeconds = 0;
                    recordingTimer = setInterval(() => {
                        recordingSeconds++;
                        const minutes = Math.floor(recordingSeconds / 60);
                        const seconds = recordingSeconds % 60;
                        document.getElementById('recordingTimer').textContent = 
                            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    }, 1000);
                    
                    // ÿ≤ÿ± ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ
                    document.getElementById('stopRecordingBtn').onclick = () => {
                        mediaRecorder.stop();
                        clearInterval(recordingTimer);
                        document.getElementById('voiceRecorder').classList.remove('active');
                    };
                })
                .catch(err => {
                    showNotification('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ÿßŸÑŸÖŸäŸÉÿ±ŸàŸÅŸàŸÜ: ' + err.message, 'error');
                });
        }
        
        function cancelRecording() {
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
            }
            clearInterval(recordingTimer);
            document.getElementById('voiceRecorder').classList.remove('active');
        }
        
        function closeChat() {
            document.getElementById('chat-layer').style.display = 'none';
            
            // ÿ•ŸäŸÇÿßŸÅ ÿ£Ÿä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿµŸàÿ™Ÿä ÿ¨ÿßÿ±Ÿä
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
            }
        }
        
        function toggleCategories() {
            const menu = document.getElementById('categoriesMenu');
            if (menu) {
                menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
            }
        }
        
        function filterAdsByCategory(category) {
            const ads = document.querySelectorAll('.ad-card');
            ads.forEach(ad => {
                const adCategory = ad.dataset.category;
                if (category === 'ÿ¨ŸÖŸäÿπ' || adCategory === category) {
                    ad.style.display = 'block';
                } else {
                    ad.style.display = 'none';
                }
            });
        }
        
        function deleteAd(adId) {
            if (!confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿπŸÑÿßŸÜÿü')) return;
            
            let ads = JSON.parse(localStorage.getItem('mostaml_ads')) || [];
            ads = ads.filter(ad => ad.id !== adId);
            localStorage.setItem('mostaml_ads', JSON.stringify(ads));
            
            if (currentUser) {
                currentUser.adsCount = Math.max(0, (currentUser.adsCount || 1) - 1);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                let users = JSON.parse(localStorage.getItem('mostaml_users')) || [];
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('mostaml_users', JSON.stringify(users));
                }
            }
            
            closeProduct();
            loadAdsFromStorage();
            showNotification('ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿπŸÑÿßŸÜ', 'success');
        }
        
        // üî• ÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑŸÇÿØŸäŸÖ Ÿàÿßÿ≥ÿ™ÿ®ÿØÿßŸÑŸá ÿ®ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä
        
        // ========================
        // üî• ÿØÿßŸÑÿ© ŸÖŸàÿØÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
        // ========================
        
        function showNotifications() {
            const modal = document.getElementById('notifications-modal');
            const list = document.getElementById('notifications-list');
            const markAllContainer = document.getElementById('mark-all-read-container');
            
            if (notifications.length === 0) {
                list.innerHTML = `
                    <div class="no-notifications">
                        üì≠ ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ¨ÿØŸäÿØÿ©
                        <div style="font-size:14px; margin-top:10px;">ÿ≥Ÿäÿ∏Ÿáÿ± ŸáŸÜÿß ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ŸàÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ</div>
                    </div>
                `;
                markAllContainer.style.display = 'none';
            } else {
                list.innerHTML = '';
                
                notifications.forEach((notification, index) => {
                    const item = document.createElement('div');
                    item.className = `notification-item ${notification.read ? '' : 'unread'}`;
                    
                    let icon = 'üîî';
                    if (notification.title.includes('ÿ∑ŸÑÿ®')) icon = 'üõí';
                    if (notification.title.includes('ÿ±ÿ≥ÿßŸÑÿ©')) icon = 'üí¨';
                    if (notification.title.includes('ŸÜÿ¨ÿßÿ≠')) icon = '‚úÖ';
                    if (notification.title.includes('ÿ™ÿ≠ÿ∞Ÿäÿ±')) icon = '‚ö†Ô∏è';
                    
                    item.innerHTML = `
                        <div class="notification-icon">${icon}</div>
                        <div class="notification-content">
                            <div class="notification-title">${notification.title}</div>
                            <div class="notification-message">${notification.message}</div>
                            <div class="notification-time">${notification.date}</div>
                        </div>
                    `;
                    
                    item.onclick = () => {
                        notifications[index].read = true;
                        localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                        updateNotificationBadge();
                        renderNotifications();
                    };
                    
                    list.appendChild(item);
                });
                
                const unreadCount = notifications.filter(n => !n.read).length;
                if (unreadCount > 0) {
                    markAllContainer.style.display = 'block';
                } else {
                    markAllContainer.style.display = 'none';
                }
            }
            
            modal.style.display = 'flex';
        }
        
        function renderNotifications() {
            const list = document.getElementById('notifications-list');
            const markAllContainer = document.getElementById('mark-all-read-container');
            
            if (notifications.length === 0) {
                list.innerHTML = `
                    <div class="no-notifications">
                        üì≠ ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ¨ÿØŸäÿØÿ©
                        <div style="font-size:14px; margin-top:10px;">ÿ≥Ÿäÿ∏Ÿáÿ± ŸáŸÜÿß ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ŸàÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ</div>
                    </div>
                `;
                markAllContainer.style.display = 'none';
                return;
            }
            
            list.innerHTML = '';
            
            notifications.forEach((notification, index) => {
                const item = document.createElement('div');
                item.className = `notification-item ${notification.read ? '' : 'unread'}`;
                
                let icon = 'üîî';
                if (notification.title.includes('ÿ∑ŸÑÿ®')) icon = 'üõí';
                if (notification.title.includes('ÿ±ÿ≥ÿßŸÑÿ©')) icon = 'üí¨';
                if (notification.title.includes('ŸÜÿ¨ÿßÿ≠')) icon = '‚úÖ';
                if (notification.title.includes('ÿ™ÿ≠ÿ∞Ÿäÿ±')) icon = '‚ö†Ô∏è';
                
                item.innerHTML = `
                    <div class="notification-icon">${icon}</div>
                    <div class="notification-content">
                        <div class="notification-title">${notification.title}</div>
                        <div class="notification-message">${notification.message}</div>
                        <div class="notification-time">${notification.date}</div>
                    </div>
                `;
                
                item.onclick = () => {
                    notifications[index].read = true;
                    localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
                    updateNotificationBadge();
                    renderNotifications();
                };
                
                list.appendChild(item);
            });
            
            const unreadCount = notifications.filter(n => !n.read).length;
            if (unreadCount > 0) {
                markAllContainer.style.display = 'block';
            } else {
                markAllContainer.style.display = 'none';
            }
        }
        
        function closeNotifications() {
            document.getElementById('notifications-modal').style.display = 'none';
        }
        
        function markAllAsRead() {
            notifications.forEach(notification => {
                notification.read = true;
            });
            localStorage.setItem('mostaml_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            renderNotifications();
            showNotification('ÿ™ŸÖ ÿ™ÿπŸäŸäŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÉŸÖŸÇÿ±Ÿàÿ°ÿ© ‚úÖ', 'success');
        }
        
        function openPost() {
            resetUploadForm();
            document.getElementById('upload-modal').style.display = 'flex';
            
            const categorySelect = document.getElementById('u-category');
            if (categorySelect && categorySelect.options.length <= 1) {
                categorySelect.innerHTML = '<option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©</option>';
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    categorySelect.appendChild(option);
                });
            }
        }
        
        function closePost() {
            document.getElementById('upload-modal').style.display = 'none';
            resetUploadForm();
        }
    </script>
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCLrmYOP756pzA6F1PfgxODlZOJiYt408s",
    authDomain: "mostaml-syria-5613f.firebaseapp.com",
    databaseURL: "https://mostaml-syria-5613f-default-rtdb.firebaseio.com",
    projectId: "mostaml-syria-5613f",
    storageBucket: "mostaml-syria-5613f.firebasestorage.app",
    messagingSenderId: "516945765729",
    appId: "1:516945765729:web:1b97da284fc2e090965120"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>